!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=it.type(e);return"function"===n||it.isWindow(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(it.isFunction(t))return it.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return it.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(gt.test(t))return it.filter(t,e,n);t=it.filter(t,e)}return it.grep(e,function(e){return Z.call(t,e)>-1!==n})}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function i(e){var t={};return it.each(e.match(_t)||[],function(e,n){t[n]=!0}),t}function a(){G.removeEventListener("DOMContentLoaded",a),e.removeEventListener("load",a),it.ready()}function s(){this.expando=it.expando+s.uid++}function l(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(kt,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Tt.test(n)?it.parseJSON(n):n}catch(o){}St.set(e,t,n)}else n=void 0;return n}function c(e,t,n,r){var o,i=1,a=20,s=r?function(){return r.cur()}:function(){return it.css(e,t,"")},l=s(),c=n&&n[3]||(it.cssNumber[t]?"":"px"),u=(it.cssNumber[t]||"px"!==c&&+l)&&Nt.exec(it.css(e,t));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do i=i||".5",u/=i,it.style(e,t,u+c);while(i!==(i=s()/l)&&1!==i&&--a)}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=o)),o}function u(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&it.nodeName(e,t)?it.merge([e],n):n}function d(e,t){for(var n=0,r=e.length;r>n;n++)At.set(e[n],"globalEval",!t||At.get(t[n],"globalEval"))}function f(e,t,n,r,o){for(var i,a,s,l,c,f,p=t.createDocumentFragment(),h=[],g=0,m=e.length;m>g;g++)if(i=e[g],i||0===i)if("object"===it.type(i))it.merge(h,i.nodeType?[i]:i);else if(Lt.test(i)){for(a=a||p.appendChild(t.createElement("div")),s=(Pt.exec(i)||["",""])[1].toLowerCase(),l=Dt[s]||Dt._default,a.innerHTML=l[1]+it.htmlPrefilter(i)+l[2],f=l[0];f--;)a=a.lastChild;it.merge(h,a.childNodes),a=p.firstChild,a.textContent=""}else h.push(t.createTextNode(i));for(p.textContent="",g=0;i=h[g++];)if(r&&it.inArray(i,r)>-1)o&&o.push(i);else if(c=it.contains(i.ownerDocument,i),a=u(p.appendChild(i),"script"),c&&d(a),n)for(f=0;i=a[f++];)Rt.test(i.type||"")&&n.push(i);return p}function p(){return!0}function h(){return!1}function g(){try{return G.activeElement}catch(e){}}function m(e,t,n,r,o,i){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)m(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),o===!1)o=h;else if(!o)return e;return 1===i&&(a=o,o=function(e){return it().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=it.guid++)),e.each(function(){it.event.add(this,t,o,r,n)})}function v(e,t){return it.nodeName(e,"table")&&it.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function y(e){var t=Vt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function E(e,t){var n,r,o,i,a,s,l,c;if(1===t.nodeType){if(At.hasData(e)&&(i=At.access(e),a=At.set(t,i),c=i.events)){delete a.handle,a.events={};for(o in c)for(n=0,r=c[o].length;r>n;n++)it.event.add(t,o,c[o][n])}St.hasData(e)&&(s=St.access(e),l=it.extend({},s),St.set(t,l))}}function _(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ot.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function w(e,t,n,r){t=X.apply([],t);var o,i,a,s,l,c,d=0,p=e.length,h=p-1,g=t[0],m=it.isFunction(g);if(m||p>1&&"string"==typeof g&&!rt.checkClone&&Bt.test(g))return e.each(function(o){var i=e.eq(o);m&&(t[0]=g.call(this,o,i.html())),w(i,t,n,r)});if(p&&(o=f(t,e[0].ownerDocument,!1,e,r),i=o.firstChild,1===o.childNodes.length&&(o=i),i||r)){for(a=it.map(u(o,"script"),b),s=a.length;p>d;d++)l=o,d!==h&&(l=it.clone(l,!0,!0),s&&it.merge(a,u(l,"script"))),n.call(e[d],l,d);if(s)for(c=a[a.length-1].ownerDocument,it.map(a,y),d=0;s>d;d++)l=a[d],Rt.test(l.type||"")&&!At.access(l,"globalEval")&&it.contains(c,l)&&(l.src?it._evalUrl&&it._evalUrl(l.src):it.globalEval(l.textContent.replace(Wt,"")))}return e}function C(e,t,n){for(var r,o=t?it.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||it.cleanData(u(r)),r.parentNode&&(n&&it.contains(r.ownerDocument,r)&&d(u(r,"script")),r.parentNode.removeChild(r));return e}function $(e,t){var n=it(t.createElement(e)).appendTo(t.body),r=it.css(n[0],"display");return n.detach(),r}function A(e){var t=G,n=Yt[e];return n||(n=$(e,t),"none"!==n&&n||(zt=(zt||it("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=zt[0].contentDocument,t.write(),t.close(),n=$(e,t),zt.detach()),Yt[e]=n),n}function S(e,t,n){var r,o,i,a,s=e.style;return n=n||Qt(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||it.contains(e.ownerDocument,e)||(a=it.style(e,t)),n&&!rt.pixelMarginRight()&&Gt.test(a)&&Kt.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i),void 0!==a?a+"":a}function T(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function k(e){if(e in rn)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=nn.length;n--;)if(e=nn[n]+t,e in rn)return e}function x(e,t,n){var r=Nt.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function N(e,t,n,r,o){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>i;i+=2)"margin"===n&&(a+=it.css(e,n+Mt[i],!0,o)),r?("content"===n&&(a-=it.css(e,"padding"+Mt[i],!0,o)),"margin"!==n&&(a-=it.css(e,"border"+Mt[i]+"Width",!0,o))):(a+=it.css(e,"padding"+Mt[i],!0,o),"padding"!==n&&(a+=it.css(e,"border"+Mt[i]+"Width",!0,o)));return a}function M(t,n,r){var o=!0,i="width"===n?t.offsetWidth:t.offsetHeight,a=Qt(t),s="border-box"===it.css(t,"boxSizing",!1,a);if(G.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(i=Math.round(100*t.getBoundingClientRect()[n])),0>=i||null==i){if(i=S(t,n,a),(0>i||null==i)&&(i=t.style[n]),Gt.test(i))return i;o=s&&(rt.boxSizingReliable()||i===t.style[n]),i=parseFloat(i)||0}return i+N(t,n,r||(s?"border":"content"),o,a)+"px"}function I(e,t){for(var n,r,o,i=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(i[a]=At.get(r,"olddisplay"),n=r.style.display,t?(i[a]||"none"!==n||(r.style.display=""),""===r.style.display&&It(r)&&(i[a]=At.access(r,"olddisplay",A(r.nodeName)))):(o=It(r),"none"===n&&o||At.set(r,"olddisplay",o?n:it.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?i[a]||"":"none"));return e}function O(e,t,n,r,o){return new O.prototype.init(e,t,n,r,o)}function P(){return e.setTimeout(function(){on=void 0}),on=it.now()}function R(e,t){var n,r=0,o={height:e};for(t=t?1:0;4>r;r+=2-t)n=Mt[r],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function D(e,t,n){for(var r,o=(j.tweeners[t]||[]).concat(j.tweeners["*"]),i=0,a=o.length;a>i;i++)if(r=o[i].call(n,t,e))return r}function L(e,t,n){var r,o,i,a,s,l,c,u,d=this,f={},p=e.style,h=e.nodeType&&It(e),g=At.get(e,"fxshow");n.queue||(s=it._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,it.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=it.css(e,"display"),u="none"===c?At.get(e,"olddisplay")||A(e.nodeName):c,"inline"===u&&"none"===it.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],sn.exec(o)){if(delete t[r],i=i||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!g||void 0===g[r])continue;h=!0}f[r]=g&&g[r]||it.style(e,r)}else c=void 0;if(it.isEmptyObject(f))"inline"===("none"===c?A(e.nodeName):c)&&(p.display=c);else{g?"hidden"in g&&(h=g.hidden):g=At.access(e,"fxshow",{}),i&&(g.hidden=!h),h?it(e).show():d.done(function(){it(e).hide()}),d.done(function(){var t;At.remove(e,"fxshow");for(t in f)it.style(e,t,f[t])});for(r in f)a=D(h?g[r]:0,r,d),r in g||(g[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function F(e,t){var n,r,o,i,a;for(n in e)if(r=it.camelCase(n),o=t[r],i=e[n],it.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),a=it.cssHooks[r],a&&"expand"in a){i=a.expand(i),delete e[r];for(n in i)n in e||(e[n]=i[n],t[n]=o)}else t[r]=o}function j(e,t,n){var r,o,i=0,a=j.prefilters.length,s=it.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=on||P(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,i=1-r,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(i);return s.notifyWith(e,[c,i,n]),1>i&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:it.extend({},t),opts:it.extend(!0,{specialEasing:{},easing:it.easing._default},n),originalProperties:t,originalOptions:n,startTime:on||P(),duration:n.duration,tweens:[],createTween:function(t,n){var r=it.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;r>n;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(F(u,c.opts.specialEasing);a>i;i++)if(r=j.prefilters[i].call(c,e,u,c.opts))return it.isFunction(r.stop)&&(it._queueHooks(c.elem,c.opts.queue).stop=it.proxy(r.stop,r)),r;return it.map(u,D,c),it.isFunction(c.opts.start)&&c.opts.start.call(e,c),it.fx.timer(it.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(e){return e.getAttribute&&e.getAttribute("class")||""}function q(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(_t)||[];if(it.isFunction(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function U(e,t,n,r){function o(s){var l;return i[s]=!0,it.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||a||i[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}var i={},a=e===Sn;return o(t.dataTypes[0])||!i["*"]&&o("*")}function B(e,t){var n,r,o=it.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&it.extend(!0,e,r),e}function V(e,t,n){for(var r,o,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}return i?(i!==l[0]&&l.unshift(i),n[i]):void 0}function W(e,t,n,r){var o,i,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=u.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=u.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(a=c[l+" "+i]||c["* "+i],!a)for(o in c)if(s=o.split(" "),s[1]===i&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[o]:c[o]!==!0&&(i=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}function z(e,t,n,r){var o;if(it.isArray(t))it.each(t,function(t,o){n||Nn.test(e)?r(e,o):z(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==it.type(t))r(e,t);else for(o in t)z(e+"["+o+"]",t[o],n,r)}function Y(e){return it.isWindow(e)?e:9===e.nodeType&&e.defaultView}var K=[],G=e.document,Q=K.slice,X=K.concat,J=K.push,Z=K.indexOf,et={},tt=et.toString,nt=et.hasOwnProperty,rt={},ot="2.2.1",it=function(e,t){return new it.fn.init(e,t)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,lt=/-([\da-z])/gi,ct=function(e,t){return t.toUpperCase()};it.fn=it.prototype={jquery:ot,constructor:it,selector:"",length:0,toArray:function(){return Q.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Q.call(this)},pushStack:function(e){var t=it.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return it.each(this,e)},map:function(e){return this.pushStack(it.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:K.sort,splice:K.splice},it.extend=it.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||it.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(c&&r&&(it.isPlainObject(r)||(o=it.isArray(r)))?(o?(o=!1,i=n&&it.isArray(n)?n:[]):i=n&&it.isPlainObject(n)?n:{},a[t]=it.extend(c,i,r)):void 0!==r&&(a[t]=r));return a},it.extend({expando:"jQuery"+(ot+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===it.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!it.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){return"object"!==it.type(e)||e.nodeType||it.isWindow(e)?!1:e.constructor&&!nt.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?et[tt.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=it.trim(e),e&&(1===e.indexOf("use strict")?(t=G.createElement("script"),t.text=e,G.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(st,"ms-").replace(lt,ct)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,o=0;if(n(e))for(r=e.length;r>o&&t.call(e[o],o,e[o])!==!1;o++);else for(o in e)if(t.call(e[o],o,e[o])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(at,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?it.merge(r,"string"==typeof e?[e]:e):J.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:Z.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;n>r;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r,o=[],i=0,a=e.length,s=!n;a>i;i++)r=!t(e[i],i),r!==s&&o.push(e[i]);return o},map:function(e,t,r){var o,i,a=0,s=[];if(n(e))for(o=e.length;o>a;a++)i=t(e[a],a,r),null!=i&&s.push(i);else for(a in e)i=t(e[a],a,r),null!=i&&s.push(i);return X.apply([],s)},guid:1,proxy:function(e,t){var n,r,o;return"string"==typeof t&&(n=e[t],t=e,e=n),it.isFunction(e)?(r=Q.call(arguments,2),o=function(){return e.apply(t||this,r.concat(Q.call(arguments)))},o.guid=e.guid=e.guid||it.guid++,o):void 0},now:Date.now,support:rt}),"function"==typeof Symbol&&(it.fn[Symbol.iterator]=K[Symbol.iterator]),it.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){et["[object "+t+"]"]=t.toLowerCase()});var ut=function(e){function t(e,t,n,r){var o,i,a,s,l,c,d,p,h=t&&t.ownerDocument,g=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return n;if(!r&&((t?t.ownerDocument||t:H)!==I&&M(t),t=t||I,P)){if(11!==g&&(c=vt.exec(e)))if(o=c[1]){if(9===g){if(!(a=t.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(h&&(a=h.getElementById(o))&&F(t,a)&&a.id===o)return n.push(a),n}else{if(c[2])return J.apply(n,t.getElementsByTagName(e)),n;if((o=c[3])&&_.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(o)),n}if(!(!_.qsa||W[e+" "]||R&&R.test(e))){if(1!==g)h=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(yt,"\\$&"):t.setAttribute("id",s=j),d=A(e),i=d.length,l=ft.test(s)?"#"+s:"[id='"+s+"']";i--;)d[i]=l+" "+f(d[i]);p=d.join(","),h=bt.test(e)&&u(t.parentNode)||t}if(p)try{return J.apply(n,h.querySelectorAll(p)),n}catch(m){}finally{s===j&&t.removeAttribute("id")}}}return T(e.replace(st,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[j]=!0,e}function o(e){var t=I.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=U++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,l,c,u=[q,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if(c=t[j]||(t[j]={}),l=c[t.uniqueID]||(c[t.uniqueID]={}),(s=l[r])&&s[0]===q&&s[1]===i)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var o=0,i=n.length;i>o;o++)t(e,n[o],r);return r}function m(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(i=e[s])&&(!n||n(i,r,o))&&(a.push(i),c&&t.push(s));return a}function v(e,t,n,o,i,a){return o&&!o[j]&&(o=v(o)),i&&!i[j]&&(i=v(i,a)),r(function(r,a,s,l){var c,u,d,f=[],p=[],h=a.length,v=r||g(t||"*",s.nodeType?[s]:s,[]),b=!e||!r&&t?v:m(v,f,e,s,l),y=n?i||(r?e:h||o)?[]:a:b;if(n&&n(b,y,s,l),o)for(c=m(y,p),o(c,[],s,l),u=c.length;u--;)(d=c[u])&&(y[p[u]]=!(b[p[u]]=d));if(r){if(i||e){if(i){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(b[u]=d);i(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=i?et(r,d):f[u])>-1&&(r[c]=!(a[c]=d))}}else y=m(y===a?y.splice(h,y.length):y),i?i(null,a,y,l):J.apply(a,y)})}function b(e){for(var t,n,r,o=e.length,i=w.relative[e[0].type],a=i||w.relative[" "],s=i?1:0,l=p(function(e){return e===t},a,!0),c=p(function(e){return et(t,e)>-1},a,!0),u=[function(e,n,r){var o=!i&&(r||n!==k)||((t=n).nodeType?l(e,n,r):c(e,n,r));return t=null,o}];o>s;s++)if(n=w.relative[e[s].type])u=[p(h(u),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),n[j]){for(r=++s;o>r&&!w.relative[e[r].type];r++);return v(s>1&&h(u),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(st,"$1"),n,r>s&&b(e.slice(s,r)),o>r&&b(e=e.slice(r)),o>r&&f(e))}u.push(n)}return h(u)}function y(e,n){var o=n.length>0,i=e.length>0,a=function(r,a,s,l,c){var u,d,f,p=0,h="0",g=r&&[],v=[],b=k,y=r||i&&w.find.TAG("*",c),E=q+=null==b?1:Math.random()||.1,_=y.length;for(c&&(k=a===I||a||c);h!==_&&null!=(u=y[h]);h++){if(i&&u){for(d=0,a||u.ownerDocument===I||(M(u),s=!P);f=e[d++];)if(f(u,a||I,s)){l.push(u);break}c&&(q=E)}o&&((u=!f&&u)&&p--,r&&g.push(u))}if(p+=h,o&&h!==p){for(d=0;f=n[d++];)f(g,v,a,s);if(r){if(p>0)for(;h--;)g[h]||v[h]||(v[h]=Q.call(l));v=m(v)}J.apply(l,v),c&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return c&&(q=E,k=b),g};return o?r(a):a}var E,_,w,C,$,A,S,T,k,x,N,M,I,O,P,R,D,L,F,j="sizzle"+1*new Date,H=e.document,q=0,U=0,B=n(),V=n(),W=n(),z=function(e,t){return e===t&&(N=!0),0},Y=1<<31,K={}.hasOwnProperty,G=[],Q=G.pop,X=G.push,J=G.push,Z=G.slice,et=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",it=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ut=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(it),ft=new RegExp("^"+rt+"$"),pt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+it),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ht=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,yt=/'|\\/g,Et=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),_t=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},wt=function(){M()};try{J.apply(G=Z.call(H.childNodes),H.childNodes),G[H.childNodes.length].nodeType}catch(Ct){J={apply:G.length?function(e,t){X.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}_=t.support={},$=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},M=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:H;return r!==I&&9===r.nodeType&&r.documentElement?(I=r,O=I.documentElement,P=!$(I),(n=I.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",wt,!1):n.attachEvent&&n.attachEvent("onunload",wt)),_.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=o(function(e){return e.appendChild(I.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=mt.test(I.getElementsByClassName),_.getById=o(function(e){return O.appendChild(e).id=j,!I.getElementsByName||!I.getElementsByName(j).length}),_.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&P){var n=t.getElementById(e);return n?[n]:[]}},w.filter.ID=function(e){var t=e.replace(Et,_t);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(Et,_t);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=_.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):_.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},w.find.CLASS=_.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&P?t.getElementsByClassName(e):void 0},D=[],R=[],(_.qsa=mt.test(I.querySelectorAll))&&(o(function(e){O.appendChild(e).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+j+"-]").length||R.push("~="),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+j+"+*").length||R.push(".#.+[+~]")}),o(function(e){var t=I.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(_.matchesSelector=mt.test(L=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&o(function(e){_.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),D.push("!=",it)}),R=R.length&&new RegExp(R.join("|")),D=D.length&&new RegExp(D.join("|")),t=mt.test(O.compareDocumentPosition),F=t||mt.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},z=t?function(e,t){if(e===t)return N=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!_.sortDetached&&t.compareDocumentPosition(e)===n?e===I||e.ownerDocument===H&&F(H,e)?-1:t===I||t.ownerDocument===H&&F(H,t)?1:x?et(x,e)-et(x,t):0:4&n?-1:1)}:function(e,t){if(e===t)return N=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,s=[e],l=[t];if(!o||!i)return e===I?-1:t===I?1:o?-1:i?1:x?et(x,e)-et(x,t):0;if(o===i)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[r]===l[r];)r++;return r?a(s[r],l[r]):s[r]===H?-1:l[r]===H?1:0},I):I},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==I&&M(e),n=n.replace(ut,"='$1']"),!(!_.matchesSelector||!P||W[n+" "]||D&&D.test(n)||R&&R.test(n)))try{var r=L.call(e,n);if(r||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(o){}return t(n,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&M(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&M(e);var n=w.attrHandle[t.toLowerCase()],r=n&&K.call(w.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==r?r:_.attributes||!P?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(N=!_.detectDuplicates,x=!_.sortStable&&e.slice(0),e.sort(z),N){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return x=null,e},C=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},w=t.selectors={cacheLength:50,createPseudo:r,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Et,_t),e[3]=(e[3]||e[4]||e[5]||"").replace(Et,_t),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&dt.test(n)&&(t=A(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Et,_t).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var i=t.attr(o,e);return null==i?"!="===n:n?(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i.replace(at," ")+" ").indexOf(r)>-1:"|="===n?i===r||i.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,p,h,g=i!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s,y=!1;if(m){if(i){for(;g;){for(f=t;f=f[g];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&b){for(f=m,d=f[j]||(f[j]={}),u=d[f.uniqueID]||(d[f.uniqueID]={}),c=u[e]||[],p=c[0]===q&&c[1],y=p&&c[2],f=p&&m.childNodes[p];f=++p&&f&&f[g]||(y=p=0)||h.pop();)if(1===f.nodeType&&++y&&f===t){u[e]=[q,p,y];break}}else if(b&&(f=t,d=f[j]||(f[j]={}),u=d[f.uniqueID]||(d[f.uniqueID]={}),c=u[e]||[],p=c[0]===q&&c[1],y=p),y===!1)for(;(f=++p&&f&&f[g]||(y=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++y||(b&&(d=f[j]||(f[j]={}),u=d[f.uniqueID]||(d[f.uniqueID]={}),u[e]=[q,y]),f!==t)););return y-=o,y===r||y%r===0&&y/r>=0}}},PSEUDO:function(e,n){var o,i=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[j]?i(n):i.length>1?(o=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,o=i(e,n),a=o.length;a--;)r=et(e,o[a]),e[r]=!(t[r]=o[a])}):function(e){return i(e,0,o)}):i}},pseudos:{not:r(function(e){var t=[],n=[],o=S(e.replace(st,"$1"));return o[j]?r(function(e,t,n,r){for(var i,a=o(e,null,r,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,r,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(Et,_t),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return ft.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Et,_t).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return ht.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e
}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},w.pseudos.nth=w.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[E]=s(E);for(E in{submit:!0,reset:!0})w.pseudos[E]=l(E);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,A=t.tokenize=function(e,n){var r,o,i,a,s,l,c,u=V[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=w.preFilter;s;){(!r||(o=lt.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),r=!1,(o=ct.exec(s))&&(r=o.shift(),i.push({value:r,type:o[0].replace(st," ")}),s=s.slice(r.length));for(a in w.filter)!(o=pt[a].exec(s))||c[a]&&!(o=c[a](o))||(r=o.shift(),i.push({value:r,type:a,matches:o}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):V(e,l).slice(0)},S=t.compile=function(e,t){var n,r=[],o=[],i=W[e+" "];if(!i){for(t||(t=A(e)),n=t.length;n--;)i=b(t[n]),i[j]?r.push(i):o.push(i);i=W(e,y(o,r)),i.selector=e}return i},T=t.select=function(e,t,n,r){var o,i,a,s,l,c="function"==typeof e&&e,d=!r&&A(e=c.selector||e);if(n=n||[],1===d.length){if(i=d[0]=d[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&_.getById&&9===t.nodeType&&P&&w.relative[i[1].type]){if(t=(w.find.ID(a.matches[0].replace(Et,_t),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=pt.needsContext.test(e)?0:i.length;o--&&(a=i[o],!w.relative[s=a.type]);)if((l=w.find[s])&&(r=l(a.matches[0].replace(Et,_t),bt.test(i[0].type)&&u(t.parentNode)||t))){if(i.splice(o,1),e=r.length&&f(i),!e)return J.apply(n,r),n;break}}return(c||S(e,d))(r,t,!P,n,!t||bt.test(e)&&u(t.parentNode)||t),n},_.sortStable=j.split("").sort(z).join("")===j,_.detectDuplicates=!!N,M(),_.sortDetached=o(function(e){return 1&e.compareDocumentPosition(I.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||i(tt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);it.find=ut,it.expr=ut.selectors,it.expr[":"]=it.expr.pseudos,it.uniqueSort=it.unique=ut.uniqueSort,it.text=ut.getText,it.isXMLDoc=ut.isXML,it.contains=ut.contains;var dt=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&it(e).is(n))break;r.push(e)}return r},ft=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},pt=it.expr.match.needsContext,ht=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,gt=/^.[^:#\[\.,]*$/;it.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?it.find.matchesSelector(r,e)?[r]:[]:it.find.matches(e,it.grep(t,function(e){return 1===e.nodeType}))},it.fn.extend({find:function(e){var t,n=this.length,r=[],o=this;if("string"!=typeof e)return this.pushStack(it(e).filter(function(){for(t=0;n>t;t++)if(it.contains(o[t],this))return!0}));for(t=0;n>t;t++)it.find(e,o[t],r);return r=this.pushStack(n>1?it.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&pt.test(e)?it(e):e||[],!1).length}});var mt,vt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,bt=it.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||mt,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:vt.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof it?t[0]:t,it.merge(this,it.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:G,!0)),ht.test(r[1])&&it.isPlainObject(t))for(r in t)it.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return o=G.getElementById(r[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=G,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):it.isFunction(e)?void 0!==n.ready?n.ready(e):e(it):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),it.makeArray(e,this))};bt.prototype=it.fn,mt=it(G);var yt=/^(?:parents|prev(?:Until|All))/,Et={children:!0,contents:!0,next:!0,prev:!0};it.fn.extend({has:function(e){var t=it(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(it.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,o=this.length,i=[],a=pt.test(e)||"string"!=typeof e?it(e,t||this.context):0;o>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&it.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?it.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?Z.call(it(e),this[0]):Z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(it.uniqueSort(it.merge(this.get(),it(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),it.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return dt(e,"parentNode")},parentsUntil:function(e,t,n){return dt(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return dt(e,"nextSibling")},prevAll:function(e){return dt(e,"previousSibling")},nextUntil:function(e,t,n){return dt(e,"nextSibling",n)},prevUntil:function(e,t,n){return dt(e,"previousSibling",n)},siblings:function(e){return ft((e.parentNode||{}).firstChild,e)},children:function(e){return ft(e.firstChild)},contents:function(e){return e.contentDocument||it.merge([],e.childNodes)}},function(e,t){it.fn[e]=function(n,r){var o=it.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=it.filter(r,o)),this.length>1&&(Et[e]||it.uniqueSort(o),yt.test(e)&&o.reverse()),this.pushStack(o)}});var _t=/\S+/g;it.Callbacks=function(e){e="string"==typeof e?i(e):it.extend({},e);var t,n,r,o,a=[],s=[],l=-1,c=function(){for(o=e.once,r=t=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)a[l].apply(n[0],n[1])===!1&&e.stopOnFalse&&(l=a.length,n=!1);e.memory||(n=!1),t=!1,o&&(a=n?[]:"")},u={add:function(){return a&&(n&&!t&&(l=a.length-1,s.push(n)),function r(t){it.each(t,function(t,n){it.isFunction(n)?e.unique&&u.has(n)||a.push(n):n&&n.length&&"string"!==it.type(n)&&r(n)})}(arguments),n&&!t&&c()),this},remove:function(){return it.each(arguments,function(e,t){for(var n;(n=it.inArray(t,a,n))>-1;)a.splice(n,1),l>=n&&l--}),this},has:function(e){return e?it.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=s=[],n||(a=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},it.extend({Deferred:function(e){var t=[["resolve","done",it.Callbacks("once memory"),"resolved"],["reject","fail",it.Callbacks("once memory"),"rejected"],["notify","progress",it.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return it.Deferred(function(n){it.each(t,function(t,i){var a=it.isFunction(e[t])&&e[t];o[i[1]](function(){var e=a&&a.apply(this,arguments);e&&it.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?it.extend(e,r):r}},o={};return r.pipe=r.then,it.each(t,function(e,i){var a=i[2],s=i[3];r[i[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[i[0]]=function(){return o[i[0]+"With"](this===o?r:this,arguments),this},o[i[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,r,o=0,i=Q.call(arguments),a=i.length,s=1!==a||e&&it.isFunction(e.promise)?a:0,l=1===s?e:it.Deferred(),c=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?Q.call(arguments):o,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>o;o++)i[o]&&it.isFunction(i[o].promise)?i[o].promise().progress(c(o,n,t)).done(c(o,r,i)).fail(l.reject):--s;return s||l.resolveWith(r,i),l.promise()}});var wt;it.fn.ready=function(e){return it.ready.promise().done(e),this},it.extend({isReady:!1,readyWait:1,holdReady:function(e){e?it.readyWait++:it.ready(!0)},ready:function(e){(e===!0?--it.readyWait:it.isReady)||(it.isReady=!0,e!==!0&&--it.readyWait>0||(wt.resolveWith(G,[it]),it.fn.triggerHandler&&(it(G).triggerHandler("ready"),it(G).off("ready"))))}}),it.ready.promise=function(t){return wt||(wt=it.Deferred(),"complete"===G.readyState||"loading"!==G.readyState&&!G.documentElement.doScroll?e.setTimeout(it.ready):(G.addEventListener("DOMContentLoaded",a),e.addEventListener("load",a))),wt.promise(t)},it.ready.promise();var Ct=function(e,t,n,r,o,i,a){var s=0,l=e.length,c=null==n;if("object"===it.type(n)){o=!0;for(s in n)Ct(e,t,s,n[s],!0,i,a)}else if(void 0!==r&&(o=!0,it.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(it(e),n)})),t))for(;l>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):i},$t=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};s.uid=1,s.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!$t(e))return{};var t=e[this.expando];return t||(t={},$t(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[t]=n;else for(r in t)o[r]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,it.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,o,i=e[this.expando];if(void 0!==i){if(void 0===t)this.register(e);else{it.isArray(t)?r=t.concat(t.map(it.camelCase)):(o=it.camelCase(t),t in i?r=[t,o]:(r=o,r=r in i?[r]:r.match(_t)||[])),n=r.length;for(;n--;)delete i[r[n]]}(void 0===t||it.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!it.isEmptyObject(t)}};var At=new s,St=new s,Tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,kt=/[A-Z]/g;it.extend({hasData:function(e){return St.hasData(e)||At.hasData(e)},data:function(e,t,n){return St.access(e,t,n)},removeData:function(e,t){St.remove(e,t)},_data:function(e,t,n){return At.access(e,t,n)},_removeData:function(e,t){At.remove(e,t)}}),it.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=St.get(i),1===i.nodeType&&!At.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=it.camelCase(r.slice(5)),l(i,r,o[r])));At.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){St.set(this,e)}):Ct(this,function(t){var n,r;if(i&&void 0===t){if(n=St.get(i,e)||St.get(i,e.replace(kt,"-$&").toLowerCase()),void 0!==n)return n;if(r=it.camelCase(e),n=St.get(i,r),void 0!==n)return n;if(n=l(i,r,void 0),void 0!==n)return n}else r=it.camelCase(e),this.each(function(){var n=St.get(this,r);St.set(this,r,t),e.indexOf("-")>-1&&void 0!==n&&St.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){St.remove(this,e)})}}),it.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=At.get(e,t),n&&(!r||it.isArray(n)?r=At.access(e,t,it.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=it.queue(e,t),r=n.length,o=n.shift(),i=it._queueHooks(e,t),a=function(){it.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return At.get(e,n)||At.access(e,n,{empty:it.Callbacks("once memory").add(function(){At.remove(e,[t+"queue",n])})})}}),it.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?it.queue(this[0],e):void 0===t?this:this.each(function(){var n=it.queue(this,e,t);it._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&it.dequeue(this,e)})},dequeue:function(e){return this.each(function(){it.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=it.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=At.get(i[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Nt=new RegExp("^(?:([+-])=|)("+xt+")([a-z%]*)$","i"),Mt=["Top","Right","Bottom","Left"],It=function(e,t){return e=t||e,"none"===it.css(e,"display")||!it.contains(e.ownerDocument,e)},Ot=/^(?:checkbox|radio)$/i,Pt=/<([\w:-]+)/,Rt=/^$|\/(?:java|ecma)script/i,Dt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Dt.optgroup=Dt.option,Dt.tbody=Dt.tfoot=Dt.colgroup=Dt.caption=Dt.thead,Dt.th=Dt.td;var Lt=/<|&#?\w+;/;!function(){var e=G.createDocumentFragment(),t=e.appendChild(G.createElement("div")),n=G.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),rt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",rt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ft=/^key/,jt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ht=/^([^.]*)(?:\.(.+)|)/;it.event={global:{},add:function(e,t,n,r,o){var i,a,s,l,c,u,d,f,p,h,g,m=At.get(e);if(m)for(n.handler&&(i=n,n=i.handler,o=i.selector),n.guid||(n.guid=it.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(t){return"undefined"!=typeof it&&it.event.triggered!==t.type?it.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(_t)||[""],c=t.length;c--;)s=Ht.exec(t[c])||[],p=g=s[1],h=(s[2]||"").split(".").sort(),p&&(d=it.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=it.event.special[p]||{},u=it.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&it.expr.match.needsContext.test(o),namespace:h.join(".")},i),(f=l[p])||(f=l[p]=[],f.delegateCount=0,d.setup&&d.setup.call(e,r,h,a)!==!1||e.addEventListener&&e.addEventListener(p,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,u):f.push(u),it.event.global[p]=!0)},remove:function(e,t,n,r,o){var i,a,s,l,c,u,d,f,p,h,g,m=At.hasData(e)&&At.get(e);if(m&&(l=m.events)){for(t=(t||"").match(_t)||[""],c=t.length;c--;)if(s=Ht.exec(t[c])||[],p=g=s[1],h=(s[2]||"").split(".").sort(),p){for(d=it.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=l[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=f.length;i--;)u=f[i],!o&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(f.splice(i,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(e,u));a&&!f.length&&(d.teardown&&d.teardown.call(e,h,m.handle)!==!1||it.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)it.event.remove(e,p+t[c],n,r,!0);it.isEmptyObject(l)&&At.remove(e,"handle events")}},dispatch:function(e){e=it.event.fix(e);var t,n,r,o,i,a=[],s=Q.call(arguments),l=(At.get(this,"events")||{})[e.type]||[],c=it.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=it.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.rnamespace||e.rnamespace.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((it.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,i,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],n=0;s>n;n++)i=t[n],o=i.selector+" ",void 0===r[o]&&(r[o]=i.needsContext?it(o,this).index(l)>-1:it.find(o,this,null,[l]).length),r[o]&&r.push(i);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,i=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||G,r=n.documentElement,o=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),e.which||void 0===i||(e.which=1&i?1:2&i?3:4&i?2:0),e}},fix:function(e){if(e[it.expando])return e;var t,n,r,o=e.type,i=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=jt.test(o)?this.mouseHooks:Ft.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new it.Event(i),t=r.length;t--;)n=r[t],e[n]=i[n];return e.target||(e.target=G),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,i):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==g()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===g()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&it.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return it.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},it.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},it.Event=function(e,t){return this instanceof it.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?p:h):this.type=e,t&&it.extend(this,t),this.timeStamp=e&&e.timeStamp||it.now(),void(this[it.expando]=!0)):new it.Event(e,t)},it.Event.prototype={constructor:it.Event,isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=p,e&&e.stopImmediatePropagation(),this.stopPropagation()}},it.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){it.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return(!o||o!==r&&!it.contains(r,o))&&(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),it.fn.extend({on:function(e,t,n,r){return m(this,e,t,n,r)},one:function(e,t,n,r){return m(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,it(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=h),this.each(function(){it.event.remove(this,e,n,t)})}});var qt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ut=/<script|<style|<link/i,Bt=/checked\s*(?:[^=]|=\s*.checked.)/i,Vt=/^true\/(.*)/,Wt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;it.extend({htmlPrefilter:function(e){return e.replace(qt,"<$1></$2>")},clone:function(e,t,n){var r,o,i,a,s=e.cloneNode(!0),l=it.contains(e.ownerDocument,e);if(!(rt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||it.isXMLDoc(e)))for(a=u(s),i=u(e),r=0,o=i.length;o>r;r++)_(i[r],a[r]);if(t)if(n)for(i=i||u(e),a=a||u(s),r=0,o=i.length;o>r;r++)E(i[r],a[r]);else E(e,s);return a=u(s,"script"),a.length>0&&d(a,!l&&u(e,"script")),s},cleanData:function(e){for(var t,n,r,o=it.event.special,i=0;void 0!==(n=e[i]);i++)if($t(n)){if(t=n[At.expando]){if(t.events)for(r in t.events)o[r]?it.event.remove(n,r):it.removeEvent(n,r,t.handle);n[At.expando]=void 0}n[St.expando]&&(n[St.expando]=void 0)}}}),it.fn.extend({domManip:w,detach:function(e){return C(this,e,!0)},remove:function(e){return C(this,e)},text:function(e){return Ct(this,function(e){return void 0===e?it.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return w(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return w(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return w(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return w(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(it.cleanData(u(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return it.clone(this,e,t)})},html:function(e){return Ct(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ut.test(e)&&!Dt[(Pt.exec(e)||["",""])[1].toLowerCase()]){e=it.htmlPrefilter(e);try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(it.cleanData(u(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return w(this,arguments,function(t){var n=this.parentNode;it.inArray(this,e)<0&&(it.cleanData(u(this)),n&&n.replaceChild(t,this))},e)}}),it.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){it.fn[e]=function(e){for(var n,r=[],o=it(e),i=o.length-1,a=0;i>=a;a++)n=a===i?this:this.clone(!0),it(o[a])[t](n),J.apply(r,n.get());return this.pushStack(r)}});var zt,Yt={HTML:"block",BODY:"block"},Kt=/^margin/,Gt=new RegExp("^("+xt+")(?!px)[a-z%]+$","i"),Qt=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Xt=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];o=n.apply(e,r||[]);for(i in t)e.style[i]=a[i];return o},Jt=G.documentElement;!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Jt.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,i="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",o="4px"===t.marginRight,Jt.removeChild(a)}var n,r,o,i,a=G.createElement("div"),s=G.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",rt.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),it.extend(rt,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},pixelMarginRight:function(){return null==r&&t(),o},reliableMarginLeft:function(){return null==r&&t(),i},reliableMarginRight:function(){var t,n=s.appendChild(G.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",Jt.appendChild(a),t=!parseFloat(e.getComputedStyle(n).marginRight),Jt.removeChild(a),s.removeChild(n),t}}))}();var Zt=/^(none|table(?!-c[ea]).+)/,en={position:"absolute",visibility:"hidden",display:"block"},tn={letterSpacing:"0",fontWeight:"400"},nn=["Webkit","O","Moz","ms"],rn=G.createElement("div").style;it.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=S(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=it.camelCase(t),l=e.style;return t=it.cssProps[s]||(it.cssProps[s]=k(s)||s),a=it.cssHooks[t]||it.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:l[t]:(i=typeof n,"string"===i&&(o=Nt.exec(n))&&o[1]&&(n=c(e,t,o),i="number"),null!=n&&n===n&&("number"===i&&(n+=o&&o[3]||(it.cssNumber[s]?"":"px")),rt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l[t]=n)),void 0)}},css:function(e,t,n,r){var o,i,a,s=it.camelCase(t);return t=it.cssProps[s]||(it.cssProps[s]=k(s)||s),a=it.cssHooks[t]||it.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=S(e,t,r)),"normal"===o&&t in tn&&(o=tn[t]),""===n||n?(i=parseFloat(o),n===!0||isFinite(i)?i||0:o):o}}),it.each(["height","width"],function(e,t){it.cssHooks[t]={get:function(e,n,r){return n?Zt.test(it.css(e,"display"))&&0===e.offsetWidth?Xt(e,en,function(){return M(e,t,r)}):M(e,t,r):void 0},set:function(e,n,r){var o,i=r&&Qt(e),a=r&&N(e,t,r,"border-box"===it.css(e,"boxSizing",!1,i),i);return a&&(o=Nt.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=it.css(e,t)),x(e,n,a)}}}),it.cssHooks.marginLeft=T(rt.reliableMarginLeft,function(e,t){return t?(parseFloat(S(e,"marginLeft"))||e.getBoundingClientRect().left-Xt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),it.cssHooks.marginRight=T(rt.reliableMarginRight,function(e,t){return t?Xt(e,{display:"inline-block"},S,[e,"marginRight"]):void 0}),it.each({margin:"",padding:"",border:"Width"},function(e,t){it.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];4>r;r++)o[e+Mt[r]+t]=i[r]||i[r-2]||i[0];return o}},Kt.test(e)||(it.cssHooks[e+t].set=x)}),it.fn.extend({css:function(e,t){return Ct(this,function(e,t,n){var r,o,i={},a=0;if(it.isArray(t)){for(r=Qt(e),o=t.length;o>a;a++)i[t[a]]=it.css(e,t[a],!1,r);return i}return void 0!==n?it.style(e,t,n):it.css(e,t)},e,t,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){It(this)?it(this).show():it(this).hide()})}}),it.Tween=O,O.prototype={constructor:O,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||it.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(it.cssNumber[n]?"":"px")},cur:function(){var e=O.propHooks[this.prop];return e&&e.get?e.get(this):O.propHooks._default.get(this)},run:function(e){var t,n=O.propHooks[this.prop];return this.pos=t=this.options.duration?it.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=it.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){it.fx.step[e.prop]?it.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[it.cssProps[e.prop]]&&!it.cssHooks[e.prop]?e.elem[e.prop]=e.now:it.style(e.elem,e.prop,e.now+e.unit)}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},it.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},it.fx=O.prototype.init,it.fx.step={};var on,an,sn=/^(?:toggle|show|hide)$/,ln=/queueHooks$/;it.Animation=it.extend(j,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return c(n.elem,e,Nt.exec(t),n),n}]},tweener:function(e,t){it.isFunction(e)?(t=e,e=["*"]):e=e.match(_t);for(var n,r=0,o=e.length;o>r;r++)n=e[r],j.tweeners[n]=j.tweeners[n]||[],j.tweeners[n].unshift(t)},prefilters:[L],prefilter:function(e,t){t?j.prefilters.unshift(e):j.prefilters.push(e)}}),it.speed=function(e,t,n){var r=e&&"object"==typeof e?it.extend({},e):{complete:n||!n&&t||it.isFunction(e)&&e,duration:e,easing:n&&t||t&&!it.isFunction(t)&&t};return r.duration=it.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in it.fx.speeds?it.fx.speeds[r.duration]:it.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){it.isFunction(r.old)&&r.old.call(this),r.queue&&it.dequeue(this,r.queue)},r},it.fn.extend({fadeTo:function(e,t,n,r){return this.filter(It).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=it.isEmptyObject(e),i=it.speed(t,n,r),a=function(){var t=j(this,it.extend({},e),i);(o||At.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||i.queue===!1?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=it.timers,a=At.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&ln.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));(t||!n)&&it.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=At.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=it.timers,a=r?r.length:0;for(n.finish=!0,it.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),it.each(["toggle","show","hide"],function(e,t){var n=it.fn[t];it.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(R(t,!0),e,r,o)}}),it.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){it.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),it.timers=[],it.fx.tick=function(){var e,t=0,n=it.timers;for(on=it.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||it.fx.stop(),on=void 0
},it.fx.timer=function(e){it.timers.push(e),e()?it.fx.start():it.timers.pop()},it.fx.interval=13,it.fx.start=function(){an||(an=e.setInterval(it.fx.tick,it.fx.interval))},it.fx.stop=function(){e.clearInterval(an),an=null},it.fx.speeds={slow:600,fast:200,_default:400},it.fn.delay=function(t,n){return t=it.fx?it.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var o=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(o)}})},function(){var e=G.createElement("input"),t=G.createElement("select"),n=t.appendChild(G.createElement("option"));e.type="checkbox",rt.checkOn=""!==e.value,rt.optSelected=n.selected,t.disabled=!0,rt.optDisabled=!n.disabled,e=G.createElement("input"),e.value="t",e.type="radio",rt.radioValue="t"===e.value}();var cn,un=it.expr.attrHandle;it.fn.extend({attr:function(e,t){return Ct(this,it.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){it.removeAttr(this,e)})}}),it.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return"undefined"==typeof e.getAttribute?it.prop(e,t,n):(1===i&&it.isXMLDoc(e)||(t=t.toLowerCase(),o=it.attrHooks[t]||(it.expr.match.bool.test(t)?cn:void 0)),void 0!==n?null===n?void it.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:(r=it.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!rt.radioValue&&"radio"===t&&it.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,o=0,i=t&&t.match(_t);if(i&&1===e.nodeType)for(;n=i[o++];)r=it.propFix[n]||n,it.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),cn={set:function(e,t,n){return t===!1?it.removeAttr(e,n):e.setAttribute(n,n),n}},it.each(it.expr.match.bool.source.match(/\w+/g),function(e,t){var n=un[t]||it.find.attr;un[t]=function(e,t,r){var o,i;return r||(i=un[t],un[t]=o,o=null!=n(e,t,r)?t.toLowerCase():null,un[t]=i),o}});var dn=/^(?:input|select|textarea|button)$/i,fn=/^(?:a|area)$/i;it.fn.extend({prop:function(e,t){return Ct(this,it.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[it.propFix[e]||e]})}}),it.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&it.isXMLDoc(e)||(t=it.propFix[t]||t,o=it.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=it.find.attr(e,"tabindex");return t?parseInt(t,10):dn.test(e.nodeName)||fn.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),rt.optSelected||(it.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),it.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){it.propFix[this.toLowerCase()]=this});var pn=/[\t\r\n\f]/g;it.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,l=0;if(it.isFunction(e))return this.each(function(t){it(this).addClass(e.call(this,t,H(this)))});if("string"==typeof e&&e)for(t=e.match(_t)||[];n=this[l++];)if(o=H(n),r=1===n.nodeType&&(" "+o+" ").replace(pn," ")){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=it.trim(r),o!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,l=0;if(it.isFunction(e))return this.each(function(t){it(this).removeClass(e.call(this,t,H(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(_t)||[];n=this[l++];)if(o=H(n),r=1===n.nodeType&&(" "+o+" ").replace(pn," ")){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");s=it.trim(r),o!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(it.isFunction(e)?function(n){it(this).toggleClass(e.call(this,n,H(this),t),t)}:function(){var t,r,o,i;if("string"===n)for(r=0,o=it(this),i=e.match(_t)||[];t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(void 0===e||"boolean"===n)&&(t=H(this),t&&At.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":At.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+H(n)+" ").replace(pn," ").indexOf(t)>-1)return!0;return!1}});var hn=/\r/g;it.fn.extend({val:function(e){var t,n,r,o=this[0];{if(arguments.length)return r=it.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,it(this).val()):e,null==o?o="":"number"==typeof o?o+="":it.isArray(o)&&(o=it.map(o,function(e){return null==e?"":e+""})),t=it.valHooks[this.type]||it.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=it.valHooks[o.type]||it.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(hn,""):null==n?"":n)}}}),it.extend({valHooks:{option:{get:function(e){return it.trim(e.value)}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,i="select-one"===e.type||0>o,a=i?null:[],s=i?o+1:r.length,l=0>o?s:i?o:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==o||(rt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&it.nodeName(n.parentNode,"optgroup"))){if(t=it(n).val(),i)return t;a.push(t)}return a},set:function(e,t){for(var n,r,o=e.options,i=it.makeArray(t),a=o.length;a--;)r=o[a],(r.selected=it.inArray(it.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),it.each(["radio","checkbox"],function(){it.valHooks[this]={set:function(e,t){return it.isArray(t)?e.checked=it.inArray(it(e).val(),t)>-1:void 0}},rt.checkOn||(it.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var gn=/^(?:focusinfocus|focusoutblur)$/;it.extend(it.event,{trigger:function(t,n,r,o){var i,a,s,l,c,u,d,f=[r||G],p=nt.call(t,"type")?t.type:t,h=nt.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||G,3!==r.nodeType&&8!==r.nodeType&&!gn.test(p+it.event.triggered)&&(p.indexOf(".")>-1&&(h=p.split("."),p=h.shift(),h.sort()),c=p.indexOf(":")<0&&"on"+p,t=t[it.expando]?t:new it.Event(p,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:it.makeArray(n,[t]),d=it.event.special[p]||{},o||!d.trigger||d.trigger.apply(r,n)!==!1)){if(!o&&!d.noBubble&&!it.isWindow(r)){for(l=d.delegateType||p,gn.test(l+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(r.ownerDocument||G)&&f.push(s.defaultView||s.parentWindow||e)}for(i=0;(a=f[i++])&&!t.isPropagationStopped();)t.type=i>1?l:d.bindType||p,u=(At.get(a,"events")||{})[t.type]&&At.get(a,"handle"),u&&u.apply(a,n),u=c&&a[c],u&&u.apply&&$t(a)&&(t.result=u.apply(a,n),t.result===!1&&t.preventDefault());return t.type=p,o||t.isDefaultPrevented()||d._default&&d._default.apply(f.pop(),n)!==!1||!$t(r)||c&&it.isFunction(r[p])&&!it.isWindow(r)&&(s=r[c],s&&(r[c]=null),it.event.triggered=p,r[p](),it.event.triggered=void 0,s&&(r[c]=s)),t.result}},simulate:function(e,t,n){var r=it.extend(new it.Event,n,{type:e,isSimulated:!0});it.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}}),it.fn.extend({trigger:function(e,t){return this.each(function(){it.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?it.event.trigger(e,t,n,!0):void 0}}),it.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){it.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),it.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),rt.focusin="onfocusin"in e,rt.focusin||it.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){it.event.simulate(t,e.target,it.event.fix(e))};it.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=At.access(r,t);o||r.addEventListener(e,n,!0),At.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=At.access(r,t)-1;o?At.access(r,t,o):(r.removeEventListener(e,n,!0),At.remove(r,t))}}});var mn=e.location,vn=it.now(),bn=/\?/;it.parseJSON=function(e){return JSON.parse(e+"")},it.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){n=void 0}return(!n||n.getElementsByTagName("parsererror").length)&&it.error("Invalid XML: "+t),n};var yn=/#.*$/,En=/([?&])_=[^&]*/,_n=/^(.*?):[ \t]*([^\r\n]*)$/gm,wn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Cn=/^(?:GET|HEAD)$/,$n=/^\/\//,An={},Sn={},Tn="*/".concat("*"),kn=G.createElement("a");kn.href=mn.href,it.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mn.href,type:"GET",isLocal:wn.test(mn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Tn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":it.parseJSON,"text xml":it.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?B(B(e,it.ajaxSettings),t):B(it.ajaxSettings,e)},ajaxPrefilter:q(An),ajaxTransport:q(Sn),ajax:function(t,n){function r(t,n,r,s){var c,d,b,y,_,C=n;2!==E&&(E=2,l&&e.clearTimeout(l),o=void 0,a=s||"",w.readyState=t>0?4:0,c=t>=200&&300>t||304===t,r&&(y=V(f,w,r)),y=W(f,y,w,c),c?(f.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(it.lastModified[i]=_),_=w.getResponseHeader("etag"),_&&(it.etag[i]=_)),204===t||"HEAD"===f.type?C="nocontent":304===t?C="notmodified":(C=y.state,d=y.data,b=y.error,c=!b)):(b=C,(t||!C)&&(C="error",0>t&&(t=0))),w.status=t,w.statusText=(n||C)+"",c?g.resolveWith(p,[d,C,w]):g.rejectWith(p,[w,C,b]),w.statusCode(v),v=void 0,u&&h.trigger(c?"ajaxSuccess":"ajaxError",[w,f,c?d:b]),m.fireWith(p,[w,C]),u&&(h.trigger("ajaxComplete",[w,f]),--it.active||it.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var o,i,a,s,l,c,u,d,f=it.ajaxSetup({},n),p=f.context||f,h=f.context&&(p.nodeType||p.jquery)?it(p):it.event,g=it.Deferred(),m=it.Callbacks("once memory"),v=f.statusCode||{},b={},y={},E=0,_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===E){if(!s)for(s={};t=_n.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===E?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return E||(e=y[n]=y[n]||e,b[e]=t),this},overrideMimeType:function(e){return E||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>E)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||_;return o&&o.abort(t),r(0,t),this}};if(g.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,f.url=((t||f.url||mn.href)+"").replace(yn,"").replace($n,mn.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=it.trim(f.dataType||"*").toLowerCase().match(_t)||[""],null==f.crossDomain){c=G.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=kn.protocol+"//"+kn.host!=c.protocol+"//"+c.host}catch(C){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=it.param(f.data,f.traditional)),U(An,f,n,w),2===E)return w;u=it.event&&f.global,u&&0===it.active++&&it.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Cn.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(bn.test(i)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=En.test(i)?i.replace(En,"$1_="+vn++):i+(bn.test(i)?"&":"?")+"_="+vn++)),f.ifModified&&(it.lastModified[i]&&w.setRequestHeader("If-Modified-Since",it.lastModified[i]),it.etag[i]&&w.setRequestHeader("If-None-Match",it.etag[i])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Tn+"; q=0.01":""):f.accepts["*"]);for(d in f.headers)w.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(f.beforeSend.call(p,w,f)===!1||2===E))return w.abort();_="abort";for(d in{success:1,error:1,complete:1})w[d](f[d]);if(o=U(Sn,f,n,w)){if(w.readyState=1,u&&h.trigger("ajaxSend",[w,f]),2===E)return w;f.async&&f.timeout>0&&(l=e.setTimeout(function(){w.abort("timeout")},f.timeout));try{E=1,o.send(b,r)}catch(C){if(!(2>E))throw C;r(-1,C)}}else r(-1,"No Transport");return w},getJSON:function(e,t,n){return it.get(e,t,n,"json")},getScript:function(e,t){return it.get(e,void 0,t,"script")}}),it.each(["get","post"],function(e,t){it[t]=function(e,n,r,o){return it.isFunction(n)&&(o=o||r,r=n,n=void 0),it.ajax(it.extend({url:e,type:t,dataType:o,data:n,success:r},it.isPlainObject(e)&&e))}}),it._evalUrl=function(e){return it.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},it.fn.extend({wrapAll:function(e){var t;return it.isFunction(e)?this.each(function(t){it(this).wrapAll(e.call(this,t))}):(this[0]&&(t=it(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(it.isFunction(e)?function(t){it(this).wrapInner(e.call(this,t))}:function(){var t=it(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=it.isFunction(e);return this.each(function(n){it(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){it.nodeName(this,"body")||it(this).replaceWith(this.childNodes)}).end()}}),it.expr.filters.hidden=function(e){return!it.expr.filters.visible(e)},it.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var xn=/%20/g,Nn=/\[\]$/,Mn=/\r?\n/g,In=/^(?:submit|button|image|reset|file)$/i,On=/^(?:input|select|textarea|keygen)/i;it.param=function(e,t){var n,r=[],o=function(e,t){t=it.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=it.ajaxSettings&&it.ajaxSettings.traditional),it.isArray(e)||e.jquery&&!it.isPlainObject(e))it.each(e,function(){o(this.name,this.value)});else for(n in e)z(n,e[n],t,o);return r.join("&").replace(xn,"+")},it.fn.extend({serialize:function(){return it.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=it.prop(this,"elements");return e?it.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!it(this).is(":disabled")&&On.test(this.nodeName)&&!In.test(e)&&(this.checked||!Ot.test(e))}).map(function(e,t){var n=it(this).val();return null==n?null:it.isArray(n)?it.map(n,function(e){return{name:t.name,value:e.replace(Mn,"\r\n")}}):{name:t.name,value:n.replace(Mn,"\r\n")}}).get()}}),it.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Pn={0:200,1223:204},Rn=it.ajaxSettings.xhr();rt.cors=!!Rn&&"withCredentials"in Rn,rt.ajax=Rn=!!Rn,it.ajaxTransport(function(t){var n,r;return rt.cors||Rn&&!t.crossDomain?{send:function(o,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(a in o)s.setRequestHeader(a,o[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Pn[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}:void 0}),it.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return it.globalEval(e),e}}}),it.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),it.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,o){t=it("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),G.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Dn=[],Ln=/(=)\?(?=&|$)|\?\?/;it.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Dn.pop()||it.expando+"_"+vn++;return this[e]=!0,e}}),it.ajaxPrefilter("json jsonp",function(t,n,r){var o,i,a,s=t.jsonp!==!1&&(Ln.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ln.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=it.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ln,"$1"+o):t.jsonp!==!1&&(t.url+=(bn.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||it.error(o+" was not called"),a[0]},t.dataTypes[0]="json",i=e[o],e[o]=function(){a=arguments},r.always(function(){void 0===i?it(e).removeProp(o):e[o]=i,t[o]&&(t.jsonpCallback=n.jsonpCallback,Dn.push(o)),a&&it.isFunction(i)&&i(a[0]),a=i=void 0}),"script"):void 0}),rt.createHTMLDocument=function(){var e=G.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),it.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||(rt.createHTMLDocument?G.implementation.createHTMLDocument(""):G);var r=ht.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=f([e],t,o),o&&o.length&&it(o).remove(),it.merge([],r.childNodes))};var Fn=it.fn.load;it.fn.load=function(e,t,n){if("string"!=typeof e&&Fn)return Fn.apply(this,arguments);var r,o,i,a=this,s=e.indexOf(" ");return s>-1&&(r=it.trim(e.slice(s)),e=e.slice(0,s)),it.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&it.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?it("<div>").append(it.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(a,i||[e.responseText,t,e])})}),this},it.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){it.fn[t]=function(e){return this.on(t,e)}}),it.expr.filters.animated=function(e){return it.grep(it.timers,function(t){return e===t.elem}).length},it.offset={setOffset:function(e,t,n){var r,o,i,a,s,l,c,u=it.css(e,"position"),d=it(e),f={};"static"===u&&(e.style.position="relative"),s=d.offset(),i=it.css(e,"top"),l=it.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(i+l).indexOf("auto")>-1,c?(r=d.position(),a=r.top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),it.isFunction(t)&&(t=t.call(e,n,it.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):d.css(f)}},it.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){it.offset.setOffset(this,e,t)});var t,n,r=this[0],o={top:0,left:0},i=r&&r.ownerDocument;if(i)return t=i.documentElement,it.contains(t,r)?(o=r.getBoundingClientRect(),n=Y(i),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===it.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),it.nodeName(e[0],"html")||(r=e.offset()),r.top+=it.css(e[0],"borderTopWidth",!0),r.left+=it.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-it.css(n,"marginTop",!0),left:t.left-r.left-it.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===it.css(e,"position");)e=e.offsetParent;return e||Jt})}}),it.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;it.fn[e]=function(r){return Ct(this,function(e,r,o){var i=Y(e);return void 0===o?i?i[t]:e[r]:void(i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o)},e,r,arguments.length)}}),it.each(["top","left"],function(e,t){it.cssHooks[t]=T(rt.pixelPosition,function(e,n){return n?(n=S(e,t),Gt.test(n)?it(e).position()[t]+"px":n):void 0})}),it.each({Height:"height",Width:"width"},function(e,t){it.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){it.fn[r]=function(r,o){var i=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||o===!0?"margin":"border");return Ct(this,function(t,n,r){var o;return it.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?it.css(t,n,a):it.style(t,n,r,a)},t,i?r:void 0,i,null)}})}),it.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),it.fn.andSelf=it.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return it});var jn=e.jQuery,Hn=e.$;return it.noConflict=function(t){return e.$===it&&(e.$=Hn),t&&e.jQuery===it&&(e.jQuery=jn),it},t||(e.jQuery=e.$=it),it}),function(e,t,n){"use strict";function r(e,t){return t=t||Error,function(){var n,r,o=2,i=arguments,a=i[0],s="["+(e?e+":":"")+a+"] ",l=i[1];for(s+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+o;return n<i.length?Et(i[n]):e}),s+="\nhttp://errors.angularjs.org/1.5.0/"+(e?e+"/":"")+a,r=o,n="?";r<i.length;r++,n="&")s+=n+"p"+(r-o)+"="+encodeURIComponent(Et(i[r]));return new t(s)}}function o(e){if(null==e||k(e))return!1;if(Yo(e)||C(e)||Do&&e instanceof Do)return!0;var t="length"in Object(e)&&e.length;return $(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function i(e,t,n){var r,a;if(e)if(S(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(Yo(e)||o(e)){var s="object"!=typeof e;for(r=0,a=e.length;a>r;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==i)e.forEach(t,n,e);else if(w(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)No.call(e,r)&&t.call(n,e[r],r,e);return e}function a(e,t,n){for(var r=Object.keys(e).sort(),o=0;o<r.length;o++)t.call(n,e[r[o]],r[o]);return r}function s(e){return function(t,n){e(n,t)}}function l(){return++zo}function c(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function u(e,t,n){for(var r=e.$$hashKey,o=0,i=t.length;i>o;++o){var a=t[o];if(_(a)||S(a))for(var s=Object.keys(a),l=0,d=s.length;d>l;l++){var f=s[l],p=a[f];n&&_(p)?A(p)?e[f]=new Date(p.valueOf()):T(p)?e[f]=new RegExp(p):p.nodeName?e[f]=p.cloneNode(!0):L(p)?e[f]=p.clone():(_(e[f])||(e[f]=Yo(p)?[]:{}),u(e[f],[p],!0)):e[f]=p}}return c(e,r),e}function d(e){return u(e,jo.call(arguments,1),!1)}function f(e){return u(e,jo.call(arguments,1),!0)}function p(e){return parseInt(e,10)}function h(e,t){return d(Object.create(e),t)}function g(){}function m(e){return e}function v(e){return function(){return e}}function b(e){return S(e.toString)&&e.toString!==Uo}function y(e){return"undefined"==typeof e}function E(e){return"undefined"!=typeof e}function _(e){return null!==e&&"object"==typeof e}function w(e){return null!==e&&"object"==typeof e&&!Bo(e)}function C(e){return"string"==typeof e}function $(e){return"number"==typeof e}function A(e){return"[object Date]"===Uo.call(e)}function S(e){return"function"==typeof e}function T(e){return"[object RegExp]"===Uo.call(e)}function k(e){return e&&e.window===e}function x(e){return e&&e.$evalAsync&&e.$watch}function N(e){return"[object File]"===Uo.call(e)}function M(e){return"[object FormData]"===Uo.call(e)}function I(e){return"[object Blob]"===Uo.call(e)}function O(e){return"boolean"==typeof e}function P(e){return e&&S(e.then)}function R(e){return e&&$(e.length)&&Ko.test(Uo.call(e))}function D(e){return"[object ArrayBuffer]"===Uo.call(e)}function L(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function F(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function j(e){return Mo(e.nodeName||e[0]&&e[0].nodeName)}function H(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function q(e,t){function r(e,t){var n,r=t.$$hashKey;if(Yo(e))for(var i=0,a=e.length;a>i;i++)t.push(o(e[i]));else if(w(e))for(n in e)t[n]=o(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=o(e[n]));else for(n in e)No.call(e,n)&&(t[n]=o(e[n]));return c(t,r),t}function o(e){if(!_(e))return e;var t=s.indexOf(e);if(-1!==t)return l[t];if(k(e)||x(e))throw Vo("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var o=!1,i=a(e);return i===n&&(i=Yo(e)?[]:Object.create(Bo(e)),o=!0),s.push(e),l.push(i),o?r(e,i):i}function a(e){switch(Uo.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(o(e.buffer));case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n}return S(e.cloneNode)?e.cloneNode(!0):void 0}var s=[],l=[];if(t){if(R(t)||D(t))throw Vo("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw Vo("cpi","Can't copy! Source and destination are identical.");return Yo(t)?t.length=0:i(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),s.push(e),l.push(t),r(e,t)}return o(e)}function U(e,t){if(Yo(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(_(e)){t=t||{};for(var o in e)("$"!==o.charAt(0)||"$"!==o.charAt(1))&&(t[o]=e[o])}return t||e}function B(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,o,i=typeof e,a=typeof t;if(i==a&&"object"==i){if(!Yo(e)){if(A(e))return A(t)?B(e.getTime(),t.getTime()):!1;if(T(e))return T(t)?e.toString()==t.toString():!1;if(x(e)||x(t)||k(e)||k(t)||Yo(t)||A(t)||T(t))return!1;o=vt();for(r in e)if("$"!==r.charAt(0)&&!S(e[r])){if(!B(e[r],t[r]))return!1;o[r]=!0}for(r in t)if(!(r in o)&&"$"!==r.charAt(0)&&E(t[r])&&!S(t[r]))return!1;return!0}if(!Yo(t))return!1;if((n=e.length)==t.length){for(r=0;n>r;r++)if(!B(e[r],t[r]))return!1;return!0}}return!1}function V(e,t,n){return e.concat(jo.call(t,n))}function W(e,t){return jo.call(e,t||0)}function z(e,t){var n=arguments.length>2?W(arguments,2):[];return!S(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,V(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function Y(e,r){var o=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?o=n:k(r)?o="$WINDOW":r&&t===r?o="$DOCUMENT":x(r)&&(o="$SCOPE"),o}function K(e,t){return y(e)?n:($(t)||(t=t?2:null),JSON.stringify(e,Y,t))}function G(e){return C(e)?JSON.parse(e):e}function Q(e,t){e=e.replace(Zo,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function X(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function J(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset(),o=Q(t,r);return X(e,n*(o-r))}function Z(e){e=Do(e).clone();try{e.empty()}catch(t){}var n=Do("<div>").append(e).html();try{return e[0].nodeType===ii?Mo(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Mo(t)})}catch(t){return Mo(n)}}function et(e){try{return decodeURIComponent(e)}catch(t){}}function tt(e){var t={};return i((e||"").split("&"),function(e){var n,r,o;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(r=e.substring(0,n),o=e.substring(n+1)),r=et(r),E(r)&&(o=E(o)?et(o):!0,No.call(t,r)?Yo(t[r])?t[r].push(o):t[r]=[t[r],o]:t[r]=o))}),t}function nt(e){var t=[];return i(e,function(e,n){Yo(e)?i(e,function(e){t.push(ot(n,!0)+(e===!0?"":"="+ot(e,!0)))}):t.push(ot(n,!0)+(e===!0?"":"="+ot(e,!0)))}),t.length?t.join("&"):""}function rt(e){return ot(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ot(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function it(e,t){var n,r,o=ei.length;for(r=0;o>r;++r)if(n=ei[r]+t,C(n=e.getAttribute(n)))return n;return null}function at(e,t){var n,r,o={};i(ei,function(t){var o=t+"app";!n&&e.hasAttribute&&e.hasAttribute(o)&&(n=e,r=e.getAttribute(o))}),i(ei,function(t){var o,i=t+"app";!n&&(o=e.querySelector("["+i.replace(":","\\:")+"]"))&&(n=o,r=o.getAttribute(i))}),n&&(o.strictDi=null!==it(n,"strict-di"),t(n,r?[r]:[],o))}function st(n,r,o){_(o)||(o={});var a={strictDi:!1};o=d(a,o);var s=function(){if(n=Do(n),n.injector()){var e=n[0]===t?"document":Z(n);throw Vo("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),o.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng");var i=on(r,o.strictDi);return i.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),i},l=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return e&&l.test(e.name)&&(o.debugInfoEnabled=!0,e.name=e.name.replace(l,"")),e&&!c.test(e.name)?s():(e.name=e.name.replace(c,""),Wo.resumeBootstrap=function(e){return i(e,function(e){r.push(e)}),s()},void(S(Wo.resumeDeferredBootstrap)&&Wo.resumeDeferredBootstrap()))}function lt(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ct(e){var t=Wo.element(e).injector();if(!t)throw Vo("test","no injector found for element argument to getTestability");return t.get("$$testability")}function ut(e,t){return t=t||"_",e.replace(ti,function(e,n){return(n?t:"")+e.toLowerCase()})}function dt(){var t;if(!ni){var r=Jo();Lo=y(r)?e.jQuery:r?e[r]:n,Lo&&Lo.fn.on?(Do=Lo,d(Lo.fn,{scope:$i.scope,isolateScope:$i.isolateScope,controller:$i.controller,injector:$i.injector,inheritedData:$i.inheritedData}),t=Lo.cleanData,Lo.cleanData=function(e){for(var n,r,o=0;null!=(r=e[o]);o++)n=Lo._data(r,"events"),n&&n.$destroy&&Lo(r).triggerHandler("$destroy");t(e)}):Do=Mt,Wo.element=Do,ni=!0}}function ft(e,t,n){if(!e)throw Vo("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function pt(e,t,n){return n&&Yo(e)&&(e=e[e.length-1]),ft(S(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ht(e,t){if("hasOwnProperty"===e)throw Vo("badname","hasOwnProperty is not a valid {0} name",t)}function gt(e,t,n){if(!t)return e;for(var r,o=t.split("."),i=e,a=o.length,s=0;a>s;s++)r=o[s],e&&(e=(i=e)[r]);return!n&&S(e)?z(i,e):e}function mt(e){for(var t,n=e[0],r=e[e.length-1],o=1;n!==r&&(n=n.nextSibling);o++)(t||e[o]!==n)&&(t||(t=Do(jo.call(e,0,o))),t.push(n));
return t||e}function vt(){return Object.create(null)}function bt(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),o=r("ng"),i=t(e,"angular",Object);return i.$$minErr=i.$$minErr||r,t(i,"module",function(){var e={};return function(r,i,a){var s=function(e,t){if("hasOwnProperty"===e)throw o("badname","hasOwnProperty is not a valid {0} name",t)};return s(r,"module"),i&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,t,n,r){return r||(r=o),function(){return r[n||"push"]([e,t,arguments]),u}}function t(e,t){return function(n,i){return i&&S(i)&&(i.$$moduleName=r),o.push([e,t,arguments]),u}}if(!i)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var o=[],s=[],l=[],c=e("$injector","invoke","push",s),u={_invokeQueue:o,_configBlocks:s,_runBlocks:l,requires:i,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),component:t("$compileProvider","component"),config:c,run:function(e){return l.push(e),this}};return a&&c(a),u})}})}function yt(e){var t=[];return JSON.stringify(e,function(e,n){if(n=Y(e,n),_(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function Et(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):y(e)?"undefined":"string"!=typeof e?yt(e):e}function _t(t){d(t,{bootstrap:st,copy:q,extend:d,merge:f,equals:B,element:Do,forEach:i,injector:on,noop:g,bind:z,toJson:K,fromJson:G,identity:m,isUndefined:y,isDefined:E,isString:C,isFunction:S,isObject:_,isNumber:$,isElement:L,isArray:Yo,version:ci,isDate:A,lowercase:Mo,uppercase:Io,callbacks:{counter:0},getTestability:ct,$$minErr:r,$$csp:Xo,reloadWithDebugInfo:lt}),(Fo=bt(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Cr}),e.provider("$compile",gn).directive({a:xa,input:za,textarea:za,form:Pa,script:qs,select:Vs,style:zs,option:Ws,ngBind:Ga,ngBindHtml:Xa,ngBindTemplate:Qa,ngClass:Za,ngClassEven:ts,ngClassOdd:es,ngCloak:ns,ngController:rs,ngForm:Ra,ngHide:Ps,ngIf:as,ngInclude:ss,ngInit:cs,ngNonBindable:As,ngPluralize:xs,ngRepeat:Ns,ngShow:Os,ngStyle:Rs,ngSwitch:Ds,ngSwitchWhen:Ls,ngSwitchDefault:Fs,ngOptions:ks,ngTransclude:Hs,ngModel:ws,ngList:us,ngChange:Ja,pattern:Ks,ngPattern:Ks,required:Ys,ngRequired:Ys,minlength:Qs,ngMinlength:Qs,maxlength:Gs,ngMaxlength:Gs,ngValue:Ka,ngModelOptions:$s}).directive({ngInclude:ls}).directive(Na).directive(os),e.provider({$anchorScroll:an,$animate:Hi,$animateCss:Bi,$$animateJs:Fi,$$animateQueue:ji,$$AnimateRunner:Ui,$$animateAsyncRun:qi,$browser:fn,$cacheFactory:pn,$controller:En,$document:_n,$exceptionHandler:wn,$filter:Lr,$$forceReflow:Ki,$interpolate:Dn,$interval:Ln,$http:In,$httpParamSerializer:$n,$httpParamSerializerJQLike:An,$httpBackend:Pn,$xhrFactory:On,$location:Xn,$log:Jn,$parse:vr,$rootScope:wr,$q:br,$$q:yr,$sce:Tr,$sceDelegate:Sr,$sniffer:kr,$templateCache:hn,$templateRequest:xr,$$testability:Nr,$timeout:Mr,$window:Pr,$$rAF:_r,$$jqLite:Jt,$$HashMap:ki,$$cookieReader:Dr})}])}function wt(){return++di}function Ct(e){return e.replace(hi,function(e,t,n,r){return r?n.toUpperCase():n}).replace(gi,"Moz$1")}function $t(e){return!yi.test(e)}function At(e){var t=e.nodeType;return t===ri||!t||t===si}function St(e){for(var t in ui[e.ng339])return!0;return!1}function Tt(e){for(var t=0,n=e.length;n>t;t++)Rt(e[t])}function kt(e,t){var n,r,o,a,s=t.createDocumentFragment(),l=[];if($t(e))l.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),r=(Ei.exec(e)||["",""])[1].toLowerCase(),o=wi[r]||wi._default,n.innerHTML=o[1]+e.replace(_i,"<$1></$2>")+o[2],a=o[0];a--;)n=n.lastChild;l=V(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",i(l,function(e){s.appendChild(e)}),s}function xt(e,n){n=n||t;var r;return(r=bi.exec(e))?[n.createElement(r[1])]:(r=kt(e,n))?r.childNodes:[]}function Nt(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function Mt(e){if(e instanceof Mt)return e;var t;if(C(e)&&(e=Go(e),t=!0),!(this instanceof Mt)){if(t&&"<"!=e.charAt(0))throw vi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Mt(e)}t?qt(this,xt(e)):qt(this,e)}function It(e){return e.cloneNode(!0)}function Ot(e,t){if(t||Rt(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,o=n.length;o>r;r++)Rt(n[r])}function Pt(e,t,n,r){if(E(r))throw vi("offargs","jqLite#off() does not support the `selector` argument");var o=Dt(e),a=o&&o.events,s=o&&o.handle;if(s)if(t){var l=function(t){var r=a[t];E(n)&&H(r||[],n),E(n)&&r&&r.length>0||(pi(e,t,s),delete a[t])};i(t.split(" "),function(e){l(e),mi[e]&&l(mi[e])})}else for(t in a)"$destroy"!==t&&pi(e,t,s),delete a[t]}function Rt(e,t){var r=e.ng339,o=r&&ui[r];if(o){if(t)return void delete o.data[t];o.handle&&(o.events.$destroy&&o.handle({},"$destroy"),Pt(e)),delete ui[r],e.ng339=n}}function Dt(e,t){var r=e.ng339,o=r&&ui[r];return t&&!o&&(e.ng339=r=wt(),o=ui[r]={events:{},data:{},handle:n}),o}function Lt(e,t,n){if(At(e)){var r=E(n),o=!r&&t&&!_(t),i=!t,a=Dt(e,!o),s=a&&a.data;if(r)s[t]=n;else{if(i)return s;if(o)return s&&s[t];d(s,t)}}}function Ft(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function jt(e,t){t&&e.setAttribute&&i(t.split(" "),function(t){e.setAttribute("class",Go((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Go(t)+" "," ")))})}function Ht(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");i(t.split(" "),function(e){e=Go(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Go(n))}}function qt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Ut(e,t){return Bt(e,"$"+(t||"ngController")+"Controller")}function Bt(e,t,n){e.nodeType==si&&(e=e.documentElement);for(var r=Yo(t)?t:[t];e;){for(var o=0,i=r.length;i>o;o++)if(E(n=Do.data(e,r[o])))return n;e=e.parentNode||e.nodeType===li&&e.host}}function Vt(e){for(Ot(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Wt(e,t){t||Ot(e);var n=e.parentNode;n&&n.removeChild(e)}function zt(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Do(n).on("load",t)}function Yt(e,t){var n=Ai[t.toLowerCase()];return n&&Si[j(e)]&&n}function Kt(e){return Ti[e]}function Gt(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var o=t[r||n.type],i=o?o.length:0;if(i){if(y(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=o.specialHandlerWrapper||Qt;i>1&&(o=U(o));for(var l=0;i>l;l++)n.isImmediatePropagationStopped()||s(e,n,o[l])}};return n.elem=e,n}function Qt(e,t,n){n.call(e,t)}function Xt(e,t,n){var r=t.relatedTarget;(!r||r!==e&&!Ci.call(e,r))&&n.call(e,t)}function Jt(){this.$get=function(){return d(Mt,{hasClass:function(e,t){return e.attr&&(e=e[0]),Ft(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Ht(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),jt(e,t)}})}}function Zt(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||l)():r+":"+e}function en(e,t){if(t){var n=0;this.nextUid=function(){return++n}}i(e,this.put,this)}function tn(e){var t=e.toString().replace(Oi,""),n=t.match(xi)||t.match(Ni);return n}function nn(e){var t=tn(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function rn(e,t,n){var r,o,a;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw C(n)&&n||(n=e.name||nn(e)),Pi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=tn(e),i(o[1].split(Mi),function(e){e.replace(Ii,function(e,t,n){r.push(n)})})}e.$inject=r}}else Yo(e)?(a=e.length-1,pt(e[a],"fn"),r=e.slice(0,a)):pt(e,"fn",!0);return r}function on(e,t){function r(e){return function(t,n){return _(t)?void i(t,s(e)):e(t,n)}}function o(e,t){if(ht(e,"service"),(S(t)||Yo(t))&&(t=$.instantiate(t)),!t.$get)throw Pi("pget","Provider '{0}' must define $get factory method.",e);return w[e+m]=t}function a(e,t){return function(){var n=k.invoke(t,this);if(y(n))throw Pi("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function l(e,t,n){return o(e,{$get:n!==!1?a(e,t):t})}function c(e,t){return l(e,["$injector",function(e){return e.instantiate(t)}])}function u(e,t){return l(e,v(t),!1)}function d(e,t){ht(e,"constant"),w[e]=t,A[e]=t}function f(e,t){var n=$.get(e+m),r=n.$get;n.$get=function(){var e=k.invoke(r,n);return k.invoke(t,null,{$delegate:e})}}function p(e){ft(y(e)||Yo(e),"modulesToLoad","not an array");var t,n=[];return i(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],o=$.get(r[0]);o[r[1]].apply(o,r[2])}}if(!E.get(e)){E.put(e,!0);try{C(e)?(t=Fo(e),n=n.concat(p(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):S(e)?n.push($.invoke(e)):Yo(e)?n.push($.invoke(e)):pt(e,"module")}catch(o){throw Yo(e)&&(e=e[e.length-1]),o.message&&o.stack&&-1==o.stack.indexOf(o.message)&&(o=o.message+"\n"+o.stack),Pi("modulerr","Failed to instantiate module {0} due to:\n{1}",e,o.stack||o.message||o)}}}),n}function h(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===g)throw Pi("cdep","Circular dependency found: {0}",t+" <- "+b.join(" <- "));return e[t]}try{return b.unshift(t),e[t]=g,e[t]=n(t,r)}catch(o){throw e[t]===g&&delete e[t],o}finally{b.shift()}}function o(e,n,o){for(var i=[],a=on.$$annotate(e,t,o),s=0,l=a.length;l>s;s++){var c=a[s];if("string"!=typeof c)throw Pi("itkn","Incorrect injection token! Expected service name as string, got {0}",c);i.push(n&&n.hasOwnProperty(c)?n[c]:r(c,o))}return i}function i(e){return 11>=Ro?!1:"function"==typeof e&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(e))}function a(e,t,n,r){"string"==typeof n&&(r=n,n=null);var a=o(e,n,r);return Yo(e)&&(e=e[e.length-1]),i(e)?(a.unshift(null),new(Function.prototype.bind.apply(e,a))):e.apply(t,a)}function s(e,t,n){var r=Yo(e)?e[e.length-1]:e,i=o(e,t,n);return i.unshift(null),new(Function.prototype.bind.apply(r,i))}return{invoke:a,instantiate:s,get:r,annotate:on.$$annotate,has:function(t){return w.hasOwnProperty(t+m)||e.hasOwnProperty(t)}}}t=t===!0;var g={},m="Provider",b=[],E=new en([],!0),w={$provide:{provider:r(o),factory:r(l),service:r(c),value:r(u),constant:r(d),decorator:f}},$=w.$injector=h(w,function(e,t){throw Wo.isString(t)&&b.push(t),Pi("unpr","Unknown provider: {0}",b.join(" <- "))}),A={},T=h(A,function(e,t){var r=$.get(e+m,t);return k.invoke(r.$get,r,n,e)}),k=T;w["$injector"+m]={$get:v(T)};var x=p(e);return k=T.get("$injector"),k.strictDi=t,i(x,function(e){e&&k.invoke(e)}),k}function an(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function o(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===j(e)?(t=e,!0):void 0}),t}function i(){var e=s.yOffset;if(S(e))e=e();else if(L(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else $(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=i();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(e){e=C(e)?e:n.hash();var t;e?(t=l.getElementById(e))?a(t):(t=o(l.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var l=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&zt(function(){r.$evalAsync(s)})}),s}]}function sn(e,t){return e||t?e?t?(Yo(e)&&(e=e.join(" ")),Yo(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function ln(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Di)return n}}function cn(e){C(e)&&(e=e.split(" "));var t=vt();return i(e,function(e){e.length&&(t[e]=!0)}),t}function un(e){return _(e)?e:{}}function dn(e,t,n,r){function o(e){try{e.apply(null,W(arguments,1))}finally{if(b--,0===b)for(;E.length;)try{E.pop()()}catch(t){n.error(t)}}}function a(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function s(){A=null,c(),u()}function l(){try{return p.state}catch(e){}}function c(){_=l(),_=y(_)?null:_,B(_,k)&&(_=k),k=_}function u(){(C!==d.url()||w!==_)&&(C=d.url(),w=_,i(S,function(e){e(d.url(),_)}))}var d=this,f=(t[0],e.location),p=e.history,h=e.setTimeout,m=e.clearTimeout,v={};d.isMock=!1;var b=0,E=[];d.$$completeOutstandingRequest=o,d.$$incOutstandingRequestCount=function(){b++},d.notifyWhenNoOutstandingRequests=function(e){0===b?e():E.push(e)};var _,w,C=f.href,$=t.find("base"),A=null;c(),w=_,d.url=function(t,n,o){if(y(o)&&(o=null),f!==e.location&&(f=e.location),p!==e.history&&(p=e.history),t){var i=w===o;if(C===t&&(!r.history||i))return d;var s=C&&Un(C)===Un(t);return C=t,w=o,!r.history||s&&i?((!s||A)&&(A=t),n?f.replace(t):s?f.hash=a(t):f.href=t,f.href!==t&&(A=t)):(p[n?"replaceState":"pushState"](o,"",t),c(),w=_),d}return A||f.href.replace(/%27/g,"'")},d.state=function(){return _};var S=[],T=!1,k=null;d.onUrlChange=function(t){return T||(r.history&&Do(e).on("popstate",s),Do(e).on("hashchange",s),T=!0),S.push(t),t},d.$$applicationDestroyed=function(){Do(e).off("hashchange popstate",s)},d.$$checkUrlChange=u,d.baseHref=function(){var e=$.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},d.defer=function(e,t){var n;return b++,n=h(function(){delete v[n],o(e)},t||0),v[n]=!0,n},d.defer.cancel=function(e){return v[e]?(delete v[e],m(e),o(g),!0):!1}}function fn(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new dn(e,r,t,n)}]}function pn(){this.$get=function(){function e(e,n){function o(e){e!=f&&(p?p==e&&(p=e.n):p=e,i(e.n,e.p),i(e,f),f=e,f.n=null)}function i(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=d({},n,{id:e}),l=vt(),c=n&&n.capacity||Number.MAX_VALUE,u=vt(),f=null,p=null;return t[e]={put:function(e,t){if(!y(t)){if(c<Number.MAX_VALUE){var n=u[e]||(u[e]={key:e});o(n)}return e in l||a++,l[e]=t,a>c&&this.remove(p.key),t}},get:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;o(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;t==f&&(f=t.p),t==p&&(p=t.n),i(t.n,t.p),delete u[e]}e in l&&(delete l[e],a--)},removeAll:function(){l=vt(),a=0,u=vt(),f=p=null},destroy:function(){l=null,s=null,u=null,delete t[e]},info:function(){return d({},s,{size:a})}}}var t={};return e.info=function(){var e={};return i(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function hn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function gn(e,r){function o(e,t,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o={};return i(e,function(e,i){var a=e.match(r);if(!a)throw Vi("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,i,e,n?"controller bindings definition":"isolate scope definition");o[i]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||i}}),o}function a(e,t){var n={isolateScope:null,bindToController:null};if(_(e.scope)&&(e.bindToController===!0?(n.bindToController=o(e.scope,t,!0),n.isolateScope={}):n.isolateScope=o(e.scope,t,!1)),_(e.bindToController)&&(n.bindToController=o(e.bindToController,t,!0)),_(n.bindToController)){var r=e.controller,i=e.controllerAs;if(!r)throw Vi("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!yn(r,i))throw Vi("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function l(e){var t=e.charAt(0);if(!t||t!==Mo(t))throw Vi("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Vi("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}var c={},u="Directive",f=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,p=/(([\w\-]+)(?:\:([^;]+))?;?)/,b=F("ngSrc,ngSrcset,src,srcset"),w=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,$=/^(on[a-z]+|formaction)$/;this.directive=function T(t,n){return ht(t,"directive"),C(t)?(l(t),ft(n,"directiveFactory"),c.hasOwnProperty(t)||(c[t]=[],e.factory(t+u,["$injector","$exceptionHandler",function(e,n){var r=[];return i(c[t],function(o,i){try{var s=e.invoke(o);S(s)?s={compile:v(s)}:!s.compile&&s.link&&(s.compile=v(s.link)),s.priority=s.priority||0,s.index=i,s.name=s.name||t,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA";var l=s.$$bindings=a(s,s.name);_(l.isolateScope)&&(s.$$isolateBindings=l.isolateScope),s.$$moduleName=o.$$moduleName,r.push(s)}catch(c){n(c)}}),r}])),c[t].push(n)):i(t,s(T)),this},this.component=function(e,t){function n(e){function n(t){return S(t)||Yo(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var o=t.template||t.templateUrl?t.template:"";return{controller:r,controllerAs:yn(t.controller)||t.controllerAs||"$ctrl",template:n(o),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require}}var r=t.controller||function(){};return i(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e)}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return E(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return E(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var A=!0;this.debugInfoEnabled=function(e){return E(e)?(A=e,this):A},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,r,o,a,s,l,v,E,T,k){function N(e,t,n){ct.innerHTML="<span "+t+">";var r=ct.firstChild.attributes,o=r[0];r.removeNamedItem(o.name),o.value=n,e.attributes.setNamedItem(o)}function M(e,t){try{e.addClass(t)}catch(n){}}function I(e,n,r,o,i){e instanceof Do||(e=Do(e));for(var a=/\S+/,s=0,l=e.length;l>s;s++){var c=e[s];c.nodeType===ii&&c.nodeValue.match(a)&&Nt(c,e[s]=t.createElement("span"))}var u=R(e,n,e,r,o,i);I.$$addScopeClass(e);var d=null;return function(t,n,r){ft(t,"scope"),i&&i.needsNewScope&&(t=t.$parent.$new()),r=r||{};var o=r.parentBoundTranscludeFn,a=r.transcludeControllers,s=r.futureParentElement;o&&o.$$boundTransclude&&(o=o.$$boundTransclude),d||(d=P(s));var l;if(l="html"!==d?Do(tt(d,Do("<div>").append(e).html())):n?$i.clone.call(e):e,a)for(var c in a)l.data("$"+c+"Controller",a[c].instance);return I.$$addScopeInfo(l,t),n&&n(l,t),u&&u(t,l,l,o),l}}function P(e){var t=e&&e[0];return t&&"foreignobject"!==j(t)&&Uo.call(t).match(/SVG/)?"svg":"html"}function R(e,t,r,o,i,a){function s(e,r,o,i){var a,s,l,c,u,d,f,p,m;if(h){var v=r.length;for(m=new Array(v),u=0;u<g.length;u+=3)f=g[u],m[f]=r[f]}else m=r;for(u=0,d=g.length;d>u;)l=m[g[u++]],a=g[u++],s=g[u++],a?(a.scope?(c=e.$new(),I.$$addScopeInfo(Do(l),c)):c=e,p=a.transcludeOnThisElement?D(e,a.transclude,i):!a.templateOnThisElement&&i?i:!i&&t?D(e,t):null,a(s,c,l,o,p)):s&&s(e,l.childNodes,n,i)}for(var l,c,u,d,f,p,h,g=[],m=0;m<e.length;m++)l=new dt,c=L(e[m],[],l,0===m?o:n,i),u=c.length?V(c,e[m],l,t,r,null,[],[],a):null,u&&u.scope&&I.$$addScopeClass(l.$$element),f=u&&u.terminal||!(d=e[m].childNodes)||!d.length?null:R(d,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||f)&&(g.push(m,u,f),p=!0,h=h||u),a=null;return p?s:null}function D(e,t,n){var r=function(r,o,i,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,o,{parentBoundTranscludeFn:n,transcludeControllers:i,futureParentElement:a})},o=r.$$slots=vt();for(var i in t.$$slots)o[i]=t.$$slots[i]?D(e,t.$$slots[i],n):null;return r}function L(e,t,n,r,o){var i,a,s=e.nodeType,l=n.$attr;switch(s){case ri:Y(t,mn(j(e)),"E",r,o);for(var c,u,d,h,g,m,v=e.attributes,b=0,y=v&&v.length;y>b;b++){var E=!1,w=!1;c=v[b],u=c.name,g=Go(c.value),h=mn(u),(m=mt.test(h))&&(u=u.replace(Wi,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var $=h.match(bt);$&&K($[1])&&(E=u,w=u.substr(0,u.length-5)+"end",u=u.substr(0,u.length-6)),d=mn(u.toLowerCase()),l[d]=u,(m||!n.hasOwnProperty(d))&&(n[d]=g,Yt(e,d)&&(n[d]=!0)),rt(e,t,g,d,m),Y(t,d,"A",r,o,E,w)}if(a=e.className,_(a)&&(a=a.animVal),C(a)&&""!==a)for(;i=p.exec(a);)d=mn(i[2]),Y(t,d,"C",r,o)&&(n[d]=Go(i[3])),a=a.substr(i.index+i[0].length);break;case ii:if(11===Ro)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===ii;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);et(t,e.nodeValue);break;case ai:try{i=f.exec(e.nodeValue),i&&(d=mn(i[1]),Y(t,d,"M",r,o)&&(n[d]=Go(i[2])))}catch(A){}}return t.sort(X),t}function F(e,t,n){var r=[],o=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Vi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==ri&&(e.hasAttribute(t)&&o++,e.hasAttribute(n)&&o--),r.push(e),e=e.nextSibling}while(o>0)}else r.push(e);return Do(r)}function q(e,t,n){return function(r,o,i,a,s){return o=F(o[0],t,n),e(r,o,i,a,s)}}function U(e,t,n,r,o,i){if(e)return I(t,n,r,o,i);var a;return function(){return a||(a=I(t,n,r,o,i),t=n=i=null),a.apply(this,arguments)}}function V(e,r,a,s,c,u,f,p,h){function g(e,t,n,r){e&&(n&&(e=q(e,n,r)),e.require=E.require,e.directiveName=$,(P===E||E.$$isolateScope)&&(e=it(e,{isolateScope:!0})),f.push(e)),t&&(n&&(t=q(t,n,r)),t.require=E.require,t.directiveName=$,(P===E||E.$$isolateScope)&&(t=it(t,{isolateScope:!0})),p.push(t))}function m(e,t,n,r){var o;if(C(t)){var a=t.match(w),s=t.substring(a[0].length),l=a[1]||a[3],c="?"===a[2];if("^^"===l?n=n.parent():(o=r&&r[s],o=o&&o.instance),!o){var u="$"+s+"Controller";o=l?n.inheritedData(u):n.data(u)}if(!o&&!c)throw Vi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(Yo(t)){o=[];for(var d=0,f=t.length;f>d;d++)o[d]=m(e,t[d],n,r)}else _(t)&&(o={},i(t,function(t,i){o[i]=m(e,t,n,r)}));return o||null}function v(e,t,n,r,o,i){var a=vt();for(var s in r){var c=r[s],u={$scope:c===P||c.$$isolateScope?o:i,$element:e,$attrs:t,$transclude:n},d=c.controller;"@"==d&&(d=t[c.name]);var f=l(d,u,!0,c.controllerAs);a[c.name]=f,V||e.data("$"+c.name+"Controller",f.instance)}return a}function b(e,t,o,s,l){function c(e,t,r,o){var i;if(x(e)||(o=r,r=t,t=e,e=n),V&&(i=w),r||(r=V?$.parent():$),!o)return l(e,t,i,r,H);var a=l.$$slots[o];if(a)return a(e,t,i,r,H);if(y(a))throw Vi("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',o,Z($))}var u,h,g,b,E,w,C,$,A,T,k;r===o?(A=a,$=a.$$element):($=Do(o),A=new dt($,a)),E=t,P?b=t.$new(!0):M&&(E=t.$parent),l&&(C=c,C.$$boundTransclude=l,C.isSlotFilled=function(e){return!!l.$$slots[e]}),O&&(w=v($,A,C,O,b,t)),P&&(I.$$addScopeInfo($,b,!0,!(R&&(R===P||R===P.$$originalDirective))),I.$$addScopeClass($,!0),b.$$isolateBindings=P.$$isolateBindings,T=st(t,A,b,b.$$isolateBindings,P),T&&b.$on("$destroy",T));for(var N in w){var D=O[N],L=w[N],F=D.$$bindings.bindToController;L.identifier&&F&&(k=st(E,A,L.instance,F,D));var j=L();j!==L.instance&&(L.instance=j,$.data("$"+D.name+"Controller",j),k&&k(),k=st(E,A,L.instance,F,D))}for(i(O,function(e,t){var n=e.require;e.bindToController&&!Yo(n)&&_(n)&&d(w[t].instance,m(t,n,$,w))}),i(w,function(e){S(e.instance.$onInit)&&e.instance.$onInit()}),u=0,h=f.length;h>u;u++)g=f[u],at(g,g.isolateScope?b:t,$,A,g.require&&m(g.directiveName,g.require,$,w),C);var H=t;for(P&&(P.template||null===P.templateUrl)&&(H=b),e&&e(H,o.childNodes,n,l),u=p.length-1;u>=0;u--)g=p[u],at(g,g.isolateScope?b:t,$,A,g.require&&m(g.directiveName,g.require,$,w),C)}h=h||{};for(var E,$,A,T,k,N=-Number.MAX_VALUE,M=h.newScopeDirective,O=h.controllerDirectives,P=h.newIsolateScopeDirective,R=h.templateDirective,D=h.nonTlbTranscludeDirective,H=!1,B=!1,V=h.hasElementTranscludeDirective,Y=a.$$element=Do(r),K=u,X=s,et=!1,nt=!1,rt=0,lt=e.length;lt>rt;rt++){E=e[rt];var ct=E.$$start,ut=E.$$end;if(ct&&(Y=F(r,ct,ut)),A=n,N>E.priority)break;if((k=E.scope)&&(E.templateUrl||(_(k)?(J("new/isolated scope",P||M,E,Y),P=E):J("new/isolated scope",P,E,Y)),M=M||E),$=E.name,!et&&(E.replace&&(E.templateUrl||E.template)||E.transclude&&!E.$$tlb)){for(var ft,pt=rt+1;ft=e[pt++];)if(ft.transclude&&!ft.$$tlb||ft.replace&&(ft.templateUrl||ft.template)){nt=!0;break}et=!0}if(!E.templateUrl&&E.controller&&(k=E.controller,O=O||vt(),J("'"+$+"' controller",O[$],E,Y),O[$]=E),k=E.transclude)if(H=!0,E.$$tlb||(J("transclusion",D,E,Y),D=E),"element"==k)V=!0,N=E.priority,A=Y,Y=a.$$element=Do(t.createComment(" "+$+": "+a[$]+" ")),r=Y[0],ot(c,W(A),r),X=U(nt,A,s,N,K&&K.name,{nonTlbTranscludeDirective:D});else{var ht=vt();if(A=Do(It(r)).contents(),_(k)){A=[];var mt=vt(),bt=vt();i(k,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,mt[e]=t,ht[t]=null,bt[t]=n}),i(Y.contents(),function(e){var t=mt[mn(j(e))];t?(bt[t]=!0,ht[t]=ht[t]||[],ht[t].push(e)):A.push(e)}),i(bt,function(e,t){if(!e)throw Vi("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var yt in ht)ht[yt]&&(ht[yt]=U(nt,ht[yt],s))}Y.empty(),X=U(nt,A,s,n,n,{needsNewScope:E.$$isolateScope||E.$$newScope}),X.$$slots=ht}if(E.template)if(B=!0,J("template",R,E,Y),R=E,k=S(E.template)?E.template(Y,a):E.template,k=gt(k),E.replace){if(K=E,A=$t(k)?[]:bn(tt(E.templateNamespace,Go(k))),r=A[0],1!=A.length||r.nodeType!==ri)throw Vi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",$,"");ot(c,Y,r);var Et={$attr:{}},_t=L(r,[],Et),wt=e.splice(rt+1,e.length-(rt+1));(P||M)&&z(_t,P,M),e=e.concat(_t).concat(wt),G(a,Et),lt=e.length}else Y.html(k);if(E.templateUrl)B=!0,J("template",R,E,Y),R=E,E.replace&&(K=E),b=Q(e.splice(rt,e.length-rt),Y,a,c,H&&X,f,p,{controllerDirectives:O,newScopeDirective:M!==E&&M,newIsolateScopeDirective:P,templateDirective:R,nonTlbTranscludeDirective:D}),lt=e.length;else if(E.compile)try{T=E.compile(Y,a,X),S(T)?g(null,T,ct,ut):T&&g(T.pre,T.post,ct,ut)}catch(Ct){o(Ct,Z(Y))}E.terminal&&(b.terminal=!0,N=Math.max(N,E.priority))}return b.scope=M&&M.scope===!0,b.transcludeOnThisElement=H,b.templateOnThisElement=B,b.transclude=X,h.hasElementTranscludeDirective=V,b}function z(e,t,n){for(var r=0,o=e.length;o>r;r++)e[r]=h(e[r],{$$isolateScope:t,$$newScope:n})}function Y(t,n,r,i,a,s,l){if(n===a)return null;var d=null;if(c.hasOwnProperty(n))for(var f,p=e.get(n+u),g=0,m=p.length;m>g;g++)try{f=p[g],(y(i)||i>f.priority)&&-1!=f.restrict.indexOf(r)&&(s&&(f=h(f,{$$start:s,$$end:l})),t.push(f),d=f)}catch(v){o(v)}return d}function K(t){if(c.hasOwnProperty(t))for(var n,r=e.get(t+u),o=0,i=r.length;i>o;o++)if(n=r[o],n.multiElement)return!0;return!1}function G(e,t){var n=t.$attr,r=e.$attr,o=e.$$element;i(e,function(r,o){"$"!=o.charAt(0)&&(t[o]&&t[o]!==r&&(r+=("style"===o?";":" ")+t[o]),e.$set(o,r,!0,n[o]))}),i(t,function(t,i){"class"==i?(M(o,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==i?(o.attr("style",o.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==i.charAt(0)||e.hasOwnProperty(i)||(e[i]=t,r[i]=n[i])})}function Q(e,t,n,r,o,s,l,c){var u,d,f=[],p=t[0],g=e.shift(),m=h(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=S(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,b=g.templateNamespace;return t.empty(),a(v).then(function(a){var h,y,E,w;if(a=gt(a),g.replace){if(E=$t(a)?[]:bn(tt(b,Go(a))),h=E[0],1!=E.length||h.nodeType!==ri)throw Vi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);y={$attr:{}},ot(r,t,h);var C=L(h,[],y);_(g.scope)&&z(C,!0),e=C.concat(e),G(n,y)}else h=p,t.html(a);for(e.unshift(m),u=V(e,h,n,o,t,g,s,l,c),i(r,function(e,n){e==h&&(r[n]=t[0])}),d=R(t[0].childNodes,o);f.length;){var $=f.shift(),A=f.shift(),S=f.shift(),T=f.shift(),k=t[0];if(!$.$$destroyed){if(A!==p){var x=A.className;c.hasElementTranscludeDirective&&g.replace||(k=It(h)),ot(S,Do(A),k),M(Do(k),x)}w=u.transcludeOnThisElement?D($,u.transclude,T):T,u(d,$,k,r,w)}}f=null}),function(e,t,n,r,o){var i=o;t.$$destroyed||(f?f.push(t,n,r,i):(u.transcludeOnThisElement&&(i=D(t,u.transclude,o)),u(d,t,n,r,i)))}}function X(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function J(e,t,n,r){function o(e){return e?" (module: "+e+")":""}if(t)throw Vi("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,o(t.$$moduleName),n.name,o(n.$$moduleName),e,Z(r))}function et(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),r=!!t.length;return r&&I.$$addBindingClass(t),function(e,t){var o=t.parent();r||I.$$addBindingClass(o),I.$$addBindingInfo(o,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function tt(e,n){switch(e=Mo(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function nt(e,t){if("srcdoc"==t)return E.HTML;var n=j(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?E.RESOURCE_URL:void 0}function rt(e,t,n,o,i){var a=nt(e,o);i=b[o]||i;var s=r(n,!0,a,i);if(s){if("multiple"===o&&"select"===j(e))throw Vi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Z(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var c=l.$$observers||(l.$$observers=vt());if($.test(o))throw Vi("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var u=l[o];u!==n&&(s=u&&r(u,!0,a,i),n=u),s&&(l[o]=s(e),(c[o]||(c[o]=[])).$$inter=!0,(l.$$observers&&l.$$observers[o].$$scope||e).$watch(s,function(e,t){"class"===o&&e!=t?l.$updateClass(e,t):l.$set(o,e)}))}}}})}}function ot(e,n,r){var o,i,a=n[0],s=n.length,l=a.parentNode;if(e)for(o=0,i=e.length;i>o;o++)if(e[o]==a){e[o++]=r;for(var c=o,u=c+s-1,d=e.length;d>c;c++,u++)d>u?e[c]=e[u]:delete e[c];e.length-=s-1,e.context===a&&(e.context=r);break}l&&l.replaceChild(r,a);var f=t.createDocumentFragment();for(o=0;s>o;o++)f.appendChild(n[o]);for(Do.hasData(a)&&(Do.data(r,Do.data(a)),Do(a).off("$destroy")),Do.cleanData(f.querySelectorAll("*")),o=1;s>o;o++)delete n[o];n[0]=r,n.length=1}function it(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function at(e,t,n,r,i,a){try{e(t,n,r,i,a)}catch(s){o(s,Z(n))}}function st(e,t,n,o,a){var l=[];return i(o,function(o,i){var c,u,d,f,p,h=o.attrName,m=o.optional,v=o.mode;switch(v){case"@":m||No.call(t,h)||(n[i]=t[h]=void 0),t.$observe(h,function(e){C(e)&&(n[i]=e)}),t.$$observers[h].$$scope=e,c=t[h],C(c)?n[i]=r(c)(e):O(c)&&(n[i]=c);break;case"=":if(!No.call(t,h)){if(m)break;t[h]=void 0}if(m&&!t[h])break;u=s(t[h]),f=u.literal?B:function(e,t){return e===t||e!==e&&t!==t},d=u.assign||function(){throw c=n[i]=u(e),Vi("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[h],h,a.name)},c=n[i]=u(e);var b=function(t){return f(t,n[i])||(f(t,c)?d(e,t=n[i]):n[i]=t),c=t};b.$stateful=!0,p=o.collection?e.$watchCollection(t[h],b):e.$watch(s(t[h],b),null,u.literal),l.push(p);break;case"<":if(!No.call(t,h)){if(m)break;t[h]=void 0}if(m&&!t[h])break;u=s(t[h]),n[i]=u(e),p=e.$watch(u,function(e){n[i]=e},u.literal),l.push(p);break;case"&":if(u=t.hasOwnProperty(h)?s(t[h]):g,u===g&&m)break;n[i]=function(t){return u(e,t)}}}),l.length&&function(){for(var e=0,t=l.length;t>e;++e)l[e]()}}var lt=/^\w/,ct=t.createElement("div"),dt=function(e,t){if(t){var n,r,o,i=Object.keys(t);for(n=0,r=i.length;r>n;n++)o=i[n],this[o]=t[o]}else this.$attr={};this.$$element=e};dt.prototype={$normalize:mn,$addClass:function(e){e&&e.length>0&&T.addClass(this.$$element,e)
},$removeClass:function(e){e&&e.length>0&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=vn(e,t);n&&n.length&&T.addClass(this.$$element,n);var r=vn(t,e);r&&r.length&&T.removeClass(this.$$element,r)},$set:function(e,t,n,r){var a,s=this.$$element[0],l=Yt(s,e),c=Kt(e),u=e;if(l?(this.$$element.prop(e,t),r=l):c&&(this[c]=t,u=c),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e],r||(this.$attr[e]=r=ut(e,"-"))),a=j(this.$$element),"a"===a&&("href"===e||"xlinkHref"===e)||"img"===a&&"src"===e)this[e]=t=k(t,"src"===e);else if("img"===a&&"srcset"===e){for(var d="",f=Go(t),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,h=/\s/.test(f)?p:/(,)/,g=f.split(h),m=Math.floor(g.length/2),v=0;m>v;v++){var b=2*v;d+=k(Go(g[b]),!0),d+=" "+Go(g[b+1])}var E=Go(g[2*v]).split(/\s/);d+=k(Go(E[0]),!0),2===E.length&&(d+=" "+Go(E[1])),this[e]=t=d}n!==!1&&(null===t||y(t)?this.$$element.removeAttr(r):lt.test(r)?this.$$element.attr(r,t):N(this.$$element[0],r,t));var _=this.$$observers;_&&i(_[u],function(e){try{e(t)}catch(n){o(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=vt()),o=r[e]||(r[e]=[]);return o.push(t),v.$evalAsync(function(){o.$$inter||!n.hasOwnProperty(e)||y(n[e])||t(n[e])}),function(){H(o,t)}}};var pt=r.startSymbol(),ht=r.endSymbol(),gt="{{"==pt&&"}}"==ht?m:function(e){return e.replace(/\{\{/g,pt).replace(/}}/g,ht)},mt=/^ngAttr[A-Z]/,bt=/^(.+)Start$/;return I.$$addBindingInfo=A?function(e,t){var n=e.data("$binding")||[];Yo(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:g,I.$$addBindingClass=A?function(e){M(e,"ng-binding")}:g,I.$$addScopeInfo=A?function(e,t,n,r){var o=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(o,t)}:g,I.$$addScopeClass=A?function(e,t){M(e,t?"ng-isolate-scope":"ng-scope")}:g,I}]}function mn(e){return Ct(e.replace(Wi,""))}function vn(e,t){var n="",r=e.split(/\s+/),o=t.split(/\s+/);e:for(var i=0;i<r.length;i++){for(var a=r[i],s=0;s<o.length;s++)if(a==o[s])continue e;n+=(n.length>0?" ":"")+a}return n}function bn(e){e=Do(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===ai&&Ho.call(e,t,1)}return e}function yn(e,t){if(t&&C(t))return t;if(C(e)){var n=Yi.exec(e);if(n)return n[3]}}function En(){var e={},t=!1;this.register=function(t,n){ht(t,"controller"),_(t)?d(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(o,i){function a(e,t,n,o){if(!e||!_(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",o,t);e.$scope[t]=n}return function(r,s,l,c){var u,f,p,h;if(l=l===!0,c&&C(c)&&(h=c),C(r)){if(f=r.match(Yi),!f)throw zi("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);p=f[1],h=h||f[3],r=e.hasOwnProperty(p)?e[p]:gt(s.$scope,p,!0)||(t?gt(i,p,!0):n),pt(r,p,!0)}if(l){var g=(Yo(r)?r[r.length-1]:r).prototype;u=Object.create(g||null),h&&a(s,h,u,p||r.name);var m;return m=d(function(){var e=o.invoke(r,u,s,p);return e!==u&&(_(e)||S(e))&&(u=e,h&&a(s,h,u,p||r.name)),u},{instance:u,identifier:h})}return u=o.instantiate(r,s,p),h&&a(s,h,u,p||r.name),u}}]}function _n(){this.$get=["$window",function(e){return Do(e.document)}]}function wn(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function Cn(e){return _(e)?A(e)?e.toISOString():K(e):e}function $n(){this.$get=function(){return function(e){if(!e)return"";var t=[];return a(e,function(e,n){null===e||y(e)||(Yo(e)?i(e,function(e){t.push(ot(n)+"="+ot(Cn(e)))}):t.push(ot(n)+"="+ot(Cn(e))))}),t.join("&")}}}function An(){this.$get=function(){return function(e){function t(e,r,o){null===e||y(e)||(Yo(e)?i(e,function(e,n){t(e,r+"["+(_(e)?n:"")+"]")}):_(e)&&!A(e)?a(e,function(e,n){t(e,r+(o?"":"[")+n+(o?"":"]"))}):n.push(ot(r)+"="+ot(Cn(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function Sn(e,t){if(C(e)){var n=e.replace(Zi,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Gi)||Tn(n))&&(e=G(n))}}return e}function Tn(e){var t=e.match(Xi);return t&&Ji[t[0]].test(e)}function kn(e){function t(e,t){e&&(r[e]=r[e]?r[e]+", "+t:t)}var n,r=vt();return C(e)?i(e.split("\n"),function(e){n=e.indexOf(":"),t(Mo(Go(e.substr(0,n))),Go(e.substr(n+1)))}):_(e)&&i(e,function(e,n){t(Mo(n),Go(e))}),r}function xn(e){var t;return function(n){if(t||(t=kn(e)),n){var r=t[Mo(n)];return void 0===r&&(r=null),r}return t}}function Nn(e,t,n,r){return S(r)?r(e,t,n):(i(r,function(r){e=r(e,t,n)}),e)}function Mn(e){return e>=200&&300>e}function In(){var e=this.defaults={transformResponse:[Sn],transformRequest:[function(e){return!_(e)||N(e)||I(e)||M(e)?e:K(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:U(Qi),put:U(Qi),patch:U(Qi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return E(e)?(t=!!e,this):t};var o=!0;this.useLegacyPromiseExtensions=function(e){return E(e)?(o=!!e,this):o};var a=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,l,c,u,f,p){function h(t){function a(e){var t=d({},e);return t.data=Nn(e.data,e.headers,e.status,c.transformResponse),Mn(e.status)?t:f.reject(t)}function s(e,t){var n,r={};return i(e,function(e,o){S(e)?(n=e(t),null!=n&&(r[o]=n)):r[o]=e}),r}function l(t){var n,r,o,i=e.headers,a=d({},t.headers);i=d({},i.common,i[Mo(t.method)]);e:for(n in i){r=Mo(n);for(o in a)if(Mo(o)===r)continue e;a[n]=i[n]}return s(a,U(t))}if(!_(t))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);if(!C(t.url))throw r("$http")("badreq","Http request configuration url must be a string.  Received: {0}",t.url);var c=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);c.headers=l(t),c.method=Io(c.method),c.paramSerializer=C(c.paramSerializer)?p.get(c.paramSerializer):c.paramSerializer;var u=function(t){var r=t.headers,o=Nn(t.data,xn(r),n,t.transformRequest);return y(o)&&i(r,function(e,t){"content-type"===Mo(t)&&delete r[t]}),y(t.withCredentials)&&!y(e.withCredentials)&&(t.withCredentials=e.withCredentials),v(t,o).then(a,a)},h=[u,n],g=f.when(c);for(i($,function(e){(e.request||e.requestError)&&h.unshift(e.request,e.requestError),(e.response||e.responseError)&&h.push(e.response,e.responseError)});h.length;){var m=h.shift(),b=h.shift();g=g.then(m,b)}return o?(g.success=function(e){return pt(e,"fn"),g.then(function(t){e(t.data,t.status,t.headers,c)}),g},g.error=function(e){return pt(e,"fn"),g.then(null,function(t){e(t.data,t.status,t.headers,c)}),g}):(g.success=ta("success"),g.error=ta("error")),g}function g(){i(arguments,function(e){h[e]=function(t,n){return h(d({},n||{},{method:e,url:t}))}})}function m(){i(arguments,function(e){h[e]=function(t,n,r){return h(d({},r||{},{method:e,url:t,data:n}))}})}function v(r,o){function i(e,n,r,o){function i(){a(n,e,r,o)}p&&(Mn(e)?p.put($,[e,n,kn(r),o]):p.remove($)),t?u.$applyAsync(i):(i(),u.$$phase||u.$apply())}function a(e,t,n,o){t=t>=-1?t:0,(Mn(t)?m.resolve:m.reject)({data:e,status:t,headers:xn(n),config:r,statusText:o})}function c(e){a(e.data,e.status,U(e.headers()),e.statusText)}function d(){var e=h.pendingRequests.indexOf(r);-1!==e&&h.pendingRequests.splice(e,1)}var p,g,m=f.defer(),v=m.promise,C=r.headers,$=b(r.url,r.paramSerializer(r.params));if(h.pendingRequests.push(r),v.then(d,d),!r.cache&&!e.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(p=_(r.cache)?r.cache:_(e.cache)?e.cache:w),p&&(g=p.get($),E(g)?P(g)?g.then(c,c):Yo(g)?a(g[1],g[0],U(g[2]),g[3]):a(g,200,{},"OK"):p.put($,v)),y(g)){var A=Or(r.url)?l()[r.xsrfCookieName||e.xsrfCookieName]:n;A&&(C[r.xsrfHeaderName||e.xsrfHeaderName]=A),s(r.method,$,o,i,C,r.timeout,r.withCredentials,r.responseType)}return v}function b(e,t){return t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var w=c("$http");e.paramSerializer=C(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var $=[];return i(a,function(e){$.unshift(C(e)?p.get(e):p.invoke(e))}),h.pendingRequests=[],g("get","delete","head","jsonp"),m("post","put","patch"),h.defaults=e,h}]}function On(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Pn(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,r){return Rn(e,r,e.defer,t.angular.callbacks,n[0])}]}function Rn(e,t,n,r,o){function a(e,t,n){var i=o.createElement("script"),a=null;return i.type="text/javascript",i.src=e,i.async=!0,a=function(e){pi(i,"load",a),pi(i,"error",a),o.body.removeChild(i),i=null;var s=-1,l="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},fi(i,"load",a),fi(i,"error",a),o.body.appendChild(i),a}return function(o,s,l,c,u,d,f,p){function h(){b&&b(),_&&_.abort()}function m(t,r,o,i,a){E($)&&n.cancel($),b=_=null,t(r,o,i,a),e.$$completeOutstandingRequest(g)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==Mo(o)){var v="_"+(r.counter++).toString(36);r[v]=function(e){r[v].data=e,r[v].called=!0};var b=a(s.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(e,t){m(c,e,r[v].data,"",t),r[v]=g})}else{var _=t(o,s);_.open(o,s,!0),i(u,function(e,t){E(e)&&_.setRequestHeader(t,e)}),_.onload=function(){var e=_.statusText||"",t="response"in _?_.response:_.responseText,n=1223===_.status?204:_.status;0===n&&(n=t?200:"file"==Ir(s).protocol?404:0),m(c,n,t,_.getAllResponseHeaders(),e)};var w=function(){m(c,-1,null,null,"")};if(_.onerror=w,_.onabort=w,f&&(_.withCredentials=!0),p)try{_.responseType=p}catch(C){if("json"!==p)throw C}_.send(y(l)?null:l)}if(d>0)var $=n(h,d);else P(d)&&d.then(h)}}function Dn(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,o){function i(e){return"\\\\\\"+e}function a(n){return n.replace(p,e).replace(h,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=K(e)}return e}function l(e,t,n,r){var o;return o=e.$watch(function(e){return o(),r(e)},t,n)}function c(i,c,p,h){function g(e){try{return e=I(e),h&&!E(e)?e:s(e)}catch(t){r(na.interr(i,t))}}if(!i.length||-1===i.indexOf(e)){var m;if(!c){var b=a(i);m=v(b),m.exp=i,m.expressions=[],m.$$watchDelegate=l}return m}h=!!h;for(var _,w,C,$=0,A=[],T=[],k=i.length,x=[],N=[];k>$;){if(-1==(_=i.indexOf(e,$))||-1==(w=i.indexOf(t,_+u))){$!==k&&x.push(a(i.substring($)));break}$!==_&&x.push(a(i.substring($,_))),C=i.substring(_+u,w),A.push(C),T.push(n(C,g)),$=w+f,N.push(x.length),x.push("")}if(p&&x.length>1&&na.throwNoconcat(i),!c||A.length){var M=function(e){for(var t=0,n=A.length;n>t;t++){if(h&&y(e[t]))return;x[N[t]]=e[t]}return x.join("")},I=function(e){return p?o.getTrusted(p,e):o.valueOf(e)};return d(function(e){var t=0,n=A.length,o=new Array(n);try{for(;n>t;t++)o[t]=T[t](e);return M(o)}catch(a){r(na.interr(i,a))}},{exp:i,expressions:A,$$watchDelegate:function(e,t){var n;return e.$watchGroup(T,function(r,o){var i=M(r);S(t)&&t.call(this,i,r!==o?n:i,e),n=i})}})}}var u=e.length,f=t.length,p=new RegExp(e.replace(/./g,i),"g"),h=new RegExp(t.replace(/./g,i),"g");return c.startSymbol=function(){return e},c.endSymbol=function(){return t},c}]}function Ln(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,o){function i(i,s,l,c){function u(){d?i.apply(null,f):i(g)}var d=arguments.length>4,f=d?W(arguments,4):[],p=t.setInterval,h=t.clearInterval,g=0,m=E(c)&&!c,v=(m?r:n).defer(),b=v.promise;return l=E(l)?l:0,b.$$intervalId=p(function(){m?o.defer(u):e.$evalAsync(u),v.notify(g++),l>0&&g>=l&&(v.resolve(g),h(b.$$intervalId),delete a[b.$$intervalId]),m||e.$apply()},s),a[b.$$intervalId]=v,b}var a={};return i.cancel=function(e){return e&&e.$$intervalId in a?(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0):!1},i}]}function Fn(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=rt(t[n]);return t.join("/")}function jn(e,t){var n=Ir(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=p(n.port)||oa[n.protocol]||null}function Hn(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=Ir(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=tt(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function qn(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function Un(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Bn(e){return e.replace(/(#.+)|#$/,"$1")}function Vn(e){return e.substr(0,Un(e).lastIndexOf("/")+1)}function Wn(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function zn(e,t,n){this.$$html5=!0,n=n||"",jn(e,this),this.$$parse=function(e){var n=qn(t,e);if(!C(n))throw ia("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);Hn(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=nt(this.$$search),n=this.$$hash?"#"+rt(this.$$hash):"";this.$$url=Fn(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var i,a,s;return E(i=qn(e,r))?(a=i,s=E(i=qn(n,i))?t+(qn("/",i)||i):e+a):E(i=qn(t,r))?s=t+i:t==r+"/"&&(s=t),s&&this.$$parse(s),!!s}}function Yn(e,t,n){jn(e,this),this.$$parse=function(r){function o(e,t,n){var r,o=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),o.exec(t)?e:(r=o.exec(e),r?r[1]:e)}var i,a=qn(e,r)||qn(t,r);y(a)||"#"!==a.charAt(0)?this.$$html5?i=a:(i="",y(a)&&(e=r,this.replace())):(i=qn(n,a),y(i)&&(i=a)),Hn(i,this),this.$$path=o(this.$$path,i,e),this.$$compose()},this.$$compose=function(){var t=nt(this.$$search),r=this.$$hash?"#"+rt(this.$$hash):"";this.$$url=Fn(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t){return Un(e)==Un(t)?(this.$$parse(t),!0):!1}}function Kn(e,t,n){this.$$html5=!0,Yn.apply(this,arguments),this.$$parseLinkUrl=function(r,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var i,a;return e==Un(r)?i=r:(a=qn(t,r))?i=e+n+a:t===r+"/"&&(i=t),i&&this.$$parse(i),!!i},this.$$compose=function(){var t=nt(this.$$search),r=this.$$hash?"#"+rt(this.$$hash):"";this.$$url=Fn(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function Gn(e){return function(){return this[e]}}function Qn(e,t){return function(n){return y(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Xn(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return E(t)?(e=t,this):e},this.html5Mode=function(e){return O(e)?(t.enabled=e,this):_(e)?(O(e.enabled)&&(t.enabled=e.enabled),O(e.requireBase)&&(t.requireBase=e.requireBase),O(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,o,i,a){function s(e,t,n){var o=c.url(),i=c.$$state;try{r.url(e,t,n),c.$$state=r.state()}catch(a){throw c.url(o),c.$$state=i,a}}function l(e,t){n.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,u,d,f=r.baseHref(),p=r.url();if(t.enabled){if(!f&&t.requireBase)throw ia("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=Wn(p)+(f||"/"),u=o.history?zn:Kn}else d=Un(p),u=Yn;var h=Vn(d);c=new u(d,h,"#"+e),c.$$parseLinkUrl(p,p),c.$$state=r.state();var g=/^\s*(javascript|mailto):/i;i.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var o=Do(e.target);"a"!==j(o[0]);)if(o[0]===i[0]||!(o=o.parent())[0])return;var s=o.prop("href"),l=o.attr("href")||o.attr("xlink:href");_(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Ir(s.animVal).href),g.test(s)||!s||o.attr("target")||e.isDefaultPrevented()||c.$$parseLinkUrl(s,l)&&(e.preventDefault(),c.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Bn(c.absUrl())!=Bn(p)&&r.url(c.absUrl(),!0);var m=!0;return r.onUrlChange(function(e,t){return y(qn(h,e))?void(a.location.href=e):(n.$evalAsync(function(){var r,o=c.absUrl(),i=c.$$state;e=Bn(e),c.$$parse(e),c.$$state=t,r=n.$broadcast("$locationChangeStart",e,o,t,i).defaultPrevented,c.absUrl()===e&&(r?(c.$$parse(o),c.$$state=i,s(o,!1,i)):(m=!1,l(o,i)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=Bn(r.url()),t=Bn(c.absUrl()),i=r.state(),a=c.$$replace,u=e!==t||c.$$html5&&o.history&&i!==c.$$state;(m||u)&&(m=!1,n.$evalAsync(function(){var t=c.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,c.$$state,i).defaultPrevented;c.absUrl()===t&&(r?(c.$$parse(e),c.$$state=i):(u&&s(t,a,i===c.$$state?null:c.$$state),l(e,i)))})),c.$$replace=!1}),c}]}function Jn(){var e=!0,t=this;this.debugEnabled=function(t){return E(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||g,a=!1;try{a=!!o.apply}catch(s){}return a?function(){var e=[];return i(arguments,function(t){e.push(r(t))}),o.apply(t,e)}:function(e,t){o(e,null==t?"":t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Zn(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw sa("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function er(e){return e+""}function tr(e,t){if(e){if(e.constructor===e)throw sa("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw sa("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw sa("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw sa("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function nr(e,t){if(e){if(e.constructor===e)throw sa("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===la||e===ca||e===ua)throw sa("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function rr(e,t){if(e&&(e===0..constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw sa("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function or(e,t){return"undefined"!=typeof e?e:t}function ir(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function ar(e,t){var n=e(t);return!n.$stateful}function sr(e,t){var n,r;switch(e.type){case ha.Program:n=!0,i(e.body,function(e){sr(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case ha.Literal:e.constant=!0,e.toWatch=[];break;case ha.UnaryExpression:sr(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case ha.BinaryExpression:sr(e.left,t),sr(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case ha.LogicalExpression:sr(e.left,t),sr(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case ha.ConditionalExpression:sr(e.test,t),sr(e.alternate,t),sr(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case ha.Identifier:e.constant=!1,e.toWatch=[e];break;case ha.MemberExpression:sr(e.object,t),e.computed&&sr(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case ha.CallExpression:n=e.filter?ar(t,e.callee.name):!1,r=[],i(e.arguments,function(e){sr(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&ar(t,e.callee.name)?r:[e];break;case ha.AssignmentExpression:sr(e.left,t),sr(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case ha.ArrayExpression:n=!0,r=[],i(e.elements,function(e){sr(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case ha.ObjectExpression:n=!0,r=[],i(e.properties,function(e){sr(e.value,t),n=n&&e.value.constant,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case ha.ThisExpression:e.constant=!1,e.toWatch=[];break;case ha.LocalsExpression:e.constant=!1,e.toWatch=[]}}function lr(e){if(1==e.length){var t=e[0].expression,r=t.toWatch;return 1!==r.length?r:r[0]!==t?r:n}}function cr(e){return e.type===ha.Identifier||e.type===ha.MemberExpression}function ur(e){return 1===e.body.length&&cr(e.body[0].expression)?{type:ha.AssignmentExpression,left:e.body[0].expression,right:{type:ha.NGValueParameter},operator:"="}:void 0}function dr(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===ha.Literal||e.body[0].expression.type===ha.ArrayExpression||e.body[0].expression.type===ha.ObjectExpression)}function fr(e){return e.constant}function pr(e,t){this.astBuilder=e,this.$filter=t}function hr(e,t){this.astBuilder=e,this.$filter=t}function gr(e){return"constructor"==e}function mr(e){return S(e.valueOf)?e.valueOf():ma.call(e)}function vr(){var e=vt(),t=vt();this.$get=["$filter",function(r){function o(n,o,i){var s,p,b;switch(i=i||v,typeof n){case"string":n=n.trim(),b=n;var y=i?t:e;if(s=y[b],!s){":"===n.charAt(0)&&":"===n.charAt(1)&&(p=!0,n=n.substring(2));var E=i?m:h,_=new pa(E),w=new ga(_,r,E);s=w.parse(n),s.constant?s.$$watchDelegate=d:p?s.$$watchDelegate=s.literal?u:c:s.inputs&&(s.$$watchDelegate=l),i&&(s=a(s)),y[b]=s}return f(s,o);case"function":return f(n,o);default:return f(g,o)}}function a(e){function t(t,n,r,o){var i=v;v=!0;try{return e(t,n,r,o)}finally{v=i}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=a(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=a(e.inputs[n]);return t.inputs=e.inputs,t}function s(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=mr(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function l(e,t,r,o,i){var a,l=o.inputs;if(1===l.length){var c=s;return l=l[0],e.$watch(function(e){var t=l(e);return s(t,c)||(a=o(e,n,n,[t]),c=t&&mr(t)),a},t,r,i)}for(var u=[],d=[],f=0,p=l.length;p>f;f++)u[f]=s,d[f]=null;return e.$watch(function(e){for(var t=!1,r=0,i=l.length;i>r;r++){var c=l[r](e);(t||(t=!s(c,u[r])))&&(d[r]=c,u[r]=c&&mr(c))}return t&&(a=o(e,n,n,d)),a},t,r,i)}function c(e,t,n,r){var o,i;return o=e.$watch(function(e){return r(e)},function(e,n,r){i=e,S(t)&&t.apply(this,arguments),E(e)&&r.$$postDigest(function(){E(i)&&o()})},n)}function u(e,t,n,r){function o(e){var t=!0;return i(e,function(e){E(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return r(e)},function(e,n,r){s=e,S(t)&&t.call(this,e,n,r),o(e)&&r.$$postDigest(function(){o(s)&&a()})},n)}function d(e,t,n,r){var o;return o=e.$watch(function(e){return o(),r(e)},t,n)}function f(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,o=n!==u&&n!==c,i=o?function(n,o,i,a){var s=r&&a?a[0]:e(n,o,i,a);return t(s,n,o)}:function(n,r,o,i){var a=e(n,r,o,i),s=t(a,n,r);return E(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==l?i.$$watchDelegate=e.$$watchDelegate:t.$stateful||(i.$$watchDelegate=l,r=!e.inputs,i.inputs=e.inputs?e.inputs:[e]),i}var p=Xo().noUnsafeEval,h={csp:p,expensiveChecks:!1},m={csp:p,expensiveChecks:!0},v=!1;return o.$$runningExpensiveChecks=function(){return v},o}]}function br(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Er(function(t){e.$evalAsync(t)},t)}]}function yr(){this.$get=["$browser","$exceptionHandler",function(e,t){return Er(function(t){e.defer(t)},t)}]}function Er(e,t){function o(){this.$$state={status:0}}function a(e,t){return function(n){t.call(e,n)}}function s(e){var r,o,i;i=e.pending,e.processScheduled=!1,e.pending=n;for(var a=0,s=i.length;s>a;++a){o=i[a][0],r=i[a][e.status];try{S(r)?o.resolve(r(e.value)):1===e.status?o.resolve(e.value):o.reject(e.value)}catch(l){o.reject(l),t(l)}}}function l(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){s(t)}))}function c(){this.promise=new o}function u(e){var t=new c,n=0,r=Yo(e)?[]:{};return i(e,function(e,o){n++,v(e).then(function(e){r.hasOwnProperty(o)||(r[o]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(o)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var f=r("$q",TypeError),p=function(){var e=new c;return e.resolve=a(e,e.resolve),e.reject=a(e,e.reject),e.notify=a(e,e.notify),e};d(o.prototype,{then:function(e,t,n){if(y(e)&&y(t)&&y(n))return this;var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&l(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return m(t,!0,e)},function(t){return m(t,!1,e)},t)}}),d(c.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(f("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){function n(e){s||(s=!0,i.$$resolve(e))}function r(e){s||(s=!0,i.$$reject(e))}var o,i=this,s=!1;try{(_(e)||S(e))&&(o=e&&e.then),S(o)?(this.promise.$$state.status=-1,o.call(e,n,r,a(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,l(this.promise.$$state))}catch(c){r(c),t(c)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,o,i=0,a=r.length;a>i;i++){o=r[i][0],e=r[i][3];try{o.notify(S(e)?e(n):n)}catch(s){t(s)}}})}});var h=function(e){var t=new c;return t.reject(e),t.promise},g=function(e,t){var n=new c;return t?n.resolve(e):n.reject(e),n.promise},m=function(e,t,n){var r=null;try{S(n)&&(r=n())}catch(o){return g(o,!1)}return P(r)?r.then(function(){return g(e,t)},function(e){return g(e,!1)}):g(e,t)},v=function(e,t,n,r){var o=new c;return o.resolve(e),o.promise.then(t,n,r)},b=v,E=function(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!S(e))throw f("norslvr","Expected resolverFn, got '{0}'",e);var r=new c;return e(t,n),r.promise};return E.prototype=o.prototype,E.defer=p,E.reject=h,E.when=v,E.resolve=b,E.all=u,E}function _r(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,o=!!n,i=o?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return i.supported=o,i}]}function wr(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$exceptionHandler","$parse","$browser",function(r,c,u){function d(e){e.currentScope.$$destroyed=!0}function f(e){9===Ro&&(e.$$childHead&&f(e.$$childHead),e.$$nextSibling&&f(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function p(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function h(e){if($.$$phase)throw n("inprog","{0} already in progress",$.$$phase);$.$$phase=e}function m(){$.$$phase=null}function v(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function b(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function E(){}function w(){for(;k.length;)try{k.shift()()}catch(e){r(e)}s=null}function C(){null===s&&(s=u.defer(function(){$.$apply(w)}))}p.prototype={constructor:p,$new:function(t,n){var r;return n=n||this,t?(r=new p,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",d),r},$watch:function(e,t,n,r){var o=c(e);if(o.$$watchDelegate)return o.$$watchDelegate(this,t,n,o,e);var i=this,s=i.$$watchers,l={fn:t,last:E,get:o,exp:r||e,eq:!!n};return a=null,S(t)||(l.fn=g),s||(s=i.$$watchers=[]),s.unshift(l),v(this,1),function(){H(s,l)>=0&&v(i,-1),a=null}},$watchGroup:function(e,t){function n(){l=!1,c?(c=!1,t(o,o,s)):t(o,r,s)}var r=new Array(e.length),o=new Array(e.length),a=[],s=this,l=!1,c=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(o,o,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,i){o[0]=e,r[0]=n,t(o,e===n?o:r,i)}):(i(e,function(e,t){var i=s.$watch(e,function(e,i){o[t]=e,r[t]=i,l||(l=!0,s.$evalAsync(n))});a.push(i)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){i=e;var t,n,r,s,l;if(!y(i)){if(_(i))if(o(i)){a!==p&&(a=p,m=a.length=0,d++),t=i.length,m!==t&&(d++,a.length=m=t);for(var c=0;t>c;c++)l=a[c],s=i[c],r=l!==l&&s!==s,r||l===s||(d++,a[c]=s)}else{a!==h&&(a=h={},m=0,d++),t=0;for(n in i)No.call(i,n)&&(t++,s=i[n],l=a[n],n in a?(r=l!==l&&s!==s,r||l===s||(d++,a[n]=s)):(m++,a[n]=s,d++));if(m>t){d++;for(n in a)No.call(i,n)||(m--,delete a[n])}}else a!==i&&(a=i,d++);return d}}function r(){if(g?(g=!1,t(i,i,l)):t(i,s,l),u)if(_(i))if(o(i)){s=new Array(i.length);for(var e=0;e<i.length;e++)s[e]=i[e]}else{s={};for(var n in i)No.call(i,n)&&(s[n]=i[n])}else s=i}n.$stateful=!0;var i,a,s,l=this,u=t.length>1,d=0,f=c(e,n),p=[],h={},g=!0,m=0;return this.$watch(f,r)},$digest:function(){var e,o,i,l,c,d,f,p,g,v,b,y,_=t,C=this,k=[];h("$digest"),u.$$checkUrlChange(),this===$&&null!==s&&(u.defer.cancel(s),w()),a=null;do{for(p=!1,v=C;A.length;){try{y=A.shift(),y.scope.$eval(y.expression,y.locals)}catch(x){r(x)}a=null}e:do{if(d=v.$$watchers)for(f=d.length;f--;)try{if(e=d[f])if(c=e.get,(o=c(v))===(i=e.last)||(e.eq?B(o,i):"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))){if(e===a){p=!1;break e}}else p=!0,a=e,e.last=e.eq?q(o,null):o,l=e.fn,l(o,i===E?o:i,v),5>_&&(b=4-_,k[b]||(k[b]=[]),k[b].push({msg:S(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:o,oldVal:i}))}catch(x){r(x)}if(!(g=v.$$watchersCount&&v.$$childHead||v!==C&&v.$$nextSibling))for(;v!==C&&!(g=v.$$nextSibling);)v=v.$parent}while(v=g);if((p||A.length)&&!_--)throw m(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,k)}while(p||A.length);for(m();T.length;)try{T.shift()()}catch(x){r(x)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===$&&u.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var t in this.$$listenerCount)b(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$$nextSibling=null,f(this)}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){$.$$phase||A.length||u.defer(function(){A.length&&$.$digest()}),A.push({scope:this,expression:c(e),locals:t})},$$postDigest:function(e){T.push(e)},$apply:function(e){try{h("$apply");try{return this.$eval(e)
}finally{m()}}catch(t){r(t)}finally{try{$.$digest()}catch(t){throw r(t),t}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&k.push(t),e=c(e),C()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var o=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,b(o,1,e))}},$emit:function(e){var t,n,o,i=[],a=this,s=!1,l={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=V([l],arguments,1);do{for(t=a.$$listeners[e]||i,l.currentScope=a,n=0,o=t.length;o>n;n++)if(t[n])try{t[n].apply(null,c)}catch(u){r(u)}else t.splice(n,1),n--,o--;if(s)return l.currentScope=null,l;a=a.$parent}while(a);return l.currentScope=null,l},$broadcast:function(e){var t=this,n=t,o=t,i={name:e,targetScope:t,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!t.$$listenerCount[e])return i;for(var a,s,l,c=V([i],arguments,1);n=o;){for(i.currentScope=n,a=n.$$listeners[e]||[],s=0,l=a.length;l>s;s++)if(a[s])try{a[s].apply(null,c)}catch(u){r(u)}else a.splice(s,1),s--,l--;if(!(o=n.$$listenerCount[e]&&n.$$childHead||n!==t&&n.$$nextSibling))for(;n!==t&&!(o=n.$$nextSibling);)n=n.$parent}return i.currentScope=null,i}};var $=new p,A=$.$$asyncQueue=[],T=$.$$postDigestQueue=[],k=$.$$applyAsyncQueue=[];return $}]}function Cr(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return E(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return E(e)?(t=e,this):t},this.$get=function(){return function(n,r){var o,i=r?t:e;return o=Ir(n).href,""===o||o.match(i)?n:"unsafe:"+o}}}function $r(e){if("self"===e)return e;if(C(e)){if(e.indexOf("***")>-1)throw va("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Qo(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(T(e))return new RegExp("^"+e.source+"$");throw va("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Ar(e){var t=[];return E(e)&&i(e,function(e){t.push($r(e))}),t}function Sr(){this.SCE_CONTEXTS=ba;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Ar(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Ar(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?Or(t):!!e.exec(t.href)}function o(n){var o,i,a=Ir(n.toString()),s=!1;for(o=0,i=e.length;i>o;o++)if(r(e[o],a)){s=!0;break}if(s)for(o=0,i=t.length;i>o;o++)if(r(t[o],a)){s=!1;break}return s}function i(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=d.hasOwnProperty(e)?d[e]:null;if(!n)throw va("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||y(t)||""===t)return t;if("string"!=typeof t)throw va("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof u?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||y(t)||""===t)return t;var n=d.hasOwnProperty(e)?d[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===ba.RESOURCE_URL){if(o(t))return t;throw va("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===ba.HTML)return c(t);throw va("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(){throw va("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(c=n.get("$sanitize"));var u=i(),d={};return d[ba.HTML]=i(u),d[ba.CSS]=i(u),d[ba.URL]=i(u),d[ba.JS]=i(u),d[ba.RESOURCE_URL]=i(d[ba.URL]),{trustAs:a,getTrusted:l,valueOf:s}}]}function Tr(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Ro)throw va("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=U(ba);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=m),r.parseAs=function(e,n){var o=t(n);return o.literal&&o.constant?o:t(n,function(t){return r.getTrusted(e,t)})};var o=r.parseAs,a=r.getTrusted,s=r.trustAs;return i(ba,function(e,t){var n=Mo(t);r[Ct("parse_as_"+n)]=function(t){return o(e,t)},r[Ct("get_trusted_"+n)]=function(t){return a(e,t)},r[Ct("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function kr(){this.$get=["$window","$document",function(e,t){var n,r,o={},i=p((/android (\d+)/.exec(Mo((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,c=s.body&&s.body.style,u=!1,d=!1;if(c){for(var f in c)if(r=l.exec(f)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),u=!!("transition"in c||n+"Transition"in c),d=!!("animation"in c||n+"Animation"in c),!i||u&&d||(u=C(c.webkitTransition),d=C(c.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>i||a),hasEvent:function(e){if("input"===e&&11>=Ro)return!1;if(y(o[e])){var t=s.createElement("div");o[e]="on"+e in t}return o[e]},csp:Xo(),vendorPrefix:n,transitions:u,animations:d,android:i}}]}function xr(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,r,o){function i(a,s){function l(e){if(!s)throw Vi("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,e.status,e.statusText);return r.reject(e)}i.totalPendingRequests++,C(a)&&t.get(a)||(a=o.getTrustedResourceUrl(a));var c=n.defaults&&n.defaults.transformResponse;return Yo(c)?c=c.filter(function(e){return e!==Sn}):c===Sn&&(c=null),n.get(a,d({cache:t,transformResponse:c},e))["finally"](function(){i.totalPendingRequests--}).then(function(e){return t.put(a,e.data),e.data},l)}return i.totalPendingRequests=0,i}]}function Nr(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),o=[];return i(r,function(e){var r=Wo.element(e).data("$binding");r&&i(r,function(r){if(n){var i=new RegExp("(^|\\s)"+Qo(t)+"(\\s|\\||$)");i.test(r)&&o.push(e)}else-1!=r.indexOf(t)&&o.push(e)})}),o},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],o=0;o<r.length;++o){var i=n?"=":"*=",a="["+r[o]+"model"+i+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function Mr(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,o){function i(i,s,l){S(i)||(l=s,s=i,i=g);var c,u=W(arguments,3),d=E(l)&&!l,f=(d?r:n).defer(),p=f.promise;return c=t.defer(function(){try{f.resolve(i.apply(null,u))}catch(t){f.reject(t),o(t)}finally{delete a[p.$$timeoutId]}d||e.$apply()},s),p.$$timeoutId=c,a[c]=f,p}var a={};return i.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},i}]}function Ir(e){var t=e;return Ro&&(ya.setAttribute("href",t),t=ya.href),ya.setAttribute("href",t),{href:ya.href,protocol:ya.protocol?ya.protocol.replace(/:$/,""):"",host:ya.host,search:ya.search?ya.search.replace(/^\?/,""):"",hash:ya.hash?ya.hash.replace(/^#/,""):"",hostname:ya.hostname,port:ya.port,pathname:"/"===ya.pathname.charAt(0)?ya.pathname:"/"+ya.pathname}}function Or(e){var t=C(e)?Ir(e):e;return t.protocol===Ea.protocol&&t.host===Ea.host}function Pr(){this.$get=v(e)}function Rr(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},r={},o="";return function(){var e,i,a,s,l,c=n.cookie||"";if(c!==o)for(o=c,e=o.split("; "),r={},a=0;a<e.length;a++)i=e[a],s=i.indexOf("="),s>0&&(l=t(i.substring(0,s)),y(r[l])&&(r[l]=t(i.substring(s+1))));return r}}function Dr(){this.$get=Rr}function Lr(e){function t(r,o){if(_(r)){var a={};return i(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,o)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Ur),t("date",ro),t("filter",Fr),t("json",oo),t("limitTo",io),t("lowercase",Ta),t("number",Br),t("orderBy",ao),t("uppercase",ka)}function Fr(){return function(e,t,n){if(!o(e)){if(null==e)return e;throw r("filter")("notarray","Expected array but received: {0}",e)}var i,a,s=qr(t);switch(s){case"function":i=t;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":i=jr(t,n,a);break;default:return e}return Array.prototype.filter.call(e,i)}}function jr(e,t,n){var r,o=_(e)&&"$"in e;return t===!0?t=B:S(t)||(t=function(e,t){return y(e)?!1:null===e||null===t?e===t:_(t)||_(e)&&!b(e)?!1:(e=Mo(""+e),t=Mo(""+t),-1!==e.indexOf(t))}),r=function(r){return o&&!_(r)?Hr(r,e.$,t,!1):Hr(r,e,t,n)}}function Hr(e,t,n,r,o){var i=qr(e),a=qr(t);if("string"===a&&"!"===t.charAt(0))return!Hr(e,t.substring(1),n,r);if(Yo(e))return e.some(function(e){return Hr(e,t,n,r)});switch(i){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&Hr(e[s],t,n,!0))return!0;return o?!1:Hr(e,t,n,!1)}if("object"===a){for(s in t){var l=t[s];if(!S(l)&&!y(l)){var c="$"===s,u=c?e:e[s];if(!Hr(u,l,n,c,c))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function qr(e){return null===e?"null":typeof e}function Ur(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return y(n)&&(n=t.CURRENCY_SYM),y(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:zr(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Br(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:zr(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Vr(e){var t,n,r,o,i,a=0;for((n=e.indexOf(wa))>-1&&(e=e.replace(wa,"")),(r=e.search(/e/i))>0?(0>n&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):0>n&&(n=e.length),r=0;e.charAt(r)==Ca;r++);if(r==(i=e.length))t=[0],n=1;else{for(i--;e.charAt(i)==Ca;)i--;for(n-=r,t=[],o=0;i>=r;r++,o++)t[o]=+e.charAt(r)}return n>_a&&(t=t.splice(0,_a-1),a=n-1,n=1),{d:t,e:a,i:n}}function Wr(e,t,n,r){var o=e.d,i=o.length-e.i;t=y(t)?Math.min(Math.max(n,i),r):+t;var a=t+e.i,s=o[a];if(a>0)o.splice(a);else{e.i=1,o.length=a=t+1;for(var l=0;a>l;l++)o[l]=0}for(s>=5&&o[a-1]++;t>i;i++)o.push(0);var c=o.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);c&&(o.unshift(c),e.i++)}function zr(e,t,n,r,o){if(!C(e)&&!$(e)||isNaN(e))return"";var i,a=!isFinite(e),s=!1,l=Math.abs(e)+"",c="";if(a)c="∞";else{i=Vr(l),Wr(i,o,t.minFrac,t.maxFrac);var u=i.d,d=i.i,f=i.e,p=[];for(s=u.reduce(function(e,t){return e&&!t},!0);0>d;)u.unshift(0),d++;d>0?p=u.splice(d):(p=u,u=[0]);var h=[];for(u.length>t.lgSize&&h.unshift(u.splice(-t.lgSize).join(""));u.length>t.gSize;)h.unshift(u.splice(-t.gSize).join(""));u.length&&h.unshift(u.join("")),c=h.join(n),p.length&&(c+=r+p.join("")),f&&(c+="e+"+f)}return 0>e&&!s?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function Yr(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e=Ca+e;return n&&(e=e.substr(e.length-t)),r+e}function Kr(e,t,n,r){return n=n||0,function(o){var i=o["get"+e]();return(n>0||i>-n)&&(i+=n),0===i&&-12==n&&(i=12),Yr(i,t,r)}}function Gr(e,t){return function(n,r){var o=n["get"+e](),i=Io(t?"SHORT"+e:e);return r[i][o]}}function Qr(e,t,n){var r=-1*n,o=r>=0?"+":"";return o+=Yr(Math[r>0?"floor":"ceil"](r/60),2)+Yr(Math.abs(r%60),2)}function Xr(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Jr(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function Zr(e){return function(t){var n=Xr(t.getFullYear()),r=Jr(t),o=+r-+n,i=1+Math.round(o/6048e5);return Yr(i,e)}}function eo(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function to(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function no(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function ro(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),o=0,i=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(o=p(t[9]+t[10]),i=p(t[9]+t[11])),a.call(r,p(t[1]),p(t[2])-1,p(t[3]));var l=p(t[4]||0)-o,c=p(t[5]||0)-i,u=p(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,l,c,u,d),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,o){var a,s,l="",c=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,C(n)&&(n=Sa.test(n)?p(n):t(n)),$(n)&&(n=new Date(n)),!A(n)||!isFinite(n.getTime()))return n;for(;r;)s=Aa.exec(r),s?(c=V(c,s,1),r=c.pop()):(c.push(r),r=null);var u=n.getTimezoneOffset();return o&&(u=Q(o,u),n=J(n,o,!0)),i(c,function(t){a=$a[t],l+=a?a(n,e.DATETIME_FORMATS,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function oo(){return function(e,t){return y(t)&&(t=2),K(e,t)}}function io(){return function(e,t,n){return t=1/0===Math.abs(Number(t))?Number(t):p(t),isNaN(t)?e:($(e)&&(e=e.toString()),Yo(e)||C(e)?(n=!n||isNaN(n)?0:p(n),n=0>n?Math.max(0,e.length+n):n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function ao(e){function t(t,n){return n=n?-1:1,t.map(function(t){var r=1,o=m;if(S(t))o=t;else if(C(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(r="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(o=e(t),o.constant))){var i=o();o=function(e){return e[i]}}return{get:o,descending:r*n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function i(e,t){return"function"==typeof e.valueOf&&(e=e.valueOf(),n(e))?e:b(e)&&(e=e.toString(),n(e))?e:t}function a(e,t){var n=typeof e;return null===e?(n="string",e="null"):"string"===n?e=e.toLowerCase():"object"===n&&(e=i(e,t)),{value:e,type:n}}function s(e,t){var n=0;return e.type===t.type?e.value!==t.value&&(n=e.value<t.value?-1:1):n=e.type<t.type?-1:1,n}return function(e,n,i){function l(e,t){return{value:e,predicateValues:u.map(function(n){return a(n.get(e),t)})}}function c(e,t){for(var n=0,r=0,o=u.length;o>r&&!(n=s(e.predicateValues[r],t.predicateValues[r])*u[r].descending);++r);return n}if(null==e)return e;if(!o(e))throw r("orderBy")("notarray","Expected array but received: {0}",e);Yo(n)||(n=[n]),0===n.length&&(n=["+"]);var u=t(n,i);u.push({get:function(){return{}},descending:i?-1:1});var d=Array.prototype.map.call(e,l);return d.sort(c),e=d.map(function(e){return e.value})}}function so(e){return S(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function lo(e,t){e.$name=t}function co(e,t,r,o,a){var s=this,l=[];s.$error={},s.$$success={},s.$pending=n,s.$name=a(t.name||t.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,s.$$parentForm=Ma,s.$rollbackViewValue=function(){i(l,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){i(l,function(e){e.$commitViewValue()})},s.$addControl=function(e){ht(e.$name,"input"),l.push(e),e.$name&&(s[e.$name]=e),e.$$parentForm=s},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],i(s.$pending,function(t,n){s.$setValidity(n,null,e)}),i(s.$error,function(t,n){s.$setValidity(n,null,e)}),i(s.$$success,function(t,n){s.$setValidity(n,null,e)}),H(l,e),e.$$parentForm=Ma},Ao({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var o=r.indexOf(n);-1===o&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(H(r,n),0===r.length&&delete e[t])},$animate:o}),s.$setDirty=function(){o.removeClass(e,ps),o.addClass(e,hs),s.$dirty=!0,s.$pristine=!1,s.$$parentForm.$setDirty()},s.$setPristine=function(){o.setClass(e,ps,hs+" "+Ia),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,i(l,function(e){e.$setPristine()})},s.$setUntouched=function(){i(l,function(e){e.$setUntouched()})},s.$setSubmitted=function(){o.addClass(e,Ia),s.$submitted=!0,s.$$parentForm.$setSubmitted()}}function uo(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function fo(e,t,n,r,o,i){po(e,t,n,r,o,i),uo(r)}function po(e,t,n,r,o,i){var a=Mo(t[0].type);if(!o.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,l()})}var l=function(e){if(c&&(i.defer.cancel(c),c=null),!s){var o=t.val(),l=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(o=Go(o)),(r.$viewValue!==o||""===o&&r.$$hasNativeValidators)&&r.$setViewValue(o,l)}};if(o.hasEvent("input"))t.on("input",l);else{var c,u=function(e,t,n){c||(c=i.defer(function(){c=null,t&&t.value===n||l(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||u(e,this,this.value)}),o.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",l),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function ho(e,t){if(A(e))return e;if(C(e)){Ua.lastIndex=0;var n=Ua.exec(e);if(n){var r=+n[1],o=+n[2],i=0,a=0,s=0,l=0,c=Xr(r),u=7*(o-1);return t&&(i=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(r,0,c.getDate()+u,i,a,s,l)}}return 0/0}function go(e,t){return function(n,r){var o,a;if(A(n))return n;if(C(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Da.test(n))return new Date(n);if(e.lastIndex=0,o=e.exec(n))return o.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},i(o,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return 0/0}}function mo(e,t,r,o){return function(i,a,s,l,c,u,d){function f(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return E(e)&&!A(e)?r(e)||n:e}vo(i,a,s,l),po(i,a,s,l,c,u);var h,g=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){if(l.$isEmpty(e))return null;if(t.test(e)){var o=r(e,h);return g&&(o=J(o,g)),o}return n}),l.$formatters.push(function(e){if(e&&!A(e))throw Es("datefmt","Expected `{0}` to be a date",e);return f(e)?(h=e,h&&g&&(h=J(h,g,!0)),d("date")(e,o,g)):(h=null,"")}),E(s.min)||s.ngMin){var m;l.$validators.min=function(e){return!f(e)||y(m)||r(e)>=m},s.$observe("min",function(e){m=p(e),l.$validate()})}if(E(s.max)||s.ngMax){var v;l.$validators.max=function(e){return!f(e)||y(v)||r(e)<=v},s.$observe("max",function(e){v=p(e),l.$validate()})}}}function vo(e,t,r,o){var i=t[0],a=o.$$hasNativeValidators=_(i.validity);a&&o.$parsers.push(function(e){var r=t.prop(xo)||{};return r.badInput||r.typeMismatch?n:e})}function bo(e,t,r,o,i,a){if(vo(e,t,r,o),po(e,t,r,o,i,a),o.$$parserName="number",o.$parsers.push(function(e){return o.$isEmpty(e)?null:ja.test(e)?parseFloat(e):n}),o.$formatters.push(function(e){if(!o.$isEmpty(e)){if(!$(e))throw Es("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),E(r.min)||r.ngMin){var s;o.$validators.min=function(e){return o.$isEmpty(e)||y(s)||e>=s},r.$observe("min",function(e){E(e)&&!$(e)&&(e=parseFloat(e,10)),s=$(e)&&!isNaN(e)?e:n,o.$validate()})}if(E(r.max)||r.ngMax){var l;o.$validators.max=function(e){return o.$isEmpty(e)||y(l)||l>=e},r.$observe("max",function(e){E(e)&&!$(e)&&(e=parseFloat(e,10)),l=$(e)&&!isNaN(e)?e:n,o.$validate()})}}function yo(e,t,n,r,o,i){po(e,t,n,r,o,i),uo(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||La.test(n)}}function Eo(e,t,n,r,o,i){po(e,t,n,r,o,i),uo(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Fa.test(n)}}function _o(e,t,n,r){y(n.name)&&t.attr("name",l());var o=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",o),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function wo(e,t,n,r,o){var i;if(E(r)){if(i=e(r),!i.constant)throw Es("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return i(t)}return o}function Co(e,t,n,r,o,i,a,s){var l=wo(s,e,"ngTrueValue",n.ngTrueValue,!0),c=wo(s,e,"ngFalseValue",n.ngFalseValue,!1),u=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",u),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return B(e,l)}),r.$parsers.push(function(e){return e?l:c})}function $o(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var o=e[r],i=0;i<t.length;i++)if(o==t[i])continue e;n.push(o)}return n}function o(e){var t=[];return Yo(e)?(i(e,function(e){t=t.concat(o(e))}),t):C(e)?e.split(" "):_(e)?(i(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,l){function c(e){var t=d(e,1);l.$addClass(t)}function u(e){var t=d(e,-1);l.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||vt(),r=[];return i(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function f(e,t){var o=r(t,e),i=r(e,t);o=d(o,1),i=d(i,-1),o&&o.length&&n.addClass(s,o),i&&i.length&&n.removeClass(s,i)}function p(e){if(t===!0||a.$index%2===t){var n=o(e||[]);if(h){if(!B(e,h)){var r=o(h);f(r,n)}}else c(n)}h=U(e)}var h;a.$watch(l[e],p,!0),l.$observe("class",function(){p(a.$eval(l[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,r){var i=1&n;if(i!==(1&r)){var s=o(a.$eval(l[e]));i===t?c(s):u(s)}})}}}]}function Ao(e){function t(e,t,l){y(t)?r("$pending",e,l):o("$pending",e,l),O(t)?t?(d(s.$error,e,l),u(s.$$success,e,l)):(u(s.$error,e,l),d(s.$$success,e,l)):(d(s.$error,e,l),d(s.$$success,e,l)),s.$pending?(i(vs,!0),s.$valid=s.$invalid=n,a("",null)):(i(vs,!1),s.$valid=So(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var c;c=s.$pending&&s.$pending[e]?n:s.$error[e]?!1:s.$$success[e]?!0:null,a(e,c),s.$$parentForm.$setValidity(e,c,s)}function r(e,t,n){s[e]||(s[e]={}),u(s[e],t,n)}function o(e,t,r){s[e]&&d(s[e],t,r),So(s[e])&&(s[e]=n)}function i(e,t){t&&!c[e]?(f.addClass(l,e),c[e]=!0):!t&&c[e]&&(f.removeClass(l,e),c[e]=!1)}function a(e,t){e=e?"-"+ut(e,"-"):"",i(ds+e,t===!0),i(fs+e,t===!1)}var s=e.ctrl,l=e.$element,c={},u=e.set,d=e.unset,f=e.$animate;c[fs]=!(c[ds]=l.hasClass(ds)),s.$setValidity=t}function So(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function To(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var ko=/^\/(.+)\/([a-z]*)$/,xo="validity",No=Object.prototype.hasOwnProperty,Mo=function(e){return C(e)?e.toLowerCase():e},Io=function(e){return C(e)?e.toUpperCase():e},Oo=function(e){return C(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Po=function(e){return C(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Mo=Oo,Io=Po);var Ro,Do,Lo,Fo,jo=[].slice,Ho=[].splice,qo=[].push,Uo=Object.prototype.toString,Bo=Object.getPrototypeOf,Vo=r("ng"),Wo=e.angular||(e.angular={}),zo=0;Ro=t.documentMode,g.$inject=[],m.$inject=[];var Yo=Array.isArray,Ko=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Go=function(e){return C(e)?e.trim():e},Qo=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Xo=function(){function e(){try{return new Function(""),!1}catch(e){return!0}}if(!E(Xo.rules)){var n=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Xo.rules={noUnsafeEval:!r||-1!==r.indexOf("no-unsafe-eval"),noInlineStyle:!r||-1!==r.indexOf("no-inline-style")}}else Xo.rules={noUnsafeEval:e(),noInlineStyle:!1}}return Xo.rules},Jo=function(){if(E(Jo.name_))return Jo.name_;var e,n,r,o,i=ei.length;for(n=0;i>n;++n)if(r=ei[n],e=t.querySelector("["+r.replace(":","\\:")+"jq]")){o=e.getAttribute(r+"jq");break}return Jo.name_=o},Zo=/:/g,ei=["ng-","data-ng-","ng:","x-ng-"],ti=/[A-Z]/g,ni=!1,ri=1,oi=2,ii=3,ai=8,si=9,li=11,ci={full:"1.5.0",major:1,minor:5,dot:0,codeName:"ennoblement-facilitation"};Mt.expando="ng339";var ui=Mt.cache={},di=1,fi=function(e,t,n){e.addEventListener(t,n,!1)},pi=function(e,t,n){e.removeEventListener(t,n,!1)};Mt._data=function(e){return this.cache[e[this.expando]]||{}};var hi=/([\:\-\_]+(.))/g,gi=/^moz([A-Z])/,mi={mouseleave:"mouseout",mouseenter:"mouseover"},vi=r("jqLite"),bi=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,yi=/<|&#?\w+;/,Ei=/<([\w:-]+)/,_i=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,wi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wi.optgroup=wi.option,wi.tbody=wi.tfoot=wi.colgroup=wi.caption=wi.thead,wi.th=wi.td;var Ci=Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},$i=Mt.prototype={ready:function(n){function r(){o||(o=!0,n())}var o=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),Mt(e).on("load",r))},toString:function(){var e=[];return i(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Do(e>=0?this[e]:this[this.length+e])},length:0,push:qo,sort:[].sort,splice:[].splice},Ai={};i("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Ai[Mo(e)]=e});var Si={};i("input,select,option,textarea,button,form,details".split(","),function(e){Si[e]=!0});var Ti={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};i({data:Lt,removeData:Rt,hasData:St,cleanData:Tt},function(e,t){Mt[t]=e}),i({data:Lt,inheritedData:Bt,scope:function(e){return Do.data(e,"$scope")||Bt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Do.data(e,"$isolateScope")||Do.data(e,"$isolateScopeNoTemplate")},controller:Ut,injector:function(e){return Bt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Ft,css:function(e,t,n){return t=Ct(t),E(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,r){var o=e.nodeType;if(o!==ii&&o!==oi&&o!==ai){var i=Mo(t);if(Ai[i]){if(!E(r))return e[t]||(e.attributes.getNamedItem(t)||g).specified?i:n;r?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(E(r))e.setAttribute(t,r);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?n:a}}},prop:function(e,t,n){return E(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(y(t)){var n=e.nodeType;return n===ri||n===ii?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(y(t)){if(e.multiple&&"select"===j(e)){var n=[];return i(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return y(t)?e.innerHTML:(Ot(e,!0),void(e.innerHTML=t))},empty:Vt},function(e,t){Mt.prototype[t]=function(t,n){var r,o,i=this.length;if(e!==Vt&&y(2==e.length&&e!==Ft&&e!==Ut?t:n)){if(_(t)){for(r=0;i>r;r++)if(e===Lt)e(this[r],t);else for(o in t)e(this[r],o,t[o]);return this}for(var a=e.$dv,s=y(a)?Math.min(i,1):i,l=0;s>l;l++){var c=e(this[l],t,n);a=a?a+c:c}return a}for(r=0;i>r;r++)e(this[r],t,n);return this}}),i({removeData:Rt,on:function(e,t,r,o){if(E(o))throw vi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(At(e)){var i=Dt(e,!0),a=i.events,s=i.handle;s||(s=i.handle=Gt(e,a));for(var l=t.indexOf(" ")>=0?t.split(" "):[t],c=l.length,u=function(t,n,o){var i=a[t];i||(i=a[t]=[],i.specialHandlerWrapper=n,"$destroy"===t||o||fi(e,t,s)),i.push(r)};c--;)t=l[c],mi[t]?(u(mi[t],Xt),u(t,n,!0)):u(t)}},off:Pt,one:function(e,t,n){e=Do(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;Ot(e),i(new Mt(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return i(e.childNodes,function(e){e.nodeType===ri&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===ri||n===li){t=new Mt(t);for(var r=0,o=t.length;o>r;r++){var i=t[r];e.appendChild(i)}}},prepend:function(e,t){if(e.nodeType===ri){var n=e.firstChild;i(new Mt(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){Nt(e,Do(t).eq(0).clone()[0])},remove:Wt,detach:function(e){Wt(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new Mt(t);for(var o=0,i=t.length;i>o;o++){var a=t[o];r.insertBefore(a,n.nextSibling),n=a}},addClass:Ht,removeClass:jt,toggleClass:function(e,t,n){t&&i(t.split(" "),function(t){var r=n;y(r)&&(r=!Ft(e,t)),(r?Ht:jt)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==li?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:It,triggerHandler:function(e,t,n){var r,o,a,s=t.type||t,l=Dt(e),c=l&&l.events,u=c&&c[s];u&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:g,type:s,target:e},t.type&&(r=d(r,t)),o=U(u),a=n?[r].concat(n):[r],i(o,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){Mt.prototype[t]=function(t,n,r){for(var o,i=0,a=this.length;a>i;i++)y(o)?(o=e(this[i],t,n,r),E(o)&&(o=Do(o))):qt(o,e(this[i],t,n,r));return E(o)?o:this},Mt.prototype.bind=Mt.prototype.on,Mt.prototype.unbind=Mt.prototype.off}),en.prototype={put:function(e,t){this[Zt(e,this.nextUid)]=t},get:function(e){return this[Zt(e,this.nextUid)]},remove:function(e){var t=this[e=Zt(e,this.nextUid)];return delete this[e],t}};var ki=[function(){this.$get=[function(){return en}]}],xi=/^([^\(]+?)=>/,Ni=/^[^\(]*\(\s*([^\)]*)\)/m,Mi=/,/,Ii=/^\s*(_?)(\S+?)\1\s*$/,Oi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Pi=r("$injector");on.$$annotate=rn;var Ri=r("$animate"),Di=1,Li="ng-animate",Fi=function(){this.$get=function(){}},ji=function(){var e=new en,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function o(e,t,n){var r=!1;return t&&(t=C(t)?t.split(" "):Yo(t)?t:[],i(t,function(t){t&&(r=!0,e[t]=n)})),r}function a(){i(t,function(t){var n=e.get(t);if(n){var r=cn(t.attr("class")),o="",a="";i(n,function(e,t){var n=!!r[t];e!==n&&(e?o+=(o.length?" ":"")+t:a+=(a.length?" ":"")+t)}),i(t,function(e){o&&Ht(e,o),a&&jt(e,a)}),e.remove(t)}}),t.length=0}function s(n,i,s){var l=e.get(n)||{},c=o(l,i,!0),u=o(l,s,!1);(c||u)&&(e.put(n,l),t.push(n),1===t.length&&r.$$postDigest(a))}return{enabled:g,on:g,off:g,pin:g,push:function(e,t,r,o){o&&o(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&s(e,r.addClass,r.removeClass);var i=new n;return i.complete(),i}}}]},Hi=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Ri("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var o=n+"-animation";t.$$registeredAnimations[n.substr(1)]=o,e.factory(o,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+Li+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Ri("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Li)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=ln(n);!r||r.parentNode||r.previousElementSibling||(n=null)
}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,o,i){return r=r&&Do(r),o=o&&Do(o),r=r||o.parent(),t(n,r,o),e.push(n,"enter",un(i))},move:function(n,r,o,i){return r=r&&Do(r),o=o&&Do(o),r=r||o.parent(),t(n,r,o),e.push(n,"move",un(i))},leave:function(t,n){return e.push(t,"leave",un(n),function(){t.remove()})},addClass:function(t,n,r){return r=un(r),r.addClass=sn(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=un(r),r.removeClass=sn(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,o){return o=un(o),o.addClass=sn(o.addClass,n),o.removeClass=sn(o.removeClass,r),e.push(t,"setClass",o)},animate:function(t,n,r,o,i){return i=un(i),i.from=i.from?d(i.from,n):n,i.to=i.to?d(i.to,r):r,o=o||"ng-inline-animate",i.tempClasses=sn(i.tempClasses,o),e.push(t,"animate",i)}}}]}],qi=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},Ui=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,r,o){function a(e){this.setHost(e);var t=n(),i=function(e){o(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){var n=r[0];n&&n.hidden?i(e):t(e)},this._state=0}var s=0,l=1,c=2;return a.chain=function(e,t){function n(){return r===e.length?void t(!0):void e[r](function(e){return e===!1?void t(!1):(r++,void n())})}var r=0;n()},a.all=function(e,t){function n(n){o=o&&n,++r===e.length&&t(o)}var r=0,o=!0;i(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===c?e():this._doneCallbacks.push(e)},progress:g,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===s&&(t._state=l,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==c&&(i(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=c)}},a}]},Bi=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function o(){return e(function(){i(),s||l.complete(),s=!0}),l}function i(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=q(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var s,l=new n;return{start:o,end:o}}}]},Vi=r("$compile");gn.$inject=["$provide","$$sanitizeUriProvider"];var Wi=/^((?:x|data)[\:\-_])/i,zi=r("$controller"),Yi=/^(\S+)(\s+as\s+([\w$]+))?$/,Ki=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Do&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Gi="application/json",Qi={"Content-Type":Gi+";charset=utf-8"},Xi=/^\[|^\{(?!\{)/,Ji={"[":/]$/,"{":/}$/},Zi=/^\)\]\}',?\n/,ea=r("$http"),ta=function(e){return function(){throw ea("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},na=Wo.$interpolateMinErr=r("$interpolate");na.throwNoconcat=function(e){throw na("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},na.interr=function(e,t){return na("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var ra=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,oa={http:80,https:443,ftp:21},ia=r("$location"),aa={$$html5:!1,$$replace:!1,absUrl:Gn("$$absUrl"),url:function(e){if(y(e))return this.$$url;var t=ra.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Gn("$$protocol"),host:Gn("$$host"),port:Gn("$$port"),path:Qn("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(C(e)||$(e))e=e.toString(),this.$$search=tt(e);else{if(!_(e))throw ia("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=q(e,{}),i(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:y(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Qn("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};i([Kn,Yn,zn],function(e){e.prototype=Object.create(aa),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==zn||!this.$$html5)throw ia("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=y(t)?null:t,this}});var sa=r("$parse"),la=Function.prototype.call,ca=Function.prototype.apply,ua=Function.prototype.bind,da=vt();i("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){da[e]=!0});var fa={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},pa=function(e){this.options=e};pa.prototype={constructor:pa,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),o=da[t],i=da[n],a=da[r];if(o||i||a){var s=a?r:i?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=E(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw sa("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Mo(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,o=!1;this.index<this.text.length;){var i=this.text.charAt(this.index);if(r+=i,o){if("u"===i){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=fa[i];n+=s||i}o=!1}else if("\\"===i)o=!0;else{if(i===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=i}this.index++}this.throwError("Unterminated quote",t)}};var ha=function(e,t){this.lexer=e,this.options=t};ha.Program="Program",ha.ExpressionStatement="ExpressionStatement",ha.AssignmentExpression="AssignmentExpression",ha.ConditionalExpression="ConditionalExpression",ha.LogicalExpression="LogicalExpression",ha.BinaryExpression="BinaryExpression",ha.UnaryExpression="UnaryExpression",ha.CallExpression="CallExpression",ha.MemberExpression="MemberExpression",ha.Identifier="Identifier",ha.Literal="Literal",ha.ArrayExpression="ArrayExpression",ha.Property="Property",ha.ObjectExpression="ObjectExpression",ha.ThisExpression="ThisExpression",ha.LocalsExpression="LocalsExpression",ha.NGValueParameter="NGValueParameter",ha.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:ha.Program,body:e}},expressionStatement:function(){return{type:ha.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:ha.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:ha.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:ha.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:ha.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:ha.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:ha.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:ha.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:ha.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:ha.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=q(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:ha.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:ha.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:ha.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:ha.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:ha.Identifier,name:e.text}},constant:function(){return{type:ha.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:ha.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:ha.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:ha.ObjectExpression,properties:t}},throwError:function(e,t){throw sa("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw sa("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw sa("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,o){if(this.tokens.length>e){var i=this.tokens[e],a=i.text;if(a===t||a===n||a===r||a===o||!t&&!n&&!r&&!o)return i}return!1},expect:function(e,t,n,r){var o=this.peek(e,t,n,r);return o?(this.tokens.shift(),o):!1},constants:{"true":{type:ha.Literal,value:!0},"false":{type:ha.Literal,value:!1},"null":{type:ha.Literal,value:null},undefined:{type:ha.Literal,value:n},"this":{type:ha.ThisExpression},$locals:{type:ha.LocalsExpression}}},pr.prototype={compile:function(e,t){var r=this,o=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},sr(o,r.$filter);var a,s="";if(this.stage="assign",a=ur(o)){this.state.computing="assign";var l=this.nextId();this.recurse(a,l),this.return_(l),s="fn.assign="+this.generateFunction("assign","s,v,l")}var c=lr(o.body);r.stage="inputs",i(c,function(e,t){var n="fn"+t;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var o=r.nextId();r.recurse(e,o),r.return_(o),r.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(o);var u='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",d=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",u)(this.$filter,Zn,tr,nr,er,rr,or,ir,e);return this.state=this.stage=n,d.literal=dr(o),d.constant=fr(o),d},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return i(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return i(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,r,o,a,s){var l,c,u,d,f=this;if(o=o||g,!s&&E(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,r,o,a,!0));switch(e.type){case ha.Program:i(e.body,function(t,r){f.recurse(t.expression,n,n,function(e){c=e}),r!==e.body.length-1?f.current().body.push(c,";"):f.return_(c)});break;case ha.Literal:d=this.escape(e.value),this.assign(t,d),o(d);break;case ha.UnaryExpression:this.recurse(e.argument,n,n,function(e){c=e}),d=e.operator+"("+this.ifDefined(c,0)+")",this.assign(t,d),o(d);break;case ha.BinaryExpression:this.recurse(e.left,n,n,function(e){l=e}),this.recurse(e.right,n,n,function(e){c=e}),d="+"===e.operator?this.plus(l,c):"-"===e.operator?this.ifDefined(l,0)+e.operator+this.ifDefined(c,0):"("+l+")"+e.operator+"("+c+")",this.assign(t,d),o(d);break;case ha.LogicalExpression:t=t||this.nextId(),f.recurse(e.left,t),f.if_("&&"===e.operator?t:f.not(t),f.lazyRecurse(e.right,t)),o(t);break;case ha.ConditionalExpression:t=t||this.nextId(),f.recurse(e.test,t),f.if_(t,f.lazyRecurse(e.alternate,t),f.lazyRecurse(e.consequent,t)),o(t);break;case ha.Identifier:t=t||this.nextId(),r&&(r.context="inputs"===f.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),r.computed=!1,r.name=e.name),Zn(e.name),f.if_("inputs"===f.stage||f.not(f.getHasOwnProperty("l",e.name)),function(){f.if_("inputs"===f.stage||"s",function(){a&&1!==a&&f.if_(f.not(f.nonComputedMember("s",e.name)),f.lazyAssign(f.nonComputedMember("s",e.name),"{}")),f.assign(t,f.nonComputedMember("s",e.name))})},t&&f.lazyAssign(t,f.nonComputedMember("l",e.name))),(f.state.expensiveChecks||gr(e.name))&&f.addEnsureSafeObject(t),o(t);break;case ha.MemberExpression:l=r&&(r.context=this.nextId())||this.nextId(),t=t||this.nextId(),f.recurse(e.object,l,n,function(){f.if_(f.notNull(l),function(){a&&1!==a&&f.addEnsureSafeAssignContext(l),e.computed?(c=f.nextId(),f.recurse(e.property,c),f.getStringValue(c),f.addEnsureSafeMemberName(c),a&&1!==a&&f.if_(f.not(f.computedMember(l,c)),f.lazyAssign(f.computedMember(l,c),"{}")),d=f.ensureSafeObject(f.computedMember(l,c)),f.assign(t,d),r&&(r.computed=!0,r.name=c)):(Zn(e.property.name),a&&1!==a&&f.if_(f.not(f.nonComputedMember(l,e.property.name)),f.lazyAssign(f.nonComputedMember(l,e.property.name),"{}")),d=f.nonComputedMember(l,e.property.name),(f.state.expensiveChecks||gr(e.property.name))&&(d=f.ensureSafeObject(d)),f.assign(t,d),r&&(r.computed=!1,r.name=e.property.name))},function(){f.assign(t,"undefined")}),o(t)},!!a);break;case ha.CallExpression:t=t||this.nextId(),e.filter?(c=f.filter(e.callee.name),u=[],i(e.arguments,function(e){var t=f.nextId();f.recurse(e,t),u.push(t)}),d=c+"("+u.join(",")+")",f.assign(t,d),o(t)):(c=f.nextId(),l={},u=[],f.recurse(e.callee,c,l,function(){f.if_(f.notNull(c),function(){f.addEnsureSafeFunction(c),i(e.arguments,function(e){f.recurse(e,f.nextId(),n,function(e){u.push(f.ensureSafeObject(e))})}),l.name?(f.state.expensiveChecks||f.addEnsureSafeObject(l.context),d=f.member(l.context,l.name,l.computed)+"("+u.join(",")+")"):d=c+"("+u.join(",")+")",d=f.ensureSafeObject(d),f.assign(t,d)},function(){f.assign(t,"undefined")}),o(t)}));break;case ha.AssignmentExpression:if(c=this.nextId(),l={},!cr(e.left))throw sa("lval","Trying to assign a value to a non l-value");this.recurse(e.left,n,l,function(){f.if_(f.notNull(l.context),function(){f.recurse(e.right,c),f.addEnsureSafeObject(f.member(l.context,l.name,l.computed)),f.addEnsureSafeAssignContext(l.context),d=f.member(l.context,l.name,l.computed)+e.operator+c,f.assign(t,d),o(t||d)})},1);break;case ha.ArrayExpression:u=[],i(e.elements,function(e){f.recurse(e,f.nextId(),n,function(e){u.push(e)})}),d="["+u.join(",")+"]",this.assign(t,d),o(d);break;case ha.ObjectExpression:u=[],i(e.properties,function(e){f.recurse(e.value,f.nextId(),n,function(t){u.push(f.escape(e.key.type===ha.Identifier?e.key.name:""+e.key.value)+":"+t)})}),d="{"+u.join(",")+"}",this.assign(t,d),o(d);break;case ha.ThisExpression:this.assign(t,"s"),o("s");break;case ha.LocalsExpression:this.assign(t,"l"),o("l");break;case ha.NGValueParameter:this.assign(t,"v"),o("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,o,i){var a=this;return function(){a.recurse(e,t,n,r,o,i)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(C(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if($(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw sa("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},hr.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,sr(r,n.$filter);var o,a;(o=ur(r))&&(a=this.recurse(o));var s,l=lr(r.body);l&&(s=[],i(l,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var c=[];i(r.body,function(e){c.push(n.recurse(e.expression))});var u=0===r.body.length?function(){}:1===r.body.length?c[0]:function(e,t){var n;return i(c,function(r){n=r(e,t)}),n};return a&&(u.assign=function(e,t,n){return a(e,n,t)}),s&&(u.inputs=s),u.literal=dr(r),u.constant=fr(r),u},recurse:function(e,t,r){var o,a,s,l=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case ha.Literal:return this.value(e.value,t);case ha.UnaryExpression:return a=this.recurse(e.argument),this["unary"+e.operator](a,t);case ha.BinaryExpression:return o=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](o,a,t);case ha.LogicalExpression:return o=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](o,a,t);case ha.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case ha.Identifier:return Zn(e.name,l.expression),l.identifier(e.name,l.expensiveChecks||gr(e.name),t,r,l.expression);case ha.MemberExpression:return o=this.recurse(e.object,!1,!!r),e.computed||(Zn(e.property.name,l.expression),a=e.property.name),e.computed&&(a=this.recurse(e.property)),e.computed?this.computedMember(o,a,t,r,l.expression):this.nonComputedMember(o,a,l.expensiveChecks,t,r,l.expression);case ha.CallExpression:return s=[],i(e.arguments,function(e){s.push(l.recurse(e))}),e.filter&&(a=this.$filter(e.callee.name)),e.filter||(a=this.recurse(e.callee,!0)),e.filter?function(e,r,o,i){for(var l=[],c=0;c<s.length;++c)l.push(s[c](e,r,o,i));var u=a.apply(n,l,i);return t?{context:n,name:n,value:u}:u}:function(e,n,r,o){var i,c=a(e,n,r,o);if(null!=c.value){tr(c.context,l.expression),nr(c.value,l.expression);for(var u=[],d=0;d<s.length;++d)u.push(tr(s[d](e,n,r,o),l.expression));i=tr(c.value.apply(c.context,u),l.expression)}return t?{value:i}:i};case ha.AssignmentExpression:return o=this.recurse(e.left,!0,1),a=this.recurse(e.right),function(e,n,r,i){var s=o(e,n,r,i),c=a(e,n,r,i);return tr(s.value,l.expression),rr(s.context),s.context[s.name]=c,t?{value:c}:c};case ha.ArrayExpression:return s=[],i(e.elements,function(e){s.push(l.recurse(e))}),function(e,n,r,o){for(var i=[],a=0;a<s.length;++a)i.push(s[a](e,n,r,o));return t?{value:i}:i};case ha.ObjectExpression:return s=[],i(e.properties,function(e){s.push({key:e.key.type===ha.Identifier?e.key.name:""+e.key.value,value:l.recurse(e.value)})}),function(e,n,r,o){for(var i={},a=0;a<s.length;++a)i[s[a].key]=s[a].value(e,n,r,o);return t?{value:i}:i};case ha.ThisExpression:return function(e){return t?{value:e}:e};case ha.LocalsExpression:return function(e,n){return t?{value:n}:n};case ha.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,o,i){var a=e(n,r,o,i);return a=E(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,o,i){var a=e(n,r,o,i);return a=E(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,o,i){var a=!e(n,r,o,i);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a),l=t(r,o,i,a),c=ir(s,l);return n?{value:c}:c}},"binary-":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a),l=t(r,o,i,a),c=(E(s)?s:0)-(E(l)?l:0);return n?{value:c}:c}},"binary*":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)*t(r,o,i,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)/t(r,o,i,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)%t(r,o,i,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)===t(r,o,i,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)!==t(r,o,i,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)==t(r,o,i,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)!=t(r,o,i,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)<t(r,o,i,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)>t(r,o,i,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)<=t(r,o,i,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)>=t(r,o,i,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)&&t(r,o,i,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)||t(r,o,i,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(o,i,a,s){var l=e(o,i,a,s)?t(o,i,a,s):n(o,i,a,s);return r?{value:l}:l}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,r,o,i){return function(a,s){var l=s&&e in s?s:a;o&&1!==o&&l&&!l[e]&&(l[e]={});var c=l?l[e]:n;return t&&tr(c,i),r?{context:l,name:e,value:c}:c}},computedMember:function(e,t,n,r,o){return function(i,a,s,l){var c,u,d=e(i,a,s,l);return null!=d&&(c=t(i,a,s,l),c=er(c),Zn(c,o),r&&1!==r&&(rr(d),d&&!d[c]&&(d[c]={})),u=d[c],tr(u,o)),n?{context:d,name:c,value:u}:u}},nonComputedMember:function(e,t,r,o,i,a){return function(s,l,c,u){var d=e(s,l,c,u);i&&1!==i&&(rr(d),d&&!d[t]&&(d[t]={}));var f=null!=d?d[t]:n;return(r||gr(t))&&tr(f,a),o?{context:d,name:t,value:f}:f}},inputs:function(e,t){return function(n,r,o,i){return i?i[t]:e(n,r,o)}}};var ga=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new ha(this.lexer),this.astCompiler=n.csp?new hr(this.ast,t):new pr(this.ast,t)};ga.prototype={constructor:ga,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var ma=Object.prototype.valueOf,va=r("$sce"),ba={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Vi=r("$compile"),ya=t.createElement("a"),Ea=Ir(e.location.href);Rr.$inject=["$document"],Lr.$inject=["$provide"];var _a=22,wa=".",Ca="0";Ur.$inject=["$locale"],Br.$inject=["$locale"];var $a={yyyy:Kr("FullYear",4),yy:Kr("FullYear",2,0,!0),y:Kr("FullYear",1),MMMM:Gr("Month"),MMM:Gr("Month",!0),MM:Kr("Month",2,1),M:Kr("Month",1,1),dd:Kr("Date",2),d:Kr("Date",1),HH:Kr("Hours",2),H:Kr("Hours",1),hh:Kr("Hours",2,-12),h:Kr("Hours",1,-12),mm:Kr("Minutes",2),m:Kr("Minutes",1),ss:Kr("Seconds",2),s:Kr("Seconds",1),sss:Kr("Milliseconds",3),EEEE:Gr("Day"),EEE:Gr("Day",!0),a:eo,Z:Qr,ww:Zr(2),w:Zr(1),G:to,GG:to,GGG:to,GGGG:no},Aa=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Sa=/^\-?\d+$/;ro.$inject=["$locale"];var Ta=v(Mo),ka=v(Io);ao.$inject=["$parse"];var xa=v({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Uo.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Na={};i(Ai,function(e,t){function n(e,n,o){e.$watch(o[r],function(e){o.$set(t,!!e)})}if("multiple"!=e){var r=mn("ng-"+t),o=n;"checked"===e&&(o=function(e,t,o){o.ngModel!==o[r]&&n(e,t,o)}),Na[r]=function(){return{restrict:"A",priority:100,link:o}}}}),i(Ti,function(e,t){Na[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var o=r.ngPattern.match(ko);if(o)return void r.$set("ngPattern",new RegExp(o[1],o[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),i(["src","srcset","href"],function(e){var t=mn("ng-"+e);Na[t]=function(){return{priority:99,link:function(n,r,o){var i=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Uo.call(r.prop("href"))&&(a="xlinkHref",o.$attr[a]="xlink:href",i=null),o.$observe(t,function(t){return t?(o.$set(a,t),void(Ro&&i&&r.prop(i,o[a]))):void("href"===e&&o.$set(a,null))})}}}});var Ma={$addControl:g,$$renameControl:lo,$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g},Ia="ng-submitted";co.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Oa=function(e){return["$timeout","$parse",function(t,r){function o(e){return""===e?r('this[""]').assign:r(e).assign||g}var i={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:co,compile:function(r,i){r.addClass(ps).addClass(ds);var a=i.name?"name":e&&i.ngForm?"ngForm":!1;return{pre:function(e,r,i,s){var l=s[0];if(!("action"in i)){var c=function(t){e.$apply(function(){l.$commitViewValue(),l.$setSubmitted()}),t.preventDefault()};fi(r[0],"submit",c),r.on("$destroy",function(){t(function(){pi(r[0],"submit",c)},0,!1)})}var u=s[1]||l.$$parentForm;u.$addControl(l);var f=a?o(l.$name):g;a&&(f(e,l),i.$observe(a,function(t){l.$name!==t&&(f(e,n),l.$$parentForm.$$renameControl(l,t),(f=o(l.$name))(e,l))})),r.on("$destroy",function(){l.$$parentForm.$removeControl(l),f(e,n),d(l,Ma)})}}}};return i}]},Pa=Oa(),Ra=Oa(!0),Da=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,La=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Fa=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,ja=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ha=/^(\d{4})-(\d{2})-(\d{2})$/,qa=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ua=/^(\d{4})-W(\d\d)$/,Ba=/^(\d{4})-(\d\d)$/,Va=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Wa={text:fo,date:mo("date",Ha,go(Ha,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":mo("datetimelocal",qa,go(qa,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:mo("time",Va,go(Va,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:mo("week",Ua,ho,"yyyy-Www"),month:mo("month",Ba,go(Ba,["yyyy","MM"]),"yyyy-MM"),number:bo,url:yo,email:Eo,radio:_o,checkbox:Co,hidden:g,button:g,submit:g,reset:g,file:g},za=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(o,i,a,s){s[0]&&(Wa[Mo(a.type)]||Wa.text)(o,i,a,s[0],t,e,n,r)
}}}}],Ya=/^(true|false|\d+)$/,Ka=function(){return{restrict:"A",priority:100,compile:function(e,t){return Ya.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Ga=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=y(e)?"":e})}}}}],Qa=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,o){var i=e(r.attr(o.$attr.ngBindTemplate));t.$$addBindingInfo(r,i.expressions),r=r[0],o.$observe("ngBindTemplate",function(e){r.textContent=y(e)?"":e})}}}}],Xa=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,o){var i=t(o.ngBindHtml),a=t(o.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(r),function(t,r,o){n.$$addBindingInfo(r,o.ngBindHtml),t.$watch(a,function(){r.html(e.getTrustedHtml(i(t))||"")})}}}}],Ja=v({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Za=$o("",!0),es=$o("Odd",0),ts=$o("Even",1),ns=so({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),rs=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],os={},is={blur:!0,focus:!0};i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=mn("ng-"+e);os[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(o,i){var a=n(i[t],null,!0);return function(t,n){n.on(e,function(n){var o=function(){a(t,{$event:n})};is[e]&&r.$$phase?t.$evalAsync(o):t.$apply(o)})}}}}]});var as=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,o,i,a){var s,l,c;n.$watch(o.ngIf,function(n){n?l||a(function(n,i){l=i,n[n.length++]=t.createComment(" end ngIf: "+o.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=mt(s.clone),e.leave(c).then(function(){c=null}),s=null))})}}}],ss=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Wo.noop,compile:function(r,o){var i=o.ngInclude||o.src,a=o.onload||"",s=o.autoscroll;return function(r,o,l,c,u){var d,f,p,h=0,g=function(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),p&&(n.leave(p).then(function(){f=null}),f=p,p=null)};r.$watch(i,function(i){var l=function(){!E(s)||s&&!r.$eval(s)||t()},f=++h;i?(e(i,!0).then(function(e){if(!r.$$destroyed&&f===h){var t=r.$new();c.template=e;var s=u(t,function(e){g(),n.enter(e,null,o).then(l)});d=t,p=s,d.$emit("$includeContentLoaded",i),r.$eval(a)}},function(){r.$$destroyed||f===h&&(g(),r.$emit("$includeContentError",i))}),r.$emit("$includeContentRequested",i)):(g(),c.template=null)})}}}}],ls=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,o,i){return Uo.call(r[0]).match(/SVG/)?(r.empty(),void e(kt(i.template,t).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(i.template),void e(r.contents())(n))}}}],cs=so({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),us=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,o){var a=t.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,l=s?Go(a):a,c=function(e){if(!y(e)){var t=[];return e&&i(e.split(l),function(e){e&&t.push(s?Go(e):e)}),t}};o.$parsers.push(c),o.$formatters.push(function(e){return Yo(e)?e.join(a):n}),o.$isEmpty=function(e){return!e||!e.length}}}},ds="ng-valid",fs="ng-invalid",ps="ng-pristine",hs="ng-dirty",gs="ng-untouched",ms="ng-touched",vs="ng-pending",bs="ng-empty",ys="ng-not-empty",Es=r("ngModel"),_s=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,o,a,s,l,c,u,d){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(r.name||"",!1)(e),this.$$parentForm=Ma;var f,p=a(r.ngModel),h=p.assign,m=p,v=h,b=null,_=this;this.$$setOptions=function(e){if(_.$options=e,e&&e.getterSetter){var t=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");m=function(e){var n=p(e);return S(n)&&(n=t(e)),n},v=function(e){S(p(e))?n(e,{$$$p:_.$modelValue}):h(e,_.$modelValue)}}else if(!p.assign)throw Es("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,Z(o))},this.$render=g,this.$isEmpty=function(e){return y(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){_.$isEmpty(e)?(s.removeClass(o,ys),s.addClass(o,bs)):(s.removeClass(o,bs),s.addClass(o,ys))};var w=0;Ao({ctrl:this,$element:o,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:s}),this.$setPristine=function(){_.$dirty=!1,_.$pristine=!0,s.removeClass(o,hs),s.addClass(o,ps)},this.$setDirty=function(){_.$dirty=!0,_.$pristine=!1,s.removeClass(o,ps),s.addClass(o,hs),_.$$parentForm.$setDirty()},this.$setUntouched=function(){_.$touched=!1,_.$untouched=!0,s.setClass(o,gs,ms)},this.$setTouched=function(){_.$touched=!0,_.$untouched=!1,s.setClass(o,ms,gs)},this.$rollbackViewValue=function(){l.cancel(b),_.$viewValue=_.$$lastCommittedViewValue,_.$render()},this.$validate=function(){if(!$(_.$modelValue)||!isNaN(_.$modelValue)){var e=_.$$lastCommittedViewValue,t=_.$$rawModelValue,r=_.$valid,o=_.$modelValue,i=_.$options&&_.$options.allowInvalid;_.$$runValidators(t,e,function(e){i||r===e||(_.$modelValue=e?t:n,_.$modelValue!==o&&_.$$writeModelToScope())})}},this.$$runValidators=function(e,t,r){function o(){var e=_.$$parserName||"parse";return y(f)?(l(e,null),!0):(f||(i(_.$validators,function(e,t){l(t,null)}),i(_.$asyncValidators,function(e,t){l(t,null)})),l(e,f),f)}function a(){var n=!0;return i(_.$validators,function(r,o){var i=r(e,t);n=n&&i,l(o,i)}),n?!0:(i(_.$asyncValidators,function(e,t){l(t,null)}),!1)}function s(){var r=[],o=!0;i(_.$asyncValidators,function(i,a){var s=i(e,t);if(!P(s))throw Es("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);l(a,n),r.push(s.then(function(){l(a,!0)},function(){o=!1,l(a,!1)}))}),r.length?u.all(r).then(function(){c(o)},g):c(!0)}function l(e,t){d===w&&_.$setValidity(e,t)}function c(e){d===w&&r(e)}w++;var d=w;return o()&&a()?void s():void c(!1)},this.$commitViewValue=function(){var e=_.$viewValue;l.cancel(b),(_.$$lastCommittedViewValue!==e||""===e&&_.$$hasNativeValidators)&&(_.$$updateEmptyClasses(e),_.$$lastCommittedViewValue=e,_.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){_.$modelValue!==a&&_.$$writeModelToScope()}var r=_.$$lastCommittedViewValue,o=r;if(f=y(o)?n:!0)for(var i=0;i<_.$parsers.length;i++)if(o=_.$parsers[i](o),y(o)){f=!1;break}$(_.$modelValue)&&isNaN(_.$modelValue)&&(_.$modelValue=m(e));var a=_.$modelValue,s=_.$options&&_.$options.allowInvalid;_.$$rawModelValue=o,s&&(_.$modelValue=o,t()),_.$$runValidators(o,_.$$lastCommittedViewValue,function(e){s||(_.$modelValue=e?o:n,t())})},this.$$writeModelToScope=function(){v(e,_.$modelValue),i(_.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){_.$viewValue=e,(!_.$options||_.$options.updateOnDefault)&&_.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,o=_.$options;o&&E(o.debounce)&&(n=o.debounce,$(n)?r=n:$(n[t])?r=n[t]:$(n["default"])&&(r=n["default"])),l.cancel(b),r?b=l(function(){_.$commitViewValue()},r):c.$$phase?_.$commitViewValue():e.$apply(function(){_.$commitViewValue()})},e.$watch(function(){var t=m(e);if(t!==_.$modelValue&&(_.$modelValue===_.$modelValue||t===t)){_.$modelValue=_.$$rawModelValue=t,f=n;for(var r=_.$formatters,o=r.length,i=t;o--;)i=r[o](i);_.$viewValue!==i&&(_.$$updateEmptyClasses(i),_.$viewValue=_.$$lastCommittedViewValue=i,_.$render(),_.$$runValidators(t,i,g))}return t})}],ws=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:_s,priority:1,compile:function(t){return t.addClass(ps).addClass(gs).addClass(ds),{pre:function(e,t,n,r){var o=r[0],i=r[1]||o.$$parentForm;o.$$setOptions(r[2]&&r[2].$options),i.$addControl(o),n.$observe("name",function(e){o.$name!==e&&o.$$parentForm.$$renameControl(o,e)}),e.$on("$destroy",function(){o.$$parentForm.$removeControl(o)})},post:function(t,n,r,o){var i=o[0];i.$options&&i.$options.updateOn&&n.on(i.$options.updateOn,function(e){i.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){i.$touched||(e.$$phase?t.$evalAsync(i.$setTouched):t.$apply(i.$setTouched))})}}}}}],Cs=/(\s+|^)default(\s+|$)/,$s=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=q(e.$eval(t.ngModelOptions)),E(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Go(this.$options.updateOn.replace(Cs,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},As=so({terminal:!0,priority:1e3}),Ss=r("ngOptions"),Ts=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ks=["$compile","$parse",function(e,n){function r(e,t,r){function i(e,t,n,r,o){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=o}function a(e){var t;if(!c&&o(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(Ts);if(!s)throw Ss("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,Z(t));var l=s[5]||s[7],c=s[6],u=/ as /.test(s[0])&&s[1],d=s[9],f=n(s[2]?s[1]:l),p=u&&n(u),h=p||f,g=d&&n(d),m=d?function(e,t){return g(r,t)}:function(e){return Zt(e)},v=function(e,t){return m(e,C(e,t))},b=n(s[2]||s[1]),y=n(s[3]||""),E=n(s[4]||""),_=n(s[8]),w={},C=c?function(e,t){return w[c]=t,w[l]=e,w}:function(e){return w[l]=e,w};return{trackBy:d,getTrackByValue:v,getWatchables:n(_,function(e){var t=[];e=e||[];for(var n=a(e),o=n.length,i=0;o>i;i++){var l=e===n?i:n[i],c=(e[l],C(e[l],l)),u=m(e[l],c);if(t.push(u),s[2]||s[1]){var d=b(r,c);t.push(d)}if(s[4]){var f=E(r,c);t.push(f)}}return t}),getOptions:function(){for(var e=[],t={},n=_(r)||[],o=a(n),s=o.length,l=0;s>l;l++){var c=n===o?l:o[l],u=n[c],f=C(u,c),p=h(r,f),g=m(p,f),w=b(r,f),$=y(r,f),A=E(r,f),S=new i(g,p,w,$,A);e.push(S),t[g]=S}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return d?Wo.copy(e.viewValue):e.viewValue}}}}}function a(t,n,o,a){function c(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function u(e,t,n,r){var o;return t&&Mo(t.nodeName)===n?o=t:(o=r.cloneNode(!1),t?e.insertBefore(o,t):e.appendChild(o)),o}function d(e){for(var t;e;)t=e.nextSibling,Wt(e),e=t}function f(e){var t=h&&h[0],n=C&&C[0];if(t||n)for(;e&&(e===t||e===n||e.nodeType===ai||"option"===j(e)&&""===e.value);)e=e.nextSibling;return e}function p(){var e=$&&g.readValue();$=A.getOptions();var t={},r=n[0].firstChild;if(w&&n.prepend(h),r=f(r),$.items.forEach(function(e){var o,i,a;E(e.group)?(o=t[e.group],o||(i=u(n[0],r,"optgroup",l),r=i.nextSibling,i.label=e.group,o=t[e.group]={groupElement:i,currentOptionElement:i.firstChild}),a=u(o.groupElement,o.currentOptionElement,"option",s),c(e,a),o.currentOptionElement=a.nextSibling):(a=u(n[0],r,"option",s),c(e,a),r=a.nextSibling)}),Object.keys(t).forEach(function(e){d(t[e].currentOptionElement)}),d(r),m.$render(),!m.$isEmpty(e)){var o=g.readValue(),i=A.trackBy||v;(i?B(e,o):e===o)||(m.$setViewValue(o),m.$render())}}for(var h,g=a[0],m=a[1],v=o.multiple,b=0,y=n.children(),_=y.length;_>b;b++)if(""===y[b].value){h=y.eq(b);break}var w=!!h,C=Do(s.cloneNode(!1));C.val("?");var $,A=r(o.ngOptions,n,t),S=function(){w||n.prepend(h),n.val(""),h.prop("selected",!0),h.attr("selected",!0)},T=function(){w||h.remove()},k=function(){n.prepend(C),n.val("?"),C.prop("selected",!0),C.attr("selected",!0)},x=function(){C.remove()};v?(m.$isEmpty=function(e){return!e||0===e.length},g.writeValue=function(e){$.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=$.getOptionFromViewValue(e);t&&!t.disabled&&(t.element.selected=!0)})},g.readValue=function(){var e=n.val()||[],t=[];return i(e,function(e){var n=$.selectValueMap[e];n&&!n.disabled&&t.push($.getViewValueFromOption(n))}),t},A.trackBy&&t.$watchCollection(function(){return Yo(m.$viewValue)?m.$viewValue.map(function(e){return A.getTrackByValue(e)}):void 0},function(){m.$render()})):(g.writeValue=function(e){var t=$.getOptionFromViewValue(e);t&&!t.disabled?n[0].value!==t.selectValue&&(x(),T(),n[0].value=t.selectValue,t.element.selected=!0,t.element.setAttribute("selected","selected")):null===e||w?(x(),S()):(T(),k())},g.readValue=function(){var e=$.selectValueMap[n.val()];return e&&!e.disabled?(T(),x(),$.getViewValueFromOption(e)):null},A.trackBy&&t.$watch(function(){return A.getTrackByValue(m.$viewValue)},function(){m.$render()})),w?(h.remove(),e(h)(t),h.removeClass("ng-scope")):h=Do(s.cloneNode(!1)),p(),t.$watchCollection(A.getWatchables,p)}var s=t.createElement("option"),l=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=g},post:a}}}],xs=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function c(e){s.text(e||"")}var u,d=l.count,f=l.$attr.when&&s.attr(l.$attr.when),p=l.offset||0,h=a.$eval(f)||{},m={},v=t.startSymbol(),b=t.endSymbol(),E=v+d+"-"+p+b,_=Wo.noop;i(l,function(e,t){var n=o.exec(t);if(n){var r=(n[1]?"-":"")+Mo(n[2]);h[r]=s.attr(l.$attr[t])}}),i(h,function(e,n){m[n]=t(e.replace(r,E))}),a.$watch(d,function(t){var r=parseFloat(t),o=isNaN(r);if(o||r in h||(r=e.pluralCat(r-p)),r!==u&&!(o&&$(u)&&isNaN(u))){_();var i=m[r];y(i)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+f),_=g,c()):_=a.$watch(i,c),u=r}})}}}],Ns=["$parse","$animate",function(e,a){var s="$$NG_REMOVED",l=r("ngRepeat"),c=function(e,t,n,r,o,i,a){e[n]=r,o&&(e[o]=i),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},u=function(e){return e.clone[0]},d=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,f){var p=f.ngRepeat,h=t.createComment(" end ngRepeat: "+p+" "),g=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var m=g[1],v=g[2],b=g[3],y=g[4];if(g=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!g)throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var E=g[3]||g[1],_=g[2];if(b&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(b)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(b)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",b);var w,C,$,A,S={$id:Zt};return y?w=e(y):($=function(e,t){return Zt(t)},A=function(e){return e}),function(e,t,r,f,g){w&&(C=function(t,n,r){return _&&(S[_]=t),S[E]=n,S.$index=r,w(e,S)});var m=vt();e.$watchCollection(v,function(r){var f,v,y,w,S,T,k,x,N,M,I,O,P=t[0],R=vt();if(b&&(e[b]=r),o(r))N=r,x=C||$;else{x=C||A,N=[];for(var D in r)No.call(r,D)&&"$"!==D.charAt(0)&&N.push(D)}for(w=N.length,I=new Array(w),f=0;w>f;f++)if(S=r===N?f:N[f],T=r[S],k=x(S,T,f),m[k])M=m[k],delete m[k],R[k]=M,I[f]=M;else{if(R[k])throw i(I,function(e){e&&e.scope&&(m[e.id]=e)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,k,T);I[f]={id:k,scope:n,clone:n},R[k]=!0}for(var L in m){if(M=m[L],O=mt(M.clone),a.leave(O),O[0].parentNode)for(f=0,v=O.length;v>f;f++)O[f][s]=!0;M.scope.$destroy()}for(f=0;w>f;f++)if(S=r===N?f:N[f],T=r[S],M=I[f],M.scope){y=P;do y=y.nextSibling;while(y&&y[s]);u(M)!=y&&a.move(mt(M.clone),null,Do(P)),P=d(M),c(M.scope,f,E,T,_,S,w)}else g(function(e,t){M.scope=t;var n=h.cloneNode(!1);e[e.length++]=n,a.enter(e,null,Do(P)),P=n,M.clone=e,R[M.id]=M,c(M.scope,f,E,T,_,S,w)});m=R})}}}}],Ms="ng-hide",Is="ng-hide-animate",Os=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,Ms,{tempClasses:Is})})}}}],Ps=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,Ms,{tempClasses:Is})})}}}],Rs=so(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&i(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Ds=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,o,a){var s=o.ngSwitch||o.on,l=[],c=[],u=[],d=[],f=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,o;for(r=0,o=u.length;o>r;++r)e.cancel(u[r]);for(u.length=0,r=0,o=d.length;o>r;++r){var s=mt(c[r].clone);d[r].$destroy();var p=u[r]=e.leave(s);p.then(f(u,r))}c.length=0,d.length=0,(l=a.cases["!"+n]||a.cases["?"])&&i(l,function(n){n.transclude(function(r,o){d.push(o);var i=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");var a={clone:r};c.push(a),e.enter(r,i.parent(),i)})})})}}}],Ls=so({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,o){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:o,element:t})}}),Fs=so({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,o){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:o,element:t})}}),js=r("ngTransclude"),Hs=so({restrict:"EAC",link:function(e,t,n,r,o){function i(e){e.length&&(t.empty(),t.append(e))}if(n.ngTransclude===n.$attr.ngTransclude&&(n.ngTransclude=""),!o)throw js("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Z(t));var a=n.ngTransclude||n.ngTranscludeSlot;o(i,null,a)}}),qs=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,o=t[0].text;e.put(r,o)}}}}],Us={$setViewValue:g,$render:g},Bs=["$element","$scope","$attrs",function(e,r){var o=this,i=new en;o.ngModelCtrl=Us,o.unknownOption=Do(t.createElement("option")),o.renderUnknownOption=function(t){var n="? "+Zt(t)+" ?";o.unknownOption.val(n),e.prepend(o.unknownOption),e.val(n)},r.$on("$destroy",function(){o.renderUnknownOption=g}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),e.val()},o.writeValue=function(t){o.hasOption(t)?(o.removeUnknownOption(),e.val(t),""===t&&o.emptyOption.prop("selected",!0)):null==t&&o.emptyOption?(o.removeUnknownOption(),e.val("")):o.renderUnknownOption(t)},o.addOption=function(e,t){if(t[0].nodeType!==ai){ht(e,'"option value"'),""===e&&(o.emptyOption=t);var n=i.get(e)||0;i.put(e,n+1),o.ngModelCtrl.$render(),To(t)}},o.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.remove(e),""===e&&(o.emptyOption=n)):i.put(e,t-1))},o.hasOption=function(e){return!!i.get(e)},o.registerOption=function(e,t,n,r,i){if(r){var a;n.$observe("value",function(e){E(a)&&o.removeOption(a),a=e,o.addOption(e,t)})}else i?e.$watch(i,function(e,r){n.$set("value",e),r!==e&&o.removeOption(r),o.addOption(e,t)}):o.addOption(n.value,t);t.on("$destroy",function(){o.removeOption(n.value),o.ngModelCtrl.$render()})}}],Vs=function(){function e(e,t,n,r){var o=r[1];if(o){var a=r[0];if(a.ngModelCtrl=o,t.on("change",function(){e.$apply(function(){o.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return i(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new en(e);i(t.find("option"),function(e){e.selected=E(n.get(e.value))})};var s,l=0/0;e.$watch(function(){l!==o.$viewValue||B(s,o.$viewValue)||(s=U(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}}function t(e,t,n,r){var o=r[1];if(o){var i=r[0];o.$render=function(){i.writeValue(o.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Bs,priority:1,link:{pre:e,post:t}}},Ws=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(E(n.value))var r=e(n.value,!0);else{var o=e(t.text(),!0);o||n.$set("value",t.text())}return function(e,t,n){var i="$selectController",a=t.parent(),s=a.data(i)||a.parent().data(i);s&&s.registerOption(e,t,n,r,o)}}}}],zs=v({restrict:"E",terminal:!1}),Ys=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Ks=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,o,i){if(i){var a,s=o.ngPattern||o.pattern;o.$observe("pattern",function(e){if(C(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,Z(t));a=e||n,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||y(a)||a.test(t)}}}}},Gs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var o=-1;n.$observe("maxlength",function(e){var t=p(e);o=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>o||r.$isEmpty(t)||t.length<=o}}}}},Qs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var o=0;n.$observe("minlength",function(e){o=p(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=o}}}}};return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(dt(),_t(Wo),Wo.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function r(e,r){var o=r;n===o&&(o=Math.min(t(e),3));var i=Math.pow(10,o),a=(e*i|0)%i;return{v:o,f:a}}var o={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var n=0|e,i=r(e,t);return 1==n&&0==i.v?o.ONE:o.OTHER}})}]),void Do(t).ready(function(){at(t,st)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(e,t){"use strict";function n(e,t,n){if(!e)throw gt("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function r(e,t){return e||t?e?t?(U(e)&&(e=e.join(" ")),U(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function o(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function i(e,t,n){var r="";return e=U(e)?e:e&&B(e)&&e.length?e.split(/\s+/):[],q(e,function(e,o){e&&e.length>0&&(r+=o>0?" ":"",r+=n?t+e:e+t)}),r}function a(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function s(e){if(e instanceof H)switch(e.length){case 0:return[];case 1:if(e[0].nodeType===G)return e;break;default:return H(l(e))}return e.nodeType===G?H(e):void 0}function l(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==G)return n}}function c(e,t,n){q(t,function(t){e.addClass(t,n)})}function u(e,t,n){q(t,function(t){e.removeClass(t,n)})}function d(e){return function(t,n){n.addClass&&(c(e,t,n.addClass),n.addClass=null),n.removeClass&&(u(e,t,n.removeClass),n.removeClass=null)}}function f(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||L;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=L},e.$$prepared=!0}return e}function p(e,t){h(e,t),g(e,t)}function h(e,t){t.from&&(e.css(t.from),t.from=null)}function g(e,t){t.to&&(e.css(t.to),t.to=null)}function m(e,t,n){var r=t.options||{},o=n.options||{},i=(r.addClass||"")+" "+(o.addClass||""),a=(r.removeClass||"")+" "+(o.removeClass||""),s=v(e.attr("class"),i,a);o.preparationClasses&&(r.preparationClasses=$(o.preparationClasses,r.preparationClasses),delete o.preparationClasses);var l=r.domOperation!==L?r.domOperation:null;return j(r,o),l&&(r.domOperation=l),r.addClass=s.addClass?s.addClass:null,r.removeClass=s.removeClass?s.removeClass:null,t.addClass=r.addClass,t.removeClass=r.removeClass,r}function v(e,t,n){function r(e){B(e)&&(e=e.split(" "));var t={};return q(e,function(e){e.length&&(t[e]=!0)}),t}var o=1,i=-1,a={};e=r(e),t=r(t),q(t,function(e,t){a[t]=o}),n=r(n),q(n,function(e,t){a[t]=a[t]===o?null:i});var s={addClass:"",removeClass:""};return q(a,function(t,n){var r,a;t===o?(r="addClass",a=!e[n]):t===i&&(r="removeClass",a=e[n]),a&&(s[r].length&&(s[r]+=" "),s[r]+=n)}),s}function b(e){return e instanceof t.element?e[0]:e}function y(e,t,n){var r="";t&&(r=i(t,J,!0)),n.addClass&&(r=$(r,i(n.addClass,Q))),n.removeClass&&(r=$(r,i(n.removeClass,X))),r.length&&(n.preparationClasses=r,e.addClass(r))}function E(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function _(e,t){var n=t?"-"+t+"s":"";return C(e,[pt,n]),[pt,n]}function w(e,t){var n=t?"paused":"",r=R+ct;return C(e,[r,n]),[r,n]}function C(e,t){var n=t[0],r=t[1];e.style[n]=r}function $(e,t){return e?t?e+" "+t:e:t}function A(e){return[ft,e+"s"]}function S(e,t){var n=t?dt:pt;return[n,e+"s"]}function T(e,t,n){var r=Object.create(null),o=e.getComputedStyle(t)||{};return q(n,function(e,t){var n=o[e];if(n){var i=n.charAt(0);("-"===i||"+"===i||i>=0)&&(n=k(n)),0===n&&(n=null),r[t]=n}}),r}function k(e){var t=0,n=e.split(/\s*,\s*/);return q(n,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function x(e){return 0===e||null!=e}function N(e,t){var n=O,r=e+"s";return t?n+=ot:r+=" linear all",[n,r]}function M(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function I(e,t,n){q(n,function(n){e[n]=z(e[n])?e[n]:t.style.getPropertyValue(n)})}var O,P,R,D,L=t.noop,F=t.copy,j=t.extend,H=t.element,q=t.forEach,U=t.isArray,B=t.isString,V=t.isObject,W=t.isUndefined,z=t.isDefined,Y=t.isFunction,K=t.isElement,G=1,Q="-add",X="-remove",J="ng-",Z="-active",et="-prepare",tt="ng-animate",nt="$$ngAnimateChildren",rt="";W(e.ontransitionend)&&z(e.onwebkittransitionend)?(rt="-webkit-",O="WebkitTransition",P="webkitTransitionEnd transitionend"):(O="transition",P="transitionend"),W(e.onanimationend)&&z(e.onwebkitanimationend)?(rt="-webkit-",R="WebkitAnimation",D="webkitAnimationEnd animationend"):(R="animation",D="animationend");var ot="Duration",it="Property",at="Delay",st="TimingFunction",lt="IterationCount",ct="PlayState",ut=9999,dt=R+at,ft=R+ot,pt=O+at,ht=O+ot,gt=t.$$minErr("ng"),mt=["$$rAF",function(e){function t(e){r=r.concat(e),n()}function n(){if(r.length){for(var t=r.shift(),i=0;i<t.length;i++)t[i]();o||e(function(){o||n()})}}var r,o;return r=t.queue=[],t.waitUntilQuiet=function(t){o&&o(),o=e(function(){o=null,t(),n()})},t}],vt=["$interpolate",function(e){return{link:function(n,r,o){function i(e){e="on"===e||"true"===e,r.data(nt,e)}var a=o.ngAnimateChildren;t.isString(a)&&0===a.length?r.data(nt,!0):(i(e(a)(n)),o.$observe("ngAnimateChildren",i))}}}],bt="$$animateCss",yt=1e3,Et=3,_t=1.5,wt={transitionDuration:ht,transitionDelay:pt,transitionProperty:O+it,animationDuration:ft,animationDelay:dt,animationIterationCount:R+lt},Ct={transitionDuration:ht,transitionDelay:pt,animationDuration:ft,animationDelay:dt},$t=["$animateProvider",function(){var e=M(),t=M();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(n,r,s,l,c,u,m,v){function y(e,t){var n="$$ngAnimateParentKey",r=e.parentNode,o=r[n]||(r[n]=++H);return o+"-"+e.getAttribute("class")+"-"+t}function E(t,r,o,i){var a=e.get(o);return a||(a=T(n,t,i),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),e.put(o,a),a}function $(o,a,s,l){var c;if(e.count(s)>0&&(c=t.get(s),!c)){var u=i(a,"-stagger");r.addClass(o,u),c=T(n,o,l),c.animationDuration=Math.max(c.animationDuration,0),c.transitionDuration=Math.max(c.transitionDuration,0),r.removeClass(o,u),t.put(s,c)}return c||{}}function k(n){B.push(n),m.waitUntilQuiet(function(){e.flush(),t.flush();for(var n=c(),r=0;r<B.length;r++)B[r](n);B.length=0})}function M(e,t,n){var r=E(e,t,n,wt),o=r.animationDelay,i=r.transitionDelay;return r.maxDelay=o&&i?Math.max(o,i):o||i,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}var j=d(r),H=0,B=[];return function(t,n){function c(){m()}function d(){m(!0)}function m(e){if(!(Y||G&&K)){Y=!0,K=!1,V.$$skipPreparationClasses||r.removeClass(t,wt),r.removeClass(t,At),w(z,!1),_(z,!1),q(ct,function(e){z.style[e[0]]=""}),j(t,V),p(t,V),Object.keys(W).length&&q(W,function(e,t){e?z.style.setProperty(t,e):z.style.removeProperty(t)}),V.onDone&&V.onDone(),pt&&pt.length&&t.off(pt.join(" "),H);var n=t.data(bt);n&&(l.cancel(n[0].timer),t.removeData(bt)),et&&et.complete(!e)}}function E(e){jt.blockTransition&&_(z,e),jt.blockKeyframeAnimation&&w(z,!!e)}function T(){return et=new s({end:c,cancel:d}),k(L),m(),{$$willAnimate:!1,start:function(){return et},end:c}}function H(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(Et));Math.max(n-lt,0)>=rt&&r>=ot&&(G=!0,m())}function B(){function e(){if(!Y){if(E(!1),q(ct,function(e){var t=e[0],n=e[1];z.style[t]=n}),j(t,V),r.addClass(t,At),jt.recalculateTimingStyles){if($t=z.className+" "+wt,kt=y(z,$t),Lt=M(z,$t,kt),Ft=Lt.maxDelay,nt=Math.max(Ft,0),ot=Lt.maxDuration,0===ot)return void m();jt.hasTransitions=Lt.transitionDuration>0,jt.hasAnimations=Lt.animationDuration>0}if(jt.applyAnimationDelay&&(Ft="boolean"!=typeof V.delay&&x(V.delay)?parseFloat(V.delay):Ft,nt=Math.max(Ft,0),Lt.animationDelay=Ft,Ht=S(Ft,!0),ct.push(Ht),z.style[Ht[0]]=Ht[1]),rt=nt*yt,at=ot*yt,V.easing){var e,o=V.easing;
jt.hasTransitions&&(e=O+st,ct.push([e,o]),z.style[e]=o),jt.hasAnimations&&(e=R+st,ct.push([e,o]),z.style[e]=o)}Lt.transitionDuration&&pt.push(P),Lt.animationDuration&&pt.push(D),lt=Date.now();var i=rt+_t*at,a=lt+i,s=t.data(bt)||[],c=!0;if(s.length){var u=s[0];c=a>u.expectedEndTime,c?l.cancel(u.timer):s.push(m)}if(c){var d=l(n,i,!1);s[0]={timer:d,expectedEndTime:a},s.push(m),t.data(bt,s)}pt.length&&t.on(pt.join(" "),H),V.to&&(V.cleanupStyles&&I(W,z,Object.keys(V.to)),g(t,V))}}function n(){var e=t.data(bt);if(e){for(var n=1;n<e.length;n++)e[n]();t.removeData(bt)}}if(!Y){if(!z.parentNode)return void m();var o=function(e){if(G)K&&e&&(K=!1,m());else if(K=!e,Lt.animationDuration){var t=w(z,K);K?ct.push(t):a(ct,t)}},i=Rt>0&&(Lt.transitionDuration&&0===xt.transitionDuration||Lt.animationDuration&&0===xt.animationDuration)&&Math.max(xt.animationDelay,xt.transitionDelay);i?l(e,Math.floor(i*Rt*yt),!1):e(),tt.resume=function(){o(!0)},tt.pause=function(){o(!1)}}}var V=n||{};V.$$prepared||(V=f(F(V)));var W={},z=b(t);if(!z||!z.parentNode||!v.enabled())return T();var Y,K,G,et,tt,nt,rt,ot,at,lt,ct=[],dt=t.attr("class"),ft=o(V),pt=[];if(0===V.duration||!u.animations&&!u.transitions)return T();var ht=V.event&&U(V.event)?V.event.join(" "):V.event,gt=ht&&V.structural,mt="",vt="";gt?mt=i(ht,J,!0):ht&&(mt=ht),V.addClass&&(vt+=i(V.addClass,Q)),V.removeClass&&(vt.length&&(vt+=" "),vt+=i(V.removeClass,X)),V.applyClassesEarly&&vt.length&&j(t,V);var wt=[mt,vt].join(" ").trim(),$t=dt+" "+wt,At=i(wt,Z),St=ft.to&&Object.keys(ft.to).length>0,Tt=(V.keyframeStyle||"").length>0;if(!Tt&&!St&&!wt)return T();var kt,xt;if(V.stagger>0){var Nt=parseFloat(V.stagger);xt={transitionDelay:Nt,animationDelay:Nt,transitionDuration:0,animationDuration:0}}else kt=y(z,$t),xt=$(z,wt,kt,Ct);V.$$skipPreparationClasses||r.addClass(t,wt);var Mt;if(V.transitionStyle){var It=[O,V.transitionStyle];C(z,It),ct.push(It)}if(V.duration>=0){Mt=z.style[O].length>0;var Ot=N(V.duration,Mt);C(z,Ot),ct.push(Ot)}if(V.keyframeStyle){var Pt=[R,V.keyframeStyle];C(z,Pt),ct.push(Pt)}var Rt=xt?V.staggerIndex>=0?V.staggerIndex:e.count(kt):0,Dt=0===Rt;Dt&&!V.skipBlocking&&_(z,ut);var Lt=M(z,$t,kt),Ft=Lt.maxDelay;nt=Math.max(Ft,0),ot=Lt.maxDuration;var jt={};if(jt.hasTransitions=Lt.transitionDuration>0,jt.hasAnimations=Lt.animationDuration>0,jt.hasTransitionAll=jt.hasTransitions&&"all"==Lt.transitionProperty,jt.applyTransitionDuration=St&&(jt.hasTransitions&&!jt.hasTransitionAll||jt.hasAnimations&&!jt.hasTransitions),jt.applyAnimationDuration=V.duration&&jt.hasAnimations,jt.applyTransitionDelay=x(V.delay)&&(jt.applyTransitionDuration||jt.hasTransitions),jt.applyAnimationDelay=x(V.delay)&&jt.hasAnimations,jt.recalculateTimingStyles=vt.length>0,(jt.applyTransitionDuration||jt.applyAnimationDuration)&&(ot=V.duration?parseFloat(V.duration):ot,jt.applyTransitionDuration&&(jt.hasTransitions=!0,Lt.transitionDuration=ot,Mt=z.style[O+it].length>0,ct.push(N(ot,Mt))),jt.applyAnimationDuration&&(jt.hasAnimations=!0,Lt.animationDuration=ot,ct.push(A(ot)))),0===ot&&!jt.recalculateTimingStyles)return T();if(null!=V.delay){var Ht;"boolean"!=typeof V.delay&&(Ht=parseFloat(V.delay),nt=Math.max(Ht,0)),jt.applyTransitionDelay&&ct.push(S(Ht)),jt.applyAnimationDelay&&ct.push(S(Ht,!0))}return null==V.duration&&Lt.transitionDuration>0&&(jt.recalculateTimingStyles=jt.recalculateTimingStyles||Dt),rt=nt*yt,at=ot*yt,V.skipBlocking||(jt.blockTransition=Lt.transitionDuration>0,jt.blockKeyframeAnimation=Lt.animationDuration>0&&xt.animationDelay>0&&0===xt.animationDuration),V.from&&(V.cleanupStyles&&I(W,z,Object.keys(V.from)),h(t,V)),jt.blockTransition||jt.blockKeyframeAnimation?E(ot):V.skipBlocking||_(z,!1),{$$willAnimate:!0,end:c,start:function(){return Y?void 0:(tt={end:c,cancel:d,resume:null,pause:null},et=new s(tt),k(B),et)}}}}]}],At=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var n="ng-animate-shim",r="ng-anchor",o="ng-anchor-out",i="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,a,s,l,c,u,f){function p(e){return e.replace(/\bng-\S+\b/g,"")}function h(e,t){return B(e)&&(e=e.split(" ")),B(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function g(t,a,l){function c(e){var t={},n=b(e).getBoundingClientRect();return q(["width","height","top","left"],function(e){var r=n[e];switch(e){case"top":r+=y.scrollTop;break;case"left":r+=y.scrollLeft}t[e]=Math.floor(r)+"px"}),t}function u(){var t=e(m,{addClass:o,delay:!0,from:c(a)});return t.$$willAnimate?t:null}function d(e){return e.attr("class")||""}function f(){var t=p(d(l)),n=h(t,v),r=h(v,t),a=e(m,{to:c(l),addClass:i+" "+n,removeClass:o+" "+r,delay:!0});return a.$$willAnimate?a:null}function g(){m.remove(),a.removeClass(n),l.removeClass(n)}var m=H(b(a).cloneNode(!0)),v=p(d(m));a.addClass(n),l.addClass(n),m.addClass(r),_.append(m);var E,w=u();if(!w&&(E=f(),!E))return g();var C=w||E;return{start:function(){function e(){n&&n.end()}var t,n=C.start();return n.done(function(){return n=null,!E&&(E=f())?(n=E.start(),n.done(function(){n=null,g(),t.complete()}),n):(g(),void t.complete())}),t=new s({end:e,cancel:e})}}}function m(e,t,n,r){var o=v(e,L),i=v(t,L),a=[];return q(r,function(e){var t=e.out,r=e["in"],o=g(n,t,r);o&&a.push(o)}),o||i||0!==a.length?{start:function(){function e(){q(t,function(e){e.end()})}var t=[];o&&t.push(o.start()),i&&t.push(i.start()),q(a,function(e){t.push(e.start())});var n=new s({end:e,cancel:e});return s.all(t,function(e){n.complete(e)}),n}}:void 0}function v(t){var n=t.element,r=t.options||{};t.structural&&(r.event=t.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===t.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=$(r.event,r.preparationClasses));var o=e(n,r);return o.$$willAnimate?o:null}if(!c.animations&&!c.transitions)return L;{var y=f[0].body,E=b(l),_=H(t(E)||y.contains(E)?E:y);d(u)}return function(e){return e.from&&e.to?m(e.from,e.to,e.classes,e.anchors):v(e)}}]}],St=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,r){function o(n){n=U(n)?n:n.split(" ");for(var r=[],o={},i=0;i<n.length;i++){var a=n[i],s=e.$$registeredAnimations[a];s&&!o[a]&&(r.push(t.get(s)),o[a]=!0)}return r}var i=d(r);return function(e,t,r,a){function s(){a.domOperation(),i(e,a)}function l(){h=!0,s(),p(e,a)}function c(e,t,r,o,i){var a;switch(r){case"animate":a=[t,o.from,o.to,i];break;case"setClass":a=[t,v,b,i];break;case"addClass":a=[t,v,i];break;case"removeClass":a=[t,b,i];break;default:a=[t,i]}a.push(o);var s=e.apply(e,a);if(s)if(Y(s.start)&&(s=s.start()),s instanceof n)s.done(i);else if(Y(s))return s;return L}function u(e,t,r,o,i){var a=[];return q(o,function(o){var s=o[i];s&&a.push(function(){var o,i,a=!1,l=function(e){a||(a=!0,(i||L)(e),o.complete(!e))};return o=new n({end:function(){l()},cancel:function(){l(!0)}}),i=c(s,e,t,r,function(e){var t=e===!1;l(t)}),o})}),a}function d(e,t,r,o,i){var a=u(e,t,r,o,i);if(0===a.length){var s,l;"beforeSetClass"===i?(s=u(e,"removeClass",r,o,"beforeRemoveClass"),l=u(e,"addClass",r,o,"beforeAddClass")):"setClass"===i&&(s=u(e,"removeClass",r,o,"removeClass"),l=u(e,"addClass",r,o,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(e){var t=[];return a.length&&q(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){q(t,function(t){e?t.cancel():t.end()})}}}var h=!1;3===arguments.length&&V(r)&&(a=r,r=null),a=f(a),r||(r=e.attr("class")||"",a.addClass&&(r+=" "+a.addClass),a.removeClass&&(r+=" "+a.removeClass));var g,m,v=a.addClass,b=a.removeClass,y=o(r);if(y.length){var E,_;"leave"==t?(_="leave",E="afterLeave"):(_="before"+t.charAt(0).toUpperCase()+t.substr(1),E=t),"enter"!==t&&"move"!==t&&(g=d(e,t,a,y,_)),m=d(e,t,a,y,E)}if(g||m){var w;return{$$willAnimate:!0,end:function(){return w?w.end():(l(),w=new n,w.complete(!0)),w},start:function(){function e(e){l(e),w.complete(e)}function t(t){h||((r||L)(t),e(t))}if(w)return w;w=new n;var r,o=[];return g&&o.push(function(e){r=g(e)}),o.length?o.push(function(e){s(),e(!0)}):s(),m&&o.push(function(e){r=m(e)}),w.setHost({end:function(){t()},cancel:function(){t(!0)}}),n.chain(o,e),w}}}}}]}],Tt=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,r=t.event,o=t.options,i=t.classes;return e(n,r,i,o)}return function(e){if(e.from&&e.to){var r=n(e.from),o=n(e.to);if(!r&&!o)return;return{start:function(){function e(){return function(){q(i,function(e){e.end()})}}function n(e){a.complete(e)}var i=[];r&&i.push(r.start()),o&&i.push(o.start()),t.all(i,n);var a=new t({end:e(),cancel:e()});return a}}}return n(e)}}]}],kt="data-ng-animate",xt="$ngAnimatePin",Nt=["$animateProvider",function(e){function t(e){if(!e)return null;var t=e.split(u),n=Object.create(null);return q(t,function(e){n[e]=!0}),n}function r(e,n){if(e&&n){var r=t(n);return e.split(u).some(function(e){return r[e]})}}function o(e,t,n,r){return h[e].some(function(e){return e(t,n,r)})}function i(e,t){var n=(e.addClass||"").length>0,r=(e.removeClass||"").length>0;return t?n&&r:n||r}var a=1,c=2,u=" ",h=this.rules={skip:[],cancel:[],join:[]};h.join.push(function(e,t){return!t.structural&&i(t)}),h.skip.push(function(e,t){return!t.structural&&!i(t)}),h.skip.push(function(e,t,n){return"leave"==n.event&&t.structural}),h.skip.push(function(e,t,n){return n.structural&&n.state===c&&!t.structural}),h.cancel.push(function(e,t,n){return n.structural&&t.structural}),h.cancel.push(function(e,t,n){return n.state===c&&t.structural}),h.cancel.push(function(e,t,n){var o=t.addClass,i=t.removeClass,a=n.addClass,s=n.removeClass;return W(o)&&W(i)||W(a)&&W(s)?!1:r(o,s)||r(i,a)}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(t,r,u,h,g,v,_,w,C){function $(){var e=!1;return function(t){e?t():r.$$postDigest(function(){e=!0,t()})}}function A(e,t){return m(e,t,{})}function S(e,t,n){var r=b(t),o=b(e),i=[],a=L[n];return a&&q(a,function(e){J.call(e.node,r)?i.push(e.callback):"leave"===n&&J.call(e.node,o)&&i.push(e.callback)}),i}function T(e,n,l){function u(n,r,o,i){N(function(){var n=S(w,e,r);n.length&&t(function(){q(n,function(t){t(e,o,i)})})}),n.progress(r,o,i)}function d(t){E(e,C),X(e,C),p(e,C),C.domOperation(),T.complete(!t)}var g,w,C=F(l);e=s(e),e&&(g=b(e),w=e.parent()),C=f(C);var T=new _,N=$();if(U(C.addClass)&&(C.addClass=C.addClass.join(" ")),C.addClass&&!B(C.addClass)&&(C.addClass=null),U(C.removeClass)&&(C.removeClass=C.removeClass.join(" ")),C.removeClass&&!B(C.removeClass)&&(C.removeClass=null),C.from&&!V(C.from)&&(C.from=null),C.to&&!V(C.to)&&(C.to=null),!g)return d(),T;var D=[g.className,C.addClass,C.removeClass].join(" ");if(!Q(D))return d(),T;var L=["enter","move","leave"].indexOf(n)>=0,j=!R||h[0].hidden||P.get(g),H=!j&&O.get(g)||{},W=!!H.state;if(j||W&&H.state==a||(j=!M(e,w,n)),j)return d(),T;L&&k(e);var z={structural:L,element:e,event:n,addClass:C.addClass,removeClass:C.removeClass,close:d,options:C,runner:T};if(W){var Y=o("skip",e,z,H);if(Y)return H.state===c?(d(),T):(m(e,H,z),H.runner);var K=o("cancel",e,z,H);if(K)if(H.state===c)H.runner.end();else{if(!H.structural)return m(e,H,z),H.runner;H.close()}else{var G=o("join",e,z,H);if(G){if(H.state!==c)return y(e,L?n:null,C),n=z.event=H.event,C=m(e,H,z),H.runner;A(e,z)}}}else A(e,z);var J=z.structural;if(J||(J="animate"===z.event&&Object.keys(z.options.to||{}).length>0||i(z)),!J)return d(),x(e),T;var Z=(H.counter||0)+1;return z.counter=Z,I(e,a,z),r.$$postDigest(function(){var t=O.get(g),r=!t;t=t||{};var o=e.parent()||[],a=o.length>0&&("animate"===t.event||t.structural||i(t));if(r||t.counter!==Z||!a)return r&&(X(e,C),p(e,C)),(r||L&&t.event!==n)&&(C.domOperation(),T.end()),void(a||x(e));n=!t.structural&&i(t,!0)?"setClass":t.event,I(e,c);var s=v(e,n,t.options);s.done(function(t){d(!t);var r=O.get(g);r&&r.counter===Z&&x(b(e)),u(T,n,"close",{})}),T.setHost(s),u(T,n,"start",{})}),T}function k(e){var t=b(e),n=t.querySelectorAll("["+kt+"]");q(n,function(e){var t=parseInt(e.getAttribute(kt)),n=O.get(e);if(n)switch(t){case c:n.runner.end();case a:O.remove(e)}})}function x(e){var t=b(e);t.removeAttribute(kt),O.remove(t)}function N(e,t){return b(e)===b(t)}function M(e,t){var n,r=H(h[0].body),o=N(e,r)||"HTML"===e[0].nodeName,i=N(e,u),a=!1,s=P.get(b(e)),l=e.data(xt);for(l&&(t=l);t&&t.length;){i||(i=N(t,u));var c=t[0];if(c.nodeType!==G)break;var d=O.get(c)||{};if(!a){var f=P.get(c);if(f===!0&&s!==!1){s=!0;break}f===!1&&(s=!1),a=d.structural}if(W(n)||n===!0){var p=t.data(nt);z(p)&&(n=p)}if(a&&n===!1)break;if(o||(o=N(t,r)),o&&i)break;t=i||!(l=t.data(xt))?t.parent():l}var g=(!a||n)&&s!==!0;return g&&i&&o}function I(e,t,n){n=n||{},n.state=t;var r=b(e);r.setAttribute(kt,t);var o=O.get(r),i=o?j(o,n):n;O.put(r,i)}var O=new g,P=new g,R=null,D=r.$watch(function(){return 0===w.totalPendingRequests},function(e){e&&(D(),r.$$postDigest(function(){r.$$postDigest(function(){null===R&&(R=!0)})}))}),L={},Y=e.classNameFilter(),Q=Y?function(e){return Y.test(e)}:function(){return!0},X=d(C),J=Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))};return{on:function(e,t,n){var r=l(t);L[e]=L[e]||[],L[e].push({node:r,callback:n})},off:function(e,t,n){function r(e,t,n){var r=l(t);return e.filter(function(e){var t=e.node===r&&(!n||e.callback===n);return!t})}var o=L[e];o&&(L[e]=1===arguments.length?null:r(o,t,n))},pin:function(e,t){n(K(e),"element","not an element"),n(K(t),"parentElement","not an element"),e.data(xt,t)},push:function(e,t,n,r){return n=n||{},n.domOperation=r,T(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!R;else{var r=K(e);if(r){var o=b(e),i=P.get(o);1===n?t=!i:P.put(o,!t)}else t=R=!!e}return t}}}]}],Mt=["$animateProvider",function(){function e(e,t){e.data(a,t)}function t(e){e.removeData(a)}function n(e){return e.data(a)}var o="ng-animate-ref",i=this.drivers=[],a="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(a,s,l,c,u,h){function g(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,r=n.parentNode;i.put(n,e);for(var a;r;){if(a=i.get(r)){a.processed||(a=t(a));break}r=r.parentNode}return(a||o).children.push(e),e}function n(e){var t,n=[],r=[];for(t=0;t<e.children.length;t++)r.push(e.children[t]);var o=r.length,i=0,a=[];for(t=0;t<r.length;t++){var s=r[t];0>=o&&(o=i,i=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(e){i++,r.push(e)}),o--}return a.length&&n.push(a),n}var r,o={children:[]},i=new u;for(r=0;r<e.length;r++){var a=e[r];i.put(a.domNode,e[r]={domNode:a.domNode,fn:a.fn,children:[]})}for(r=0;r<e.length;r++)t(e[r]);return n(o)}var m=[],v=d(a);return function(u,d,y){function E(e){var t="["+o+"]",n=e.hasAttribute(o)?[e]:e.querySelectorAll(t),r=[];return q(n,function(e){var t=e.getAttribute(o);t&&t.length&&r.push(e)}),r}function _(e){var t=[],n={};q(e,function(e,r){var i=e.element,a=b(i),s=e.event,l=["enter","move"].indexOf(s)>=0,c=e.structural?E(a):[];if(c.length){var u=l?"to":"from";q(c,function(e){var t=e.getAttribute(o);n[t]=n[t]||{},n[t][u]={animationID:r,element:H(e)}})}else t.push(e)});var r={},i={};return q(n,function(n){var o=n.from,a=n.to;if(!o||!a){var s=o?o.animationID:a.animationID,l=s.toString();return void(r[l]||(r[l]=!0,t.push(e[s])))}var c=e[o.animationID],u=e[a.animationID],d=o.animationID.toString();if(!i[d]){var f=i[d]={structural:!0,beforeStart:function(){c.beforeStart(),u.beforeStart()},close:function(){c.close(),u.close()},classes:w(c.classes,u.classes),from:c,to:u,anchors:[]};f.classes.length?t.push(f):(t.push(c),t.push(u))}i[d].anchors.push({out:o.element,"in":a.element})}),t}function w(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var o=e[r];if("ng-"!==o.substring(0,3))for(var i=0;i<t.length;i++)if(o===t[i]){n.push(o);break}}return n.join(" ")}function C(e){for(var t=i.length-1;t>=0;t--){var n=i[t];if(l.has(n)){var r=l.get(n),o=r(e);if(o)return o}}}function $(){u.addClass(tt),M&&a.addClass(u,M),I&&(a.removeClass(u,I),I=null)}function A(e,t){function r(e){n(e).setHost(t)}e.from&&e.to?(r(e.from.element),r(e.to.element)):r(e.element)}function S(){var e=n(u);!e||"leave"===d&&y.$$domOperationFired||e.end()}function T(e){u.off("$destroy",S),t(u),v(u,y),p(u,y),y.domOperation(),M&&a.removeClass(u,M),u.removeClass(tt),x.complete(!e)}y=f(y);var k=["enter","move","leave"].indexOf(d)>=0,x=new c({end:function(){T()},cancel:function(){T(!0)}});if(!i.length)return T(),x;e(u,x);var N=r(u.attr("class"),r(y.addClass,y.removeClass)),M=y.tempClasses;M&&(N+=" "+M,y.tempClasses=null);var I;return k&&(I="ng-"+d+et,a.addClass(u,I)),m.push({element:u,classes:N,event:d,structural:k,options:y,beforeStart:$,close:T}),u.on("$destroy",S),m.length>1?x:(s.$$postDigest(function(){var e=[];q(m,function(t){n(t.element)?e.push(t):t.close()}),m.length=0;var t=_(e),r=[];q(t,function(e){r.push({domNode:b(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,r=e.close,o=e.anchors?e.from.element||e.to.element:e.element;if(n(o)){var i=C(e);i&&(t=i.start)}if(t){var a=t();a.done(function(e){r(!e)}),A(e,a)}else r()}})}),h(g(r))}),x)}}]}],It=["$animate","$rootScope",function(e){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,r,o,i){var a,s;t.$watchCollection(r.ngAnimateSwap||r["for"],function(r){a&&e.leave(a),s&&(s.$destroy(),s=null),(r||0===r)&&(s=t.$new(),i(s,function(t){a=t,e.enter(t,null,n)}))})}}}];t.module("ngAnimate",[]).directive("ngAnimateSwap",It).directive("ngAnimateChildren",vt).factory("$$rAFScheduler",mt).provider("$$animateQueue",Nt).provider("$$animation",Mt).provider("$animateCss",$t).provider("$$animateCssDriver",At).provider("$$animateJs",St).provider("$$animateJsDriver",Tt)}(window,window.angular),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define("angular-cache",["angular"],t):"object"==typeof exports?exports.angularCacheModuleName=t(require("angular")):e.angularCacheModuleName=t(e.angular)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(){this.$get=function(){return a.BinaryHeap}}function o(){this.defaults=a.defaults,this.defaults.storagePrefix="angular-cache.caches.",this.$get=["$q",function(e){return a.utils.Promise=e,a}]}var i=n(1),a=n(2);a.utils.equals=i.equals,a.utils.isObject=i.isObject,a.utils.fromJson=i.fromJson,i.module("angular-cache",[]).provider("BinaryHeap",r).provider("CacheFactory",o),e.exports="angular-cache";try{e.exports.name="angular-cache"}catch(s){}},function(t){t.exports=e},function(e,t){!function(t,n){e.exports=n()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){var t=[],n=void 0;if(!p.isObject(e))return t;for(n in e)e.hasOwnProperty(n)&&t.push(n);return t}function o(e){return e&&"function"==typeof e.then}function i(e){return p.isNumber(e)?e.toString():e}function a(e){var t={},n=void 0;if(!p.isObject(e))return t;for(n in e)e.hasOwnProperty(n)&&(t[n]=n);return t}function s(e,t){if(e in g)throw new Error(e+" already exists!");if(!p.isString(e))throw new Error("cacheId must be a string!");var n={},s={},l=null,d=new u(function(e){return e.expires},p.equals),f=new u(function(e){return e.accessed},p.equals),m=g[e]={$$id:e,destroy:function(){clearInterval(this.$$cacheFlushIntervalId),clearInterval(this.$$recycleFreqId),this.removeAll(),l&&(l().removeItem(this.$$prefix+".keys"),l().removeItem(this.$$prefix)),l=null,n=null,f=null,d=null,this.$$prefix=null,delete g[this.$$id]},disable:function(){this.$$disabled=!0},enable:function(){delete this.$$disabled},get:function(e,t){var r=this;if(Array.isArray(e)){var o=function(){var n=e,o=[];return n.forEach(function(e){var n=r.get(e,t);null!==n&&void 0!==n&&o.push(n)}),{v:o}}();if("object"===("undefined"==typeof o?"undefined":c(o)))return o.v}else if(e=i(e),this.$$disabled)return;if(t=t||{},!p.isString(e))throw new Error("key must be a string!");if(t&&!p.isObject(t))throw new Error("options must be an object!");if(t.onExpire&&!p.isFunction(t.onExpire))throw new Error("options.onExpire must be a function!");var a=void 0;if(l){if(s[e])return s[e];var u=l().getItem(this.$$prefix+".data."+e);if(!u)return;a=p.fromJson(u)}else if(p.isObject(n)){if(!(e in n))return;a=n[e]}var d=a.value,h=(new Date).getTime();return l?(f.remove({key:e,accessed:a.accessed}),a.accessed=h,f.push({key:e,accessed:h})):(f.remove(a),a.accessed=h,f.push(a)),"passive"===this.$$deleteOnExpire&&"expires"in a&&a.expires<h?(this.remove(e),this.$$onExpire?this.$$onExpire(e,a.value,t.onExpire):t.onExpire&&t.onExpire.call(this,e,a.value),d=void 0):l&&l().setItem(this.$$prefix+".data."+e,JSON.stringify(a)),d},info:function(e){if(e){var t=void 0;if(l){var r=l().getItem(this.$$prefix+".data."+e);return r?(t=p.fromJson(r),{created:t.created,accessed:t.accessed,expires:t.expires,isExpired:(new Date).getTime()-t.created>(t.maxAge||this.$$maxAge)}):void 0}return p.isObject(n)&&e in n?(t=n[e],{created:t.created,accessed:t.accessed,expires:t.expires,isExpired:(new Date).getTime()-t.created>(t.maxAge||this.$$maxAge)}):void 0}return{id:this.$$id,capacity:this.$$capacity,maxAge:this.$$maxAge,deleteOnExpire:this.$$deleteOnExpire,onExpire:this.$$onExpire,cacheFlushInterval:this.$$cacheFlushInterval,recycleFreq:this.$$recycleFreq,storageMode:this.$$storageMode,storageImpl:l?l():void 0,disabled:!!this.$$disabled,size:f&&f.size()||0}},keys:function(){if(l){var e=l().getItem(this.$$prefix+".keys");return e?p.fromJson(e):[]}return r(n)},keySet:function(){if(l){var e=l().getItem(this.$$prefix+".keys"),t={};if(e)for(var r=p.fromJson(e),o=0;o<r.length;o++)t[r[o]]=r[o];return t}return a(n)},put:function(e,t,r){var a=this;r||(r={});var c="storeOnResolve"in r?!!r.storeOnResolve:this.$$storeOnResolve,u="storeOnReject"in r?!!r.storeOnReject:this.$$storeOnReject,h=function(t,n){return function(r){if(t&&(delete s[e],p.isObject(r)&&"status"in r&&"data"in r?(r=[r.status,r.data,r.headers(),r.statusText],a.put(e,r)):a.put(e,r)),n){if(p.Promise)return p.Promise.reject(r);throw r}return r}};if(!this.$$disabled&&p.isObject(n)&&null!==t&&void 0!==t){if(e=i(e),!p.isString(e))throw new Error("key must be a string!");var g=(new Date).getTime(),m={key:e,value:o(t)?t.then(h(c,!1),h(u,!0)):t,created:void 0===r.created?g:r.created,accessed:void 0===r.accessed?g:r.accessed};if(r.maxAge&&(m.maxAge=r.maxAge),m.expires=void 0===r.expires?m.created+(m.maxAge||this.$$maxAge):r.expires,l){if(o(m.value))return s[e]=m.value,s[e];var v=l().getItem(this.$$prefix+".keys"),b=v?p.fromJson(v):[],y=l().getItem(this.$$prefix+".data."+e);y&&this.remove(e),d.push({key:e,expires:m.expires}),f.push({key:e,accessed:m.accessed}),l().setItem(this.$$prefix+".data."+e,JSON.stringify(m));for(var E=!1,_=0;_<b.length;_++)if(b[_]===e){E=!0;break}E||b.push(e),l().setItem(this.$$prefix+".keys",JSON.stringify(b))}else n[e]&&this.remove(e),d.push(m),f.push(m),n[e]=m,delete s[e];return f.size()>this.$$capacity&&this.remove(f.peek().key),t}},remove:function(e){if(e+="",delete s[e],l){var t=l().getItem(this.$$prefix+".data."+e);if(t){var r=p.fromJson(t);f.remove({key:e,accessed:r.accessed}),d.remove({key:e,expires:r.expires}),l().removeItem(this.$$prefix+".data."+e);var o=l().getItem(this.$$prefix+".keys"),i=o?p.fromJson(o):[],a=i.indexOf(e);return a>=0&&i.splice(a,1),l().setItem(this.$$prefix+".keys",JSON.stringify(i)),r.value}}else if(p.isObject(n)){var c=n[e]?n[e].value:void 0;return f.remove(n[e]),d.remove(n[e]),n[e]=null,delete n[e],c}},removeAll:function(){if(l){f.removeAll(),d.removeAll();var e=l().getItem(this.$$prefix+".keys");if(e)for(var t=p.fromJson(e),r=0;r<t.length;r++)this.remove(t[r]);l().setItem(this.$$prefix+".keys",JSON.stringify([]))}else if(p.isObject(n)){f.removeAll(),d.removeAll();for(var o in n)n[o]=null;n={}}else f.removeAll(),d.removeAll(),n={};s={}},removeExpired:function(){for(var e=(new Date).getTime(),t={},n=void 0,r=void 0;(r=d.peek())&&r.expires<=e;)t[r.key]=r.value?r.value:null,d.pop();if(l)for(n in t){var o=l().getItem(this.$$prefix+".data."+n);o&&(t[n]=p.fromJson(o).value,this.remove(n))}else for(n in t)this.remove(n);if(this.$$onExpire)for(n in t)this.$$onExpire(n,t[n]);return t},setCacheFlushInterval:function(e){var t=this;if(null===e)delete t.$$cacheFlushInterval;else{if(!p.isNumber(e))throw new Error("cacheFlushInterval must be a number!");if(0>e)throw new Error("cacheFlushInterval must be greater than zero!");e!==t.$$cacheFlushInterval&&(t.$$cacheFlushInterval=e,clearInterval(t.$$cacheFlushIntervalId),t.$$cacheFlushIntervalId=setInterval(function(){t.removeAll()},t.$$cacheFlushInterval))}},setCapacity:function(e){if(null===e)delete this.$$capacity;else{if(!p.isNumber(e))throw new Error("capacity must be a number!");if(0>e)throw new Error("capacity must be greater than zero!");this.$$capacity=e}for(var t={};f.size()>this.$$capacity;)t[f.peek().key]=this.remove(f.peek().key);return t},setDeleteOnExpire:function(e,t){if(null===e)delete this.$$deleteOnExpire;else{if(!p.isString(e))throw new Error("deleteOnExpire must be a string!");if("none"!==e&&"passive"!==e&&"aggressive"!==e)throw new Error('deleteOnExpire must be "none", "passive" or "aggressive"!');this.$$deleteOnExpire=e}t!==!1&&this.setRecycleFreq(this.$$recycleFreq)},setMaxAge:function(e){if(null===e)this.$$maxAge=Number.MAX_VALUE;else{if(!p.isNumber(e))throw new Error("maxAge must be a number!");if(0>e)throw new Error("maxAge must be greater than zero!");this.$$maxAge=e}var t=void 0,o=void 0,i=void 0;if(d.removeAll(),l){var a=l().getItem(this.$$prefix+".keys");for(o=a?p.fromJson(a):[],t=0;t<o.length;t++){i=o[t];var s=l().getItem(this.$$prefix+".data."+i);if(s){var c=p.fromJson(s);c.expires=this.$$maxAge===Number.MAX_VALUE?Number.MAX_VALUE:c.created+(c.maxAge||this.$$maxAge),d.push({key:i,expires:c.expires})}}}else for(o=r(n),t=0;t<o.length;t++)i=o[t],n[i].expires=this.$$maxAge===Number.MAX_VALUE?Number.MAX_VALUE:n[i].created+(n[i].maxAge||this.$$maxAge),d.push(n[i]);return"aggressive"===this.$$deleteOnExpire?this.removeExpired():{}},setOnExpire:function(e){if(null===e)delete this.$$onExpire;else{if(!p.isFunction(e))throw new Error("onExpire must be a function!");this.$$onExpire=e}},setOptions:function(e,t){if(e=e||{},t=!!t,!p.isObject(e))throw new Error("cacheOptions must be an object!");"storagePrefix"in e?this.$$storagePrefix=e.storagePrefix:t&&(this.$$storagePrefix=h.storagePrefix),this.$$prefix=this.$$storagePrefix+this.$$id,"disabled"in e?this.$$disabled=!!e.disabled:t&&(this.$$disabled=h.disabled),"deleteOnExpire"in e?this.setDeleteOnExpire(e.deleteOnExpire,!1):t&&this.setDeleteOnExpire(h.deleteOnExpire,!1),"recycleFreq"in e?this.setRecycleFreq(e.recycleFreq):t&&this.setRecycleFreq(h.recycleFreq),"maxAge"in e?this.setMaxAge(e.maxAge):t&&this.setMaxAge(h.maxAge),"storeOnResolve"in e?this.$$storeOnResolve=!!e.storeOnResolve:t&&(this.$$storeOnResolve=h.storeOnResolve),"storeOnReject"in e?this.$$storeOnReject=!!e.storeOnReject:t&&(this.$$storeOnReject=h.storeOnReject),"capacity"in e?this.setCapacity(e.capacity):t&&this.setCapacity(h.capacity),"cacheFlushInterval"in e?this.setCacheFlushInterval(e.cacheFlushInterval):t&&this.setCacheFlushInterval(h.cacheFlushInterval),"onExpire"in e?this.setOnExpire(e.onExpire):t&&this.setOnExpire(h.onExpire),"storageMode"in e||"storageImpl"in e?this.setStorageMode(e.storageMode||h.storageMode,e.storageImpl||h.storageImpl):t&&this.setStorageMode(h.storageMode,h.storageImpl)},setRecycleFreq:function(e){if(null===e)delete this.$$recycleFreq;else{if(!p.isNumber(e))throw new Error("recycleFreq must be a number!");if(0>e)throw new Error("recycleFreq must be greater than zero!");this.$$recycleFreq=e}clearInterval(this.$$recycleFreqId),"aggressive"===this.$$deleteOnExpire?!function(e){e.$$recycleFreqId=setInterval(function(){e.removeExpired()},e.$$recycleFreq)}(this):delete this.$$recycleFreqId},setStorageMode:function(e,t){function r(e,t){var n=this.keys(),r=n.length;if(r){for(var o=void 0,i=p.isObject(t),l=0;r>l;l++){if(o=n[l],e){var c=e().getItem(this.$$prefix+".data."+o);c&&(s[o]=p.fromJson(c))}else i&&(s[o]=t[o]);this.remove(o)}a=!0}}if(!p.isString(e))throw new Error("storageMode must be a string!");if("memory"!==e&&"localStorage"!==e&&"sessionStorage"!==e)throw new Error('storageMode must be "memory", "localStorage" or "sessionStorage"!');var o=l,i=n,a=!1,s={};if(this.$$initializing||r.call(this,o,i),this.$$storageMode=e,t){if(!p.isObject(t))throw new Error("storageImpl must be an object!");if(!("setItem"in t&&"function"==typeof t.setItem))throw new Error('storageImpl must implement "setItem(key, value)"!');if(!("getItem"in t&&"function"==typeof t.getItem))throw new Error('storageImpl must implement "getItem(key)"!');if(!("removeItem"in t)||"function"!=typeof t.removeItem)throw new Error('storageImpl must implement "removeItem(key)"!');l=function(){return t}}else if("localStorage"===this.$$storageMode)try{localStorage.setItem("cachefactory","cachefactory"),localStorage.removeItem("cachefactory"),l=function(){return localStorage}}catch(c){l=null,this.$$storageMode="memory"}else if("sessionStorage"===this.$$storageMode)try{sessionStorage.setItem("cachefactory","cachefactory"),sessionStorage.removeItem("cachefactory"),l=function(){return sessionStorage}}catch(c){l=null,this.$$storageMode="memory"}else l=null,this.$$storageModel="memory";if(this.$$initializing&&r.call(this,l,n),a){var u=void 0;for(var d in s)u=s[d],this.put(d,u.value,{created:u.created,accessed:u.accessed,expires:u.expires})}},touch:function(e){var t=this;if(e){var n=this.get(e,{onExpire:function(e,n){return t.put(e,n)}});n&&this.put(e,n)}else for(var r=this.keys(),o=0;o<r.length;o++)this.touch(r[o])},values:function(){for(var e=this.keys(),t=[],n=0;n<e.length;n++)t.push(this.get(e[n]));return t}};return m.$$initializing=!0,m.setOptions(t,!0),m.$$initializing=!1,m}function l(e,t){return s(e,t)}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=n(1),d=null;try{d=window.Promise}catch(f){}var p={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isObject:function(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":c(e))},isFunction:function(e){return"function"==typeof e},fromJson:function(e){return JSON.parse(e)},equals:function(e,t){return e===t},Promise:d},h={capacity:Number.MAX_VALUE,maxAge:Number.MAX_VALUE,deleteOnExpire:"none",onExpire:null,cacheFlushInterval:null,recycleFreq:1e3,storageMode:"memory",storageImpl:null,disabled:!1,storagePrefix:"cachefactory.caches.",storeOnResolve:!1,storeOnReject:!1},g={};l.createCache=s,l.defaults=h,l.info=function(){var e=r(g),t={size:e.length,caches:{}};for(var n in h)h.hasOwnProperty(n)&&(t[n]=h[n]);for(var o=0;o<e.length;o++){var i=e[o];t.caches[i]=g[i].info()}return t},l.get=function(e){return g[e]},l.keySet=function(){return a(g)},l.keys=function(){return r(g)},l.destroy=function(e){g[e]&&(g[e].destroy(),delete g[e])},l.destroyAll=function(){for(var e in g)g[e].destroy();g={}},l.clearAll=function(){for(var e in g)g[e].removeAll()},l.removeExpiredFromAll=function(){var e={};for(var t in g)e[t]=g[t].removeExpired();return e},l.enableAll=function(){for(var e in g)g[e].$$disabled=!1},l.disableAll=function(){for(var e in g)g[e].$$disabled=!0},l.touchAll=function(){for(var e in g)g[e].touch()},l.utils=p,l.BinaryHeap=u,e.exports=l
},function(e,t){!function(t,n){e.exports=n()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e){function t(e,t,n){for(var r=e[n],o=t(r);n>0;){var i=Math.floor((n+1)/2)-1,a=e[i];if(o>=t(a))break;e[i]=r,e[n]=a,n=i}}function n(e,t){if(e||(e=function(e){return e}),t||(t=function(e,t){return e===t}),"function"!=typeof e)throw new Error('BinaryHeap([weightFunc][, compareFunc]): "weightFunc" must be a function!');if("function"!=typeof t)throw new Error('BinaryHeap([weightFunc][, compareFunc]): "compareFunc" must be a function!');this.weightFunc=e,this.compareFunc=t,this.heap=[]}var r=function(e,t,n){for(var r=e.length,o=e[n],i=t(o);;){var a=2*(n+1),s=a-1,l=null;if(r>s){var c=e[s],u=t(c);i>u&&(l=s)}if(r>a){var d=e[a],f=t(d);f<(null===l?i:t(e[s]))&&(l=a)}if(null===l)break;e[n]=e[l],e[l]=o,n=l}},o=n.prototype;o.push=function(e){this.heap.push(e),t(this.heap,this.weightFunc,this.heap.length-1)},o.peek=function(){return this.heap[0]},o.pop=function(){var e=this.heap[0],t=this.heap.pop();return this.heap.length>0&&(this.heap[0]=t,r(this.heap,this.weightFunc,0)),e},o.remove=function(e){for(var n=this.heap.length,o=0;n>o;o++)if(this.compareFunc(this.heap[o],e)){var i=this.heap[o],a=this.heap.pop();return o!==n-1&&(this.heap[o]=a,t(this.heap,this.weightFunc,o),r(this.heap,this.weightFunc,o)),i}return null},o.removeAll=function(){this.heap=[]},o.size=function(){return this.heap.length},e.exports=n}])})}])})}])}),function(e,t,n){"use strict";function r(e,n,r){function o(e,r,o){var a,s;o=o||{},s=o.expires,a=t.isDefined(o.path)?o.path:i,t.isUndefined(r)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",r=""),t.isString(s)&&(s=new Date(s));var l=encodeURIComponent(e)+"="+encodeURIComponent(r);l+=a?";path="+a:"",l+=o.domain?";domain="+o.domain:"",l+=s?";expires="+s.toUTCString():"",l+=o.secure?";secure":"";var c=l.length+1;return c>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+c+" > 4096 bytes)!"),l}var i=r.baseHref(),a=e[0];return function(e,t,n){a.cookie=o(e,t,n)}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){function e(e){return e?t.extend({},r,e):r}var r=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(r,o){return{get:function(e){return r()[e]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return r()},put:function(t,n,r){o(t,n,e(r))},putObject:function(e,n,r){this.put(e,t.toJson(n),r)},remove:function(t,r){o(t,n,e(r))}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]),r.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=r})}(window,window.angular),function(e,t){"use strict";function n(){function e(e,t,r,o){return function(a,s,l){var c=l.$normalize(t);!n[c]||i(s,r)||l[c]||a.$watch(l[e],function(e){e=o?!e:!!e,s.attr(t,e)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0,bindRoleForClick:!0};this.config=function(e){n=t.extend(n,e)},this.$get=function(){return{config:function(e){return n[e]},$$watchExpr:e}}}var r=t.module("ngAria",["ng"]).provider("$aria",n),o=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],i=function(e,t){return-1!==t.indexOf(e[0].nodeName)?!0:void 0};r.directive("ngShow",["$aria",function(e){return e.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(e){return e.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(e){return e.$$watchExpr("ngValue","aria-checked",o,!1)}]).directive("ngChecked",["$aria",function(e){return e.$$watchExpr("ngChecked","aria-checked",o,!1)}]).directive("ngRequired",["$aria",function(e){return e.$$watchExpr("ngRequired","aria-required",o,!1)}]).directive("ngModel",["$aria",function(e){function t(t,n,r,a){return e.config(n)&&!r.attr(t)&&(a||!i(r,o))}function n(e,t){return!t.attr("role")&&t.attr("type")===e&&"INPUT"!==t[0].nodeName}function r(e){var t=e.type,n=e.role;return"checkbox"===(t||n)||"menuitemcheckbox"===n?"checkbox":"radio"===(t||n)||"menuitemradio"===n?"radio":"range"===t||"progressbar"===n||"slider"===n?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(o,i){var a=r(i,o);return{pre:function(e,t,n,r){"checkbox"===a&&(r.$isEmpty=function(e){return e===!1})},post:function(r,o,i,s){function l(){return s.$modelValue}function c(){var e=i.value==s.$viewValue;o.attr("aria-checked",e)}function u(){o.attr("aria-checked",!s.$isEmpty(s.$viewValue))}var d=t("tabindex","tabindex",o,!1);switch(a){case"radio":case"checkbox":n(a,o)&&o.attr("role",a),t("aria-checked","ariaChecked",o,!1)&&r.$watch(l,"radio"===a?c:u),d&&o.attr("tabindex",0);break;case"range":if(n(a,o)&&o.attr("role","slider"),e.config("ariaValue")){var f=!o.attr("aria-valuemin")&&(i.hasOwnProperty("min")||i.hasOwnProperty("ngMin")),p=!o.attr("aria-valuemax")&&(i.hasOwnProperty("max")||i.hasOwnProperty("ngMax")),h=!o.attr("aria-valuenow");f&&i.$observe("min",function(e){o.attr("aria-valuemin",e)}),p&&i.$observe("max",function(e){o.attr("aria-valuemax",e)}),h&&r.$watch(l,function(e){o.attr("aria-valuenow",e)})}d&&o.attr("tabindex",0)}!i.hasOwnProperty("ngRequired")&&s.$validators.required&&t("aria-required","ariaRequired",o,!1)&&i.$observe("required",function(){o.attr("aria-required",!!i.required)}),t("aria-invalid","ariaInvalid",o,!0)&&r.$watch(function(){return s.$invalid},function(e){o.attr("aria-invalid",!!e)})}}}}}]).directive("ngDisabled",["$aria",function(e){return e.$$watchExpr("ngDisabled","aria-disabled",o,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(e,t){t.attr("aria-live")||t.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(e,t){return{restrict:"A",compile:function(n,r){var a=t(r.ngClick,null,!0);return function(t,n,r){i(n,o)||(e.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),e.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),e.config("bindKeypress")&&!r.ngKeypress&&n.on("keypress",function(e){function n(){a(t,{$event:e})}var r=e.which||e.keyCode;(32===r||13===r)&&t.$apply(n)}))}}}}]).directive("ngDblclick",["$aria",function(e){return function(t,n){!e.config("tabindex")||n.attr("tabindex")||i(n,o)||n.attr("tabindex",0)}}])}(window,window.angular),function(e,t){"use strict";function n(){function e(e,t){return e?r(e)?e.indexOf(t)>=0:e.hasOwnProperty(t):void 0}return["$animate",function(t){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(n,o,i,a,s){var l,c=o[0],u=i.ngMessage||i.when,d=i.ngMessageExp||i.whenExp,f=function(e){l=e?r(e)?e:e.split(/[\s,]+/):null,a.reRender()};d?(f(n.$eval(d)),n.$watchCollection(d,f)):f(u);var p,h;a.register(c,h={test:function(t){return e(l,t)},attach:function(){p||s(n,function(e){t.enter(e,null,o),p=e;var n=p.$$attachId=a.getAttachId();p.on("$destroy",function(){p&&p.$$attachId===n&&(a.deregister(c),h.detach())})})},detach:function(){if(p){var e=p;p=null,t.leave(e)}}})}}}]}var r=t.isArray,o=t.forEach,i=t.isString,a=t.element;t.module("ngMessages",[]).directive("ngMessages",["$animate",function(e){function t(e,t){return i(t)&&0===t.length||n(e.$eval(t))}function n(e){return i(e)?e.length:!!e}var r="ng-active",a="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(i,s,l){function c(e,t){for(var n=t,r=[];n&&n!==e;){var o=n.$$ngMessageNode;if(o&&o.length)return v[o];n.childNodes.length&&-1==r.indexOf(n)?(r.push(n),n=n.childNodes[n.childNodes.length-1]):n=n.previousSibling||n.parentNode}}function u(e,t,n){var r=v[n];if(f.head){var o=c(e,t);o?(r.next=o.next,o.next=r):(r.next=f.head,f.head=r)}else f.head=r}function d(e,t,n){var r=v[n],o=c(e,t);o?o.next=r.next:f.head=r.next}var f=this,p=0,h=0;this.getAttachId=function(){return h++};var g,m,v=this.messages={};this.render=function(c){c=c||{},g=!1,m=c;for(var u=t(s,l.ngMessagesMultiple)||t(s,l.multiple),d=[],p={},h=f.head,v=!1,b=0;null!=h;){b++;var y=h.message,E=!1;v||o(c,function(e,t){if(!E&&n(e)&&y.test(t)){if(p[t])return;p[t]=!0,E=!0,y.attach()}}),E?v=!u:d.push(y),h=h.next}o(d,function(e){e.detach()}),d.length!==b?e.setClass(i,r,a):e.setClass(i,a,r)},s.$watchCollection(l.ngMessages||l["for"],f.render),this.reRender=function(){g||(g=!0,s.$evalAsync(function(){g&&m&&f.render(m)}))},this.register=function(e,t){var n=p.toString();v[n]={message:t},u(i[0],e,n),e.$$ngMessageNode=n,p++,f.reRender()},this.deregister=function(e){var t=e.$$ngMessageNode;delete e.$$ngMessageNode,d(i[0],e,t),delete v[t],f.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(e,t,n){return{restrict:"AE",require:"^^ngMessages",link:function(r,o,i){var s=i.ngMessagesInclude||i.src;e(s).then(function(e){n(e)(r,function(e){o.after(e);var n=a(t[0].createComment(" ngMessagesInclude: "+s+" "));o.after(n),o.remove()})})}}}]).directive("ngMessage",n()).directive("ngMessageExp",n())}(window,window.angular),function(e,t,n){"use strict";!function(){t.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.layout","material.core.theming.palette","material.core.theming","material.core.animate","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.chips","material.components.content","material.components.datepicker","material.components.dialog","material.components.divider","material.components.fabActions","material.components.fabShared","material.components.fabSpeedDial","material.components.fabToolbar","material.components.fabTrigger","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.menu","material.components.menuBar","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.showHide","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.virtualRepeat","material.components.whiteframe"])}(),function(){function e(e,t){if(t.has("$swipe")){var n="You are using the ngTouch module. \nAngular Material already has mobile click, tap, and swipe support... \nngTouch is not supported with Angular Material!";e.warn(n)}}function n(e,t){e.decorator("$$rAF",["$delegate",r]),t.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}function r(e){return e.throttle=function(t){var n,r,o,i;return function(){n=arguments,i=this,o=t,r||(r=!0,e(function(){o.apply(i,Array.prototype.slice.call(n)),r=!1}))}},e}t.module("material.core",["ngAnimate","material.core.animate","material.core.layout","material.core.gestures","material.core.theming"]).config(n).run(e),e.$inject=["$log","$injector"],n.$inject=["$provide","$mdThemingProvider"]}(),function(){function e(){return{restrict:"A",link:n}}function n(e,t,n){var r=n.mdAutoFocus||n.mdAutofocus||n.mdSidenavFocus;e.$watch(r,function(e){t.toggleClass("_md-autofocus",e)})}t.module("material.core").directive("mdAutofocus",e).directive("mdAutoFocus",e).directive("mdSidenavFocus",e)}(),function(){function e(e){function t(e){return n?"webkit"+e.charAt(0).toUpperCase()+e.substring(1):e}var n=/webkit/i.test(e.vendorPrefix);return{KEY_CODE:{COMMA:188,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(n?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(n?" webkitAnimationEnd":""),TRANSFORM:t("transform"),TRANSFORM_ORIGIN:t("transformOrigin"),TRANSITION:t("transition"),TRANSITION_DURATION:t("transitionDuration"),ANIMATION_PLAY_STATE:t("animationPlayState"),ANIMATION_DURATION:t("animationDuration"),ANIMATION_NAME:t("animationName"),ANIMATION_TIMING:t("animationTimingFunction"),ANIMATION_DIRECTION:t("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)"},MEDIA_PRIORITY:["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs"]}}t.module("material.core").factory("$mdConstant",e),e.$inject=["$sniffer"]}(),function(){function e(e,n){function r(){return[].concat(b)}function o(){return b.length}function i(e){return b.length&&e>-1&&e<b.length}function a(e){return e?i(f(e)+1):!1}function s(e){return e?i(f(e)-1):!1}function l(e){return i(e)?b[e]:null}function c(e,t){return b.filter(function(n){return n[e]===t})}function u(e,n){return e?(t.isNumber(n)||(n=b.length),b.splice(n,0,e),f(e)):-1}function d(e){p(e)&&b.splice(f(e),1)}function f(e){return b.indexOf(e)}function p(e){return e&&f(e)>-1}function h(){return b.length?b[0]:null}function g(){return b.length?b[b.length-1]:null}function m(e,r,o,a){o=o||v;for(var s=f(r);;){if(!i(s))return null;var l=s+(e?-1:1),c=null;if(i(l)?c=b[l]:n&&(c=e?g():h(),l=f(c)),null===c||l===a)return null;if(o(c))return c;t.isUndefined(a)&&(a=l),s=l}}var v=function(){return!0};e&&!t.isArray(e)&&(e=Array.prototype.slice.call(e)),n=!!n;var b=e||[];return{items:r,count:o,inRange:i,contains:p,indexOf:f,itemAt:l,findBy:c,add:u,remove:d,first:h,last:g,next:t.bind(null,m,!1),previous:t.bind(null,m,!0),hasPrevious:s,hasNext:a}}t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.iterator=e,t}])}])}(),function(){function e(e,n,r){function o(e){var n=f[e];t.isUndefined(n)&&(n=f[e]=i(e));var r=h[n];return t.isUndefined(r)&&(r=a(n)),r}function i(t){return e.MEDIA[t]||("("!==t.charAt(0)?"("+t+")":t)}function a(e){var t=p[e];return t||(t=p[e]=r.matchMedia(e)),t.addListener(s),h[t.media]=!!t.matches}function s(e){n.$evalAsync(function(){h[e.media]=!!e.matches})}function l(e){return p[e]}function c(t,n){for(var r=0;r<e.MEDIA_PRIORITY.length;r++){var o=e.MEDIA_PRIORITY[r];if(p[f[o]].matches){var i=d(t,n+"-"+o);if(t[i])return t[i]}}return t[d(t,n)]}function u(n,r,o){var i=[];return n.forEach(function(n){var a=d(r,n);t.isDefined(r[a])&&i.push(r.$observe(a,t.bind(void 0,o,null)));for(var s in e.MEDIA)a=d(r,n+"-"+s),t.isDefined(r[a])&&i.push(r.$observe(a,t.bind(void 0,o,s)))}),function(){i.forEach(function(e){e()})}}function d(e,t){return g[t]||(g[t]=e.$normalize(t))}var f={},p={},h={},g={};return o.getResponsiveAttribute=c,o.getQuery=l,o.watchResponsiveAttributes=u,o}t.module("material.core").factory("$mdMedia",e),e.$inject=["$mdConstant","$rootScope","$window"]}(),function(){function r(r,i,a,s,l,c,u,d,f){function p(e){return e[0]||e}var h=c.startSymbol(),g=c.endSymbol(),m="{{"===h&&"}}"===g,v=function(e,n,r){var o=!1;if(e&&e.length){var i=f.getComputedStyle(e[0]);o=t.isDefined(i[n])&&(r?i[n]==r:!0)}return o},b={dom:{},now:e.performance?t.bind(e.performance,e.performance.now):Date.now||function(){return(new Date).getTime()},clientRect:function(e,t,n){var r=p(e);t=p(t||r.offsetParent||document.body);var o=r.getBoundingClientRect(),i=n?t.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:o.left-i.left,top:o.top-i.top,width:o.width,height:o.height}},offsetRect:function(e,t){return b.clientRect(e,t,!0)},nodesToArray:function(e){e=e||[];for(var t=[],n=0;n<e.length;++n)t.push(e.item(n));return t},scrollTop:function(e){e=t.element(e||r[0].body);var o=e[0]==r[0].body?r[0].body:n,i=o?o.scrollTop+o.parentElement.scrollTop:0;return i||Math.abs(e[0].getBoundingClientRect().top)},findFocusTarget:function(e,n){function r(e,n){var r,o=e[0].querySelectorAll(n);return o&&o.length&&o.length&&t.forEach(o,function(e){e=t.element(e);var n=e.hasClass("_md-autofocus");n&&(r=e)}),r}var o,i="[md-autofocus]";return o=r(e,n||i),o||n==i||(o=r(e,"[md-auto-focus]"),o||(o=r(e,i))),o},disableScrollAround:function(e,n){function o(e){function n(){}function o(e){e.preventDefault()}e=t.element(e||s)[0];var i=50,a=t.element('<div class="md-scroll-mask">  <div class="md-scroll-mask-bar"></div></div>').css("z-index",i);return e.appendChild(a[0]),a.on("wheel",o),a.on("touchmove",o),r.on("keydown",n),function(){a.off("wheel"),a.off("touchmove"),a[0].parentNode.removeChild(a[0]),r.off("keydown",n),delete b.disableScrollAround._enableScrolling}}function i(){var e=s.parentNode,t=e.style.cssText||"",n=s.style.cssText||"",r=b.scrollTop(s),o=s.clientWidth;return s.scrollHeight>s.clientHeight+1&&(a(s,{position:"fixed",width:"100%",top:-r+"px"}),a(e,{overflowY:"scroll"})),s.clientWidth<o&&a(s,{overflow:"hidden"}),function(){s.style.cssText=n,e.style.cssText=t,s.scrollTop=r,e.scrollTop=r}}function a(e,t){for(var n in t)e.style[n]=t[n]}if(b.disableScrollAround._count=b.disableScrollAround._count||0,++b.disableScrollAround._count,b.disableScrollAround._enableScrolling)return b.disableScrollAround._enableScrolling;e=t.element(e);var s=r[0].body,l=i(),c=o(n);return b.disableScrollAround._enableScrolling=function(){--b.disableScrollAround._count||(l(),c(),delete b.disableScrollAround._enableScrolling)}},enableScrolling:function(){var e=this.disableScrollAround._enableScrolling;e&&e()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===n){var e=t.element("<div><div></div></div>").css({width:"100%","z-index":-1,position:"absolute",height:"35px","overflow-y":"scroll"});e.children().css("height","60px"),r[0].body.appendChild(e[0]),this.floatingScrollbars.cached=e[0].offsetWidth==e[0].childNodes[0].offsetWidth,e.remove()}return this.floatingScrollbars.cached},forceFocus:function(t){var n=t[0]||t;document.addEventListener("click",function o(e){e.target===n&&e.$focus&&(n.focus(),e.stopImmediatePropagation(),e.preventDefault(),n.removeEventListener("click",o))},!0);var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!1,!0,e,{},0,0,0,0,!1,!1,!1,!1,0,null),r.$material=!0,r.$focus=!0,n.dispatchEvent(r)},createBackdrop:function(e,t){return a(b.supplant('<md-backdrop class="{0}">',[t]))(e)},supplant:function(e,t,n){return n=n||/\{([^\{\}]*)\}/g,e.replace(n,function(e,n){var r=n.split("."),o=t;try{for(var i in r)r.hasOwnProperty(i)&&(o=o[r[i]])}catch(a){o=e}return"string"==typeof o||"number"==typeof o?o:e})},fakeNgModel:function(){return{$fake:!0,$setTouched:t.noop,$setViewValue:function(e){this.$viewValue=e,this.$render(e),this.$viewChangeListeners.forEach(function(e){e()})},$isEmpty:function(e){return 0===(""+e).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:t.noop}},debounce:function(e,t,r,o){var a;return function(){var s=r,l=Array.prototype.slice.call(arguments);i.cancel(a),a=i(function(){a=n,e.apply(s,l)},t||10,o)}},throttle:function(e,t){var n;return function(){var r=this,o=arguments,i=b.now();(!n||i-n>t)&&(e.apply(r,o),n=i)}},time:function(e){var t=b.now();return e(),b.now()-t},valueOnUse:function(e,t,n){var r=null,o=Array.prototype.slice.call(arguments),i=o.length>3?o.slice(3):[];Object.defineProperty(e,t,{get:function(){return null===r&&(r=n.apply(e,i)),r}})},nextUid:function(){return""+o++},disconnectScope:function(e){if(e&&e.$root!==e&&!e.$$destroyed){var t=e.$parent;e.$$disconnected=!0,t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e,n=t.$parent;t.$$disconnected=!1,t.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=t,n.$$childTail=t):n.$$childHead=n.$$childTail=t}},getClosest:function(e,n,r){if(e instanceof t.element&&(e=e[0]),n=n.toUpperCase(),r&&(e=e.parentNode),!e)return null;do if(e.nodeName===n)return e;while(e=e.parentNode);return null},elementContains:function(n,r){var o=e.Node&&e.Node.prototype&&Node.prototype.contains,i=o?t.bind(n,n.contains):t.bind(n,function(e){return n===r||!!(16&this.compareDocumentPosition(e))});return i(r)},extractElementByName:function(e,n,r,o){function i(e){return a(e)||(r?s(e):null)}function a(e){if(e)for(var t=0,r=e.length;r>t;t++)if(e[t].nodeName.toLowerCase()===n)return e[t];return null}function s(e){var t;if(e)for(var n=0,r=e.length;r>n;n++){var o=e[n];if(!t)for(var a=0,s=o.childNodes.length;s>a;a++)t=t||i([o.childNodes[a]])}return t}var l=i(e);return!l&&o&&u.warn(b.supplant("Unable to find node '{0}' in element '{1}'.",[n,e[0].outerHTML])),t.element(l||e)},initOptionalProperties:function(e,n,r){r=r||{},t.forEach(e.$$isolateBindings,function(o,i){if(o.optional&&t.isUndefined(e[i])){var a=t.isDefined(n[o.attrName]);e[i]=t.isDefined(r[i])?r[i]:a}})},nextTick:function(e,t,n){function r(){var e=n&&n.$$destroyed,t=e?[]:o.queue,r=e?null:o.digest;o.queue=[],o.timeout=null,o.digest=!1,t.forEach(function(e){e()}),r&&s.$digest()}var o=b.nextTick,a=o.timeout,l=o.queue||[];return l.push(e),null==t&&(t=!0),o.digest=o.digest||t,o.queue=l,a||(o.timeout=i(r,0,!1))},processTemplate:function(e){return m?e:e&&t.isString(e)?e.replace(/\{\{/g,h).replace(/}}/g,g):e},getParentWithPointerEvents:function(e){for(var t=e.parent();v(t,"pointer-events","none");)t=t.parent();return t},getNearestContentElement:function(e){for(var t=e.parent()[0];t&&t!==d[0]&&t!==document.body&&"MD-CONTENT"!==t.nodeName.toUpperCase();)t=t.parentNode;return t},hasComputedStyle:v};return b.dom.animator=l(b),b}var o=0;t.module("material.core").factory("$mdUtil",r),r.$inject=["$document","$timeout","$compile","$rootScope","$$mdAnimate","$interpolate","$log","$rootElement","$window"],t.element.prototype.focus=t.element.prototype.focus||function(){return this.length&&this[0].focus(),this},t.element.prototype.blur=t.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function e(e,n,r,o){function i(e,r,o){var i=t.element(e)[0]||e;!i||i.hasAttribute(r)&&0!==i.getAttribute(r).length||c(i,r)||(o=t.isString(o)?o.trim():"",o.length?e.attr(r,o):n.warn('ARIA: Attribute "',r,'", required for accessibility, is missing on node:',i))}function a(t,n,r){e(function(){i(t,n,r())})}function s(e,t){var n=l(e)||"",r=n.indexOf(o.startSymbol())>-1;r?a(e,t,function(){return l(e)}):i(e,t,n)}function l(e){return(e.text()||"").trim()}function c(e,t){function n(e){var t=e.currentStyle?e.currentStyle:r.getComputedStyle(e);return"none"===t.display}var o=e.hasChildNodes(),i=!1;if(o)for(var a=e.childNodes,s=0;s<a.length;s++){var l=a[s];1===l.nodeType&&l.hasAttribute(t)&&(n(l)||(i=!0))}return i}return{expect:i,expectAsync:a,expectWithText:s}}t.module("material.core").service("$mdAria",e),e.$inject=["$$rAF","$log","$window","$interpolate"]}(),function(){function e(e,n,r,o,i,a){this.compile=function(s){var l=s.templateUrl,c=s.template||"",u=s.controller,d=s.controllerAs,f=t.extend({},s.resolve||{}),p=t.extend({},s.locals||{}),h=s.transformTemplate||t.identity,g=s.bindToController;return t.forEach(f,function(e,n){f[n]=t.isString(e)?r.get(e):r.invoke(e)}),t.extend(f,p),f.$template=l?n.get(l,{cache:a}).then(function(e){return e.data}):e.when(c),e.all(f).then(function(e){var n,r=h(e.$template,s),a=s.element||t.element("<div>").html(r.trim()).contents(),l=o(a);return n={locals:e,element:a,link:function(r){if(e.$scope=r,u){var o=i(u,e,!0);g&&t.extend(o.instance,e);var s=o();a.data("$ngControllerController",s),a.children().data("$ngControllerController",s),d&&(r[d]=s),n.controller=s}return l(r)}}})}}t.module("material.core").service("$mdCompiler",e),e.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"]}(),function(){function n(){}function r(n,r,o){function i(e){return function(t,n){n.distance<this.state.options.maxDistance&&this.dispatchEvent(t,e,n)}}function a(e,t,n){var r=h[t.replace(/^\$md./,"")];if(!r)throw new Error("Failed to register element with handler "+t+". Available handlers: "+Object.keys(h).join(", "));return r.registerElement(e,n)}function l(e,r){var o=new n(e);return t.extend(o,r),h[e]=o,m}var c=navigator.userAgent||navigator.vendor||e.opera,d=c.match(/ipad|iphone|ipod/i),f=c.match(/android/i),p="undefined"!=typeof e.jQuery&&t.element===e.jQuery,m={handler:l,register:a,isHijackingClicks:(d||f)&&!p&&!g};if(m.isHijackingClicks){var v=6;m.handler("click",{options:{maxDistance:v},onEnd:i("click")}),m.handler("focus",{options:{maxDistance:v},onEnd:function(e,t){function n(e){var t=["INPUT","SELECT","BUTTON","TEXTAREA","VIDEO","AUDIO"];return"-1"!=e.getAttribute("tabindex")&&!e.hasAttribute("DISABLED")&&(e.hasAttribute("tabindex")||e.hasAttribute("href")||-1!=t.indexOf(e.nodeName))}t.distance<this.state.options.maxDistance&&n(e.target)&&(this.dispatchEvent(e,"focus",t),e.target.focus())}}),m.handler("mouseup",{options:{maxDistance:v},onEnd:i("mouseup")}),m.handler("mousedown",{onStart:function(e){this.dispatchEvent(e,"mousedown")}})}return m.handler("press",{onStart:function(e){this.dispatchEvent(e,"$md.pressdown")},onEnd:function(e){this.dispatchEvent(e,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){o.cancel(this.state.timeout)},onStart:function(e,n){return this.state.registeredParent?(this.state.pos={x:n.x,y:n.y},void(this.state.timeout=o(t.bind(this,function(){this.dispatchEvent(e,"$md.hold"),this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(e,t){e.preventDefault();var n=this.state.pos.x-t.x,r=this.state.pos.y-t.y;Math.sqrt(n*n+r*r)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onStart:function(){this.state.registeredParent||this.cancel()},onMove:function(e,t){var n,r;e.preventDefault(),this.state.dragPointer?this.dispatchDragMove(e):(this.state.options.horizontal?(n=Math.abs(t.distanceX)>this.state.options.minDistance,r=Math.abs(t.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(t.distanceY)>this.state.options.minDistance,r=Math.abs(t.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=s(e),u(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)):r&&this.cancel())},dispatchDragMove:r.throttle(function(e){this.state.isRunning&&(u(e,this.state.dragPointer),this.dispatchEvent(e,"$md.drag",this.state.dragPointer))}),onEnd:function(e){this.state.dragPointer&&(u(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(e,t){var n;Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance?(n="left"==t.directionX?"$md.swipeleft":"$md.swiperight",this.dispatchEvent(e,n)):Math.abs(t.velocityY)>this.state.options.minVelocity&&Math.abs(t.distanceY)>this.state.options.minDistance&&(n="up"==t.directionY?"$md.swipeup":"$md.swipedown",this.dispatchEvent(e,n))}})}function o(e){this.name=e,this.state={}}function i(){function n(e,n,r){r=r||f;var o=new t.element.Event(n);o.$material=!0,o.pointer=r,o.srcEvent=e,t.extend(o,{clientX:r.x,clientY:r.y,screenX:r.x,screenY:r.y,pageX:r.x,pageY:r.y,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey}),t.element(r.target).trigger(o)}function r(t,n,r){r=r||f;var o;"click"===n||"mouseup"==n||"mousedown"==n?(o=document.createEvent("MouseEvents"),o.initMouseEvent(n,!0,!0,e,t.detail,r.x,r.y,r.x,r.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null)):(o=document.createEvent("CustomEvent"),o.initCustomEvent(n,!0,!0,{})),o.$material=!0,o.pointer=r,o.srcEvent=t,r.target.dispatchEvent(o)}var i="undefined"!=typeof e.jQuery&&t.element===e.jQuery;return o.prototype={options:{},dispatchEvent:i?n:r,onStart:t.noop,onMove:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(e,n){if(!this.state.isRunning){var r=this.getNearestParent(e.target),o=r&&r.$mdGesture[this.name]||{};this.state={isRunning:!0,options:t.extend({},this.options,o),registeredParent:r},this.onStart(e,n)}},move:function(e,t){this.state.isRunning&&this.onMove(e,t)},end:function(e,t){this.state.isRunning&&(this.onEnd(e,t),this.state.isRunning=!1)},cancel:function(e,t){this.onCancel(e,t),this.state={}},getNearestParent:function(e){for(var t=e;t;){if((t.$mdGesture||{})[this.name])return t;t=t.parentNode}return null},registerElement:function(e,t){function n(){delete e[0].$mdGesture[r.name],e.off("$destroy",n)}var r=this;return e[0].$mdGesture=e[0].$mdGesture||{},e[0].$mdGesture[this.name]=t||{},e.on("$destroy",n),n}},o}function a(e,n){function r(e){var t=!e.clientX&&!e.clientY;t||e.$material||e.isIonicTap||c(e)||(e.preventDefault(),e.stopPropagation())}function o(e){var t=0===e.clientX&&0===e.clientY;t||e.$material||e.isIonicTap||c(e)?(m=null,"label"==e.target.tagName.toLowerCase()&&(m={x:e.x,y:e.y})):(e.preventDefault(),e.stopPropagation(),m=null)}function i(e,t){var r;for(var o in h)r=h[o],r instanceof n&&("start"===e&&r.cancel(),r[e](t,f))}function a(e){if(!f){var t=+Date.now();p&&!l(e,p)&&t-p.endTime<1500||(f=s(e),i("start",e))}}function d(e){f&&l(e,f)&&(u(e,f),i("move",e))}function g(e){f&&l(e,f)&&(u(e,f),f.endTime=+Date.now(),i("end",e),p=f,f=null)}document.contains||(document.contains=function(e){return document.body.contains(e)}),!v&&e.isHijackingClicks&&(document.addEventListener("click",o,!0),document.addEventListener("mouseup",r,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("focus",r,!0),v=!0);var b="mousedown touchstart pointerdown",y="mousemove touchmove pointermove",E="mouseup mouseleave touchend touchcancel pointerup pointercancel";t.element(document).on(b,a).on(y,d).on(E,g).on("$$mdGestureReset",function(){p=f=null})}function s(e){var t=d(e),n={startTime:+Date.now(),target:e.target,type:e.type.charAt(0)};return n.startX=n.x=t.pageX,n.startY=n.y=t.pageY,n}function l(e,t){return e&&t&&e.type.charAt(0)===t.type}function c(e){return m&&m.x==e.x&&m.y==e.y}function u(e,t){var n=d(e),r=t.x=n.pageX,o=t.y=n.pageY;t.distanceX=r-t.startX,t.distanceY=o-t.startY,t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY),t.directionX=t.distanceX>0?"right":t.distanceX<0?"left":"",t.directionY=t.distanceY>0?"down":t.distanceY<0?"up":"",t.duration=+Date.now()-t.startTime,t.velocityX=t.distanceX/t.duration,t.velocityY=t.distanceY/t.duration}function d(e){return e=e.originalEvent||e,e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e}var f,p,h={},g=!1,m=null,v=!1;t.module("material.core.gestures",[]).provider("$mdGesture",n).factory("$$MdGestureHandler",i).run(a),n.prototype={skipClickHijack:function(){return g=!0},$get:["$$MdGestureHandler","$$rAF","$timeout",function(e,t,n){return new r(e,t,n)}]},r.$inject=["$$MdGestureHandler","$$rAF","$timeout"],a.$inject=["$mdGesture","$$MdGestureHandler"]}(),function(){function e(){function e(e){function n(e){return l.optionsFactory=e.options,l.methods=(e.methods||[]).concat(a),c}function r(e,t){return s[e]=t,c}function o(t,n){if(n=n||{},n.methods=n.methods||[],n.options=n.options||function(){return{}},/^cancel|hide|show$/.test(t))throw new Error("Preset '"+t+"' in "+e+" is reserved!");if(n.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+e+" is reserved!");return l.presets[t]={methods:n.methods.concat(a),optionsFactory:n.options,argOption:n.argOption},c
}function i(n,r){function o(e){return e=e||{},e._options&&(e=e._options),d.show(t.extend({},u,e))}function i(e){return d.destroy(e)}function a(t,n){var o={};return o[e]=f,r.invoke(t||function(){return n},{},o)}var c,u,d=n(),f={hide:d.hide,cancel:d.cancel,show:o,destroy:i};return c=l.methods||[],u=a(l.optionsFactory,{}),t.forEach(s,function(e,t){f[t]=e}),t.forEach(l.presets,function(e,n){function r(e){this._options=t.extend({},o,e)}var o=a(e.optionsFactory,{}),i=(e.methods||[]).concat(c);if(t.extend(o,{$type:n}),t.forEach(i,function(e){r.prototype[e]=function(t){return this._options[e]=t,this}}),e.argOption){var s="show"+n.charAt(0).toUpperCase()+n.slice(1);f[s]=function(e){var t=f[n](e);return f.show(t)}}f[n]=function(n){return arguments.length&&e.argOption&&!t.isObject(n)&&!t.isArray(n)?(new r)[e.argOption](n):new r(n)}}),f}var a=["onHide","onShow","onRemove"],s={},l={presets:{}},c={setDefaults:n,addPreset:o,addMethod:r,$get:i};return c.addPreset("build",{methods:["controller","controllerAs","resolve","template","templateUrl","themable","transformTemplate","parent"]}),i.$inject=["$$interimElement","$injector"],c}function r(e,r,o,i,a,s,l,c,u,d,f){return function(){function p(e){e=e||{};var t=new v(e||{}),n=!e.skipHide&&E.length?b.hide():r.when(!0);return n.finally(function(){E.push(t),t.show().catch(function(e){return e})}),t.deferred.promise}function h(e,t){function o(n){return n.remove(e,!1,t||{}).catch(function(e){return e}),n.deferred.promise}if(!E.length)return r.when(e);if(t=t||{},t.closeAll){var i=r.all(E.reverse().map(o));return E=[],i}if(t.closeTo!==n)return r.all(E.splice(t.closeTo).map(o));var a=E.pop();return o(a)}function g(e,t){var n=E.shift();return n?(n.remove(e,!0,t||{}).catch(function(e){return e}),n.deferred.promise):r.when(e)}function m(e){var n=e?null:E.shift(),o=t.element(e).length?t.element(e)[0].parentNode:null;if(o){var i=E.filter(function(e){var t=e.options.element[0];return t===o});i.length>0&&(n=i[0],E.splice(E.indexOf(n),1))}return n?n.remove(y,!1,{$destroy:!0}):r.when(y)}function v(f){function p(){return r(function(e,t){function n(e){C.deferred.reject(e),t(e)}m(f).then(function(t){$=v(t,f),A=_($,f,t.controller).then(e,n)},n)})}function h(e,n,o){function i(e){C.deferred.resolve(e)}function a(e){C.deferred.reject(e)}return $?(f=t.extend(f||{},o||{}),f.cancelAutoHide&&f.cancelAutoHide(),f.element.triggerHandler("$mdInterimElementRemove"),f.$destroy===!0?w(f.element,f).then(function(){n&&a(e)||i(e)}):(r.when(A).finally(function(){w(f.element,f).then(function(){n&&a(e)||i(e)},a)}),C.deferred.promise)):r.when(!1)}function g(e){return e=e||{},e.template&&(e.template=c.processTemplate(e.template)),t.extend({preserveScope:!1,cancelAutoHide:t.noop,scope:e.scope||i.$new(e.isolateScope),onShow:function(e,t,n){return l.enter(t,n.parent)},onRemove:function(e,t){return t&&l.leave(t)||r.when()}},e)}function m(e){var t=e.skipCompile?null:u.compile(e);return t||r(function(t){t({locals:{},link:function(){return e.element}})})}function v(e,n){t.extend(e.locals,n);var r=e.link(n.scope);return n.element=r,n.parent=y(r,n),n.themable&&d(r),r}function y(n,r){var o=r.parent;if(o=t.isFunction(o)?o(r.scope,n,r):t.element(t.isString(o)?e[0].querySelector(o):o),!(o||{}).length){var i;return s[0]&&s[0].querySelector&&(i=s[0].querySelector(":not(svg) > body")),i||(i=s[0]),"#comment"==i.nodeName&&(i=e[0].body),t.element(i)}return o}function E(){var e,r=t.noop;f.hideDelay&&(e=a(b.hide,f.hideDelay),r=function(){a.cancel(e)}),f.cancelAutoHide=function(){r(),f.cancelAutoHide=n}}function _(e,n,o){var i=n.onShowing||t.noop,a=n.onComplete||t.noop;return i(n.scope,e,n,o),r(function(t,i){try{r.when(n.onShow(n.scope,e,n,o)).then(function(){a(n.scope,e,n),E(),t(e)},i)}catch(s){i(s.message)}})}function w(e,n){var r=n.onRemoving||t.noop;return o(function(t,i){try{var a=o.when(n.onRemove(n.scope,e,n)||!0);r(e,a),1==n.$destroy?t(e):a.then(function(){!n.preserveScope&&n.scope&&n.scope.$destroy(),t(e)},i)}catch(s){i(s.message)}})}var C,$,A=r.when(!0);return f=g(f),C={options:f,deferred:r.defer(),show:p,remove:h}}var b,y=!1,E=[];return b={show:p,hide:h,cancel:g,destroy:m,$injector_:f}}}return e.$get=r,r.$inject=["$document","$q","$$q","$rootScope","$timeout","$rootElement","$animate","$mdUtil","$mdCompiler","$mdTheming","$injector"],e}t.module("material.core").provider("$$interimElement",e)}(),function(){!function(){function e(e){function a(e){return e.replace(l,"").replace(c,function(e,t,n,r){return r?n.toUpperCase():n})}var l=/^((?:x|data)[\:\-_])/i,c=/([\:\-\_]+(.))/g,u=["","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl"],d=["layout","flex","flex-order","flex-offset","layout-align"],f=["show","hide","layout-padding","layout-margin"];t.forEach(u,function(n){t.forEach(d,function(t){var r=n?t+"-"+n:t;e.directive(a(r),o(r))}),t.forEach(f,function(t){var r=n?t+"-"+n:t;e.directive(a(r),i(r))})}),e.directive("mdLayoutCss",n).directive("ngCloak",r("ng-cloak")).directive("layoutWrap",i("layout-wrap")).directive("layoutNowrap",i("layout-nowrap")).directive("layoutNoWrap",i("layout-no-wrap")).directive("layoutFill",i("layout-fill")).directive("layoutLtMd",s("layout-lt-md",!0)).directive("layoutLtLg",s("layout-lt-lg",!0)).directive("flexLtMd",s("flex-lt-md",!0)).directive("flexLtLg",s("flex-lt-lg",!0)).directive("layoutAlignLtMd",s("layout-align-lt-md")).directive("layoutAlignLtLg",s("layout-align-lt-lg")).directive("flexOrderLtMd",s("flex-order-lt-md")).directive("flexOrderLtLg",s("flex-order-lt-lg")).directive("offsetLtMd",s("flex-offset-lt-md")).directive("offsetLtLg",s("flex-offset-lt-lg")).directive("hideLtMd",s("hide-lt-md")).directive("hideLtLg",s("hide-lt-lg")).directive("showLtMd",s("show-lt-md")).directive("showLtLg",s("show-lt-lg"))}function n(){return{restrict:"A",priority:"900",compile:function(){return $.enabled=!1,t.noop}}}function r(e){return["$timeout",function(n){return{restrict:"A",priority:-10,compile:function(r){return $.enabled?(r.addClass(e),function(t,r){n(function(){r.removeClass(e)},10,!1)}):t.noop}}}]}function o(e){function n(t,n,r){var o=a(n,e,r),i=r.$observe(r.$normalize(e),o);o(f(e,r,"")),t.$on("$destroy",function(){i()})}return["$mdUtil","$interpolate","$log",function(r,o,i){return g=r,m=o,v=i,{restrict:"A",compile:function(r,o){var i;return $.enabled&&(l(e,o,r,v),c(e,f(e,o,""),u(r,e,o)),i=n),i||t.noop}}}]}function i(e){function n(t,n){n.addClass(e)}return["$mdUtil","$interpolate","$log",function(r,o,i){return g=r,m=o,v=i,{restrict:"A",compile:function(r,o){var i;return $.enabled&&(c(e,f(e,o,""),u(r,e,o)),n(null,r),i=n),i||t.noop}}}]}function a(e,n){var r;return function(o){var i=c(n,o||"");t.isDefined(i)&&(r&&e.removeClass(r),r=i?n+"-"+i.replace(y,"-"):n,e.addClass(r))}}function s(e){var n=e.split("-");return["$log",function(r){return r.warn(e+"has been deprecated. Please use a `"+n[0]+"-gt-<xxx>` variant."),t.noop}]}function l(e,t,n,r){var o,i,a,s=n[0].nodeName.toLowerCase();switch(e.replace(b,"")){case"flex":("md-button"==s||"fieldset"==s)&&(i="<"+s+" "+e+"></"+s+">",a="https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers",o="Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.",r.warn(g.supplant(o,[i,a])))}}function c(e,n,r){var o=n;if(!d(n)){switch(e.replace(b,"")){case"layout":p(n,_)||(n=_[0]);break;case"flex":p(n,E)||isNaN(n)&&(n="");break;case"flex-offset":case"flex-order":(!n||isNaN(+n))&&(n="0");break;case"layout-align":var i=h(n);n=g.supplant("{main}-{cross}",i);break;case"layout-padding":case"layout-margin":case"layout-fill":case"layout-wrap":case"layout-nowrap":case"layout-nowrap":n=""}n!=o&&(r||t.noop)(n)}return n}function u(e,t,n){return function(e){d(e)||(n[n.$normalize(t)]=e)}}function d(e){return(e||"").indexOf(m.startSymbol())>-1}function f(e,t,n){var r=t.$normalize(e);return t[r]?t[r].replace(y,"-"):n||null}function p(e,t,n){e=n&&e?e.replace(y,n):e;var r=!1;return e&&t.forEach(function(t){t=n?t.replace(y,n):t,r=r||t===e}),r}function h(e){var t,n={main:"start",cross:"stretch"};return e=e||"",(0==e.indexOf("-")||0==e.indexOf(" "))&&(e="none"+e),t=e.toLowerCase().trim().replace(y,"-").split("-"),t.length&&"space"===t[0]&&(t=[t[0]+"-"+t[1],t[2]]),t.length>0&&(n.main=t[0]||n.main),t.length>1&&(n.cross=t[1]||n.cross),w.indexOf(n.main)<0&&(n.main="start"),C.indexOf(n.cross)<0&&(n.cross="stretch"),n}var g,m,v,b=/(-gt)?-(sm|md|lg)/g,y=/\s+/g,E=["grow","initial","auto","none","noshrink","nogrow"],_=["row","column"],w=["","start","center","end","stretch","space-around","space-between"],C=["","start","center","end","stretch"],$={enabled:!0,breakpoints:[]};e(t.module("material.core.layout",["ng"]))}()}(),function(){function e(e,n){function r(e){return e&&""!==e}var o,i=[],a={};return o={notFoundError:function(t){e.error("No instance found for handle",t)},getInstances:function(){return i},get:function(e){if(!r(e))return null;var t,n,o;for(t=0,n=i.length;n>t;t++)if(o=i[t],o.$$mdHandle===e)return o;return null},register:function(e,n){function r(){var t=i.indexOf(e);-1!==t&&i.splice(t,1)}function o(){var t=a[n];t&&(t.resolve(e),delete a[n])}return n?(e.$$mdHandle=n,i.push(e),o(),r):t.noop},when:function(e){if(r(e)){var t=n.defer(),i=o.get(e);return i?t.resolve(i):a[e]=t,t.promise}return n.reject("Invalid `md-component-id` value.")}}}t.module("material.core").factory("$mdComponentRegistry",e),e.$inject=["$log","$q"]}(),function(){!function(){function e(e){function n(e){return e.hasClass("md-icon-button")?{isMenuItem:e.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:e.hasClass("md-menu-item"),dimBackground:!0}}return{attach:function(r,o,i){return i=t.extend(n(o),i),e.attach(r,o,i)}}}t.module("material.core").factory("$mdButtonInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){!function(){function e(e){function n(n,r,o){return e.attach(n,r,t.extend({center:!0,dimBackground:!1,fitRipple:!0},o))}return{attach:n}}t.module("material.core").factory("$mdCheckboxInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){!function(){function e(e){function n(n,r,o){return e.attach(n,r,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},o))}return{attach:n}}t.module("material.core").factory("$mdListInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){function e(e,n){return{controller:t.noop,link:function(t,r,o){o.hasOwnProperty("mdInkRippleCheckbox")?n.attach(t,r):e.attach(t,r)}}}function n(e){function n(n,o,i){return o.controller("mdNoInk")?t.noop:e.instantiate(r,{$scope:n,$element:o,rippleOptions:i})}return{attach:n}}function r(e,n,r,o,i,a){this.$window=o,this.$timeout=i,this.$mdUtil=a,this.$scope=e,this.$element=n,this.options=r,this.mousedown=!1,this.ripples=[],this.timeout=null,this.lastRipple=null,a.valueOnUse(this,"container",this.createContainer),this.$element.addClass("md-ink-ripple"),(n.controller("mdInkRipple")||{}).createRipple=t.bind(this,this.createRipple),(n.controller("mdInkRipple")||{}).setColor=t.bind(this,this.color),this.bindEvents()}function o(e,n){(e.mousedown||e.lastRipple)&&(e.mousedown=!1,e.$mdUtil.nextTick(t.bind(e,n),!1))}function i(){return{controller:t.noop}}t.module("material.core").factory("$mdInkRipple",n).directive("mdInkRipple",e).directive("mdNoInk",i).directive("mdNoBar",i).directive("mdNoStretch",i);var a=450;e.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],n.$inject=["$injector"],r.$inject=["$scope","$element","rippleOptions","$window","$timeout","$mdUtil"],r.prototype.color=function(e){function n(){var e=r.options&&r.options.colorElement?r.options.colorElement:[],t=e.length?e[0]:r.$element[0];return t?r.$window.getComputedStyle(t).color:"rgb(0,0,0)"}var r=this;return t.isDefined(e)&&(r._color=r._parseColor(e)),r._color||r._parseColor(r.inkRipple())||r._parseColor(n())},r.prototype.calculateColor=function(){return this.color()},r.prototype._parseColor=function(e,t){function n(e){var t="#"===e[0]?e.substr(1):e,n=t.length/3,r=t.substr(0,n),o=t.substr(n,n),i=t.substr(2*n);return 1===n&&(r+=r,o+=o,i+=i),"rgba("+parseInt(r,16)+","+parseInt(o,16)+","+parseInt(i,16)+",0.1)"}function r(e){return e.replace(")",", 0.1)").replace("(","a(")}return t=t||1,e?0===e.indexOf("rgba")?e.replace(/\d?\.?\d*\s*\)\s*$/,(.1*t).toString()+")"):0===e.indexOf("rgb")?r(e):0===e.indexOf("#")?n(e):void 0:void 0},r.prototype.bindEvents=function(){this.$element.on("mousedown",t.bind(this,this.handleMousedown)),this.$element.on("mouseup touchend",t.bind(this,this.handleMouseup)),this.$element.on("mouseleave",t.bind(this,this.handleMouseup)),this.$element.on("touchmove",t.bind(this,this.handleTouchmove))},r.prototype.handleMousedown=function(e){if(!this.mousedown)if(e.hasOwnProperty("originalEvent")&&(e=e.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientWidth")/2);else if(e.srcElement!==this.$element[0]){var t=this.$element[0].getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;this.createRipple(n,r)}else this.createRipple(e.offsetX,e.offsetY)},r.prototype.handleMouseup=function(){o(this,this.clearRipples)},r.prototype.handleTouchmove=function(){o(this,this.deleteRipples)},r.prototype.deleteRipples=function(){for(var e=0;e<this.ripples.length;e++)this.ripples[e].remove()},r.prototype.clearRipples=function(){for(var e=0;e<this.ripples.length;e++)this.fadeInComplete(this.ripples[e])},r.prototype.createContainer=function(){var e=t.element('<div class="md-ripple-container"></div>');return this.$element.append(e),e},r.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)},r.prototype.isRippleAllowed=function(){var e=this.$element[0];do{if(!e.tagName||"BODY"===e.tagName)break;if(e&&t.isFunction(e.hasAttribute)){if(e.hasAttribute("disabled"))return!1;if("false"===this.inkRipple()||"0"===this.inkRipple())return!1}}while(e=e.parentNode);return!0},r.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")},r.prototype.createRipple=function(e,n){function r(e){return e?e.replace("rgba","rgb").replace(/,[^\),]+\)/,")"):"rgb(0,0,0)"}function o(e,t,n){return e?Math.max(t,n):Math.sqrt(Math.pow(t,2)+Math.pow(n,2))}if(this.isRippleAllowed()){var i=this,s=t.element('<div class="md-ripple"></div>'),l=this.$element.prop("clientWidth"),c=this.$element.prop("clientHeight"),u=2*Math.max(Math.abs(l-e),e),d=2*Math.max(Math.abs(c-n),n),f=o(this.options.fitRipple,u,d),p=this.calculateColor();s.css({left:e+"px",top:n+"px",background:"black",width:f+"px",height:f+"px",backgroundColor:r(p),borderColor:r(p)}),this.lastRipple=s,this.clearTimeout(),this.timeout=this.$timeout(function(){i.clearTimeout(),i.mousedown||i.fadeInComplete(s)},.35*a,!1),this.options.dimBackground&&this.container.css({backgroundColor:p}),this.container.append(s),this.ripples.push(s),s.addClass("md-ripple-placed"),this.$mdUtil.nextTick(function(){s.addClass("md-ripple-scaled md-ripple-active"),i.$timeout(function(){i.clearRipples()},a,!1)},!1)}},r.prototype.fadeInComplete=function(e){this.lastRipple===e?this.timeout||this.mousedown||this.removeRipple(e):this.removeRipple(e)},r.prototype.removeRipple=function(e){var t=this,n=this.ripples.indexOf(e);0>n||(this.ripples.splice(this.ripples.indexOf(e),1),e.removeClass("md-ripple-active"),0===this.ripples.length&&this.container.css({backgroundColor:""}),this.$timeout(function(){t.fadeOutComplete(e)},a,!1))},r.prototype.fadeOutComplete=function(e){e.remove(),this.lastRipple=null}}(),function(){!function(){function e(e){function n(n,r,o){return e.attach(n,r,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},o))}return{attach:n}}t.module("material.core").factory("$mdTabInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){t.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900",contrastStrongLightColors:"600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",1000:"#000000",A100:"#ffffff",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300",contrastStrongLightColors:"400 500"}})}(),function(){function e(e){function r(e,t){return t=t||{},d[e]=a(e,t),b}function o(e,n){return a(e,t.extend({},d[e]||{},n))}function a(e,t){var n=A.filter(function(e){return!t[e]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",e));return t}function l(e,n){if(f[e])return f[e];n=n||"default";var r="string"==typeof n?f[n]:n,o=new c(e);return r&&t.forEach(r.colors,function(e,n){o.colors[n]={name:e.name,hues:t.extend({},e.hues)}}),f[e]=o,o}function c(e){function n(e){if(e=0===arguments.length?!0:!!e,e!==r.isDark){r.isDark=e,r.foregroundPalette=r.isDark?g:h,r.foregroundShadow=r.isDark?m:v;var n=r.isDark?$:C,o=r.isDark?C:$;return t.forEach(n,function(e,t){var n=r.colors[t],i=o[t];if(n)for(var a in n.hues)n.hues[a]===i[a]&&(n.hues[a]=e[a])}),r}}var r=this;r.name=e,r.colors={},r.dark=n,n(!1),_.forEach(function(e){var n=(r.isDark?$:C)[e];r[e+"Palette"]=function(o,i){var a=r.colors[e]={name:o,hues:t.extend({},n,i)};return Object.keys(a.hues).forEach(function(e){if(!n[e])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",e).replace("%2",r.name).replace("%3",o).replace("%4",Object.keys(n).join(", ")))}),Object.keys(a.hues).map(function(e){return a.hues[e]}).forEach(function(t){if(-1==A.indexOf(t))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",t).replace("%2",r.name).replace("%3",e).replace("%4",o).replace("%5",A.join(", ")))}),r},r[e+"Color"]=function(){var t=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+e+"Color() has been deprecated. Use $mdThemingProviderTheme."+e+"Palette() instead."),r[e+"Palette"].apply(r,t)}})}function p(e,r){function o(e){return e===n||""===e?!0:i.THEMES[e]!==n}function i(t,r){r===n&&(r=t,t=n),t===n&&(t=e),i.inherit(r,r)}return i.inherit=function(n,i){function a(e){if(e){o(e)||r.warn("Attempted to use unregistered theme '"+e+"'. Register it with $mdThemingProvider.theme().");var t=n.data("$mdThemeName");t&&n.removeClass("md-"+t+"-theme"),n.addClass("md-"+e+"-theme"),n.data("$mdThemeName",e),s&&n.data("$mdThemeController",s)}}var s=i.controller("mdTheme"),l=n.attr("md-theme-watch");if((E||t.isDefined(l))&&"false"!=l){var c=e.$watch(function(){return s&&s.$mdTheme||("default"==y?"":y)},a);n.on("$destroy",c)}else{var u=s&&s.$mdTheme||("default"==y?"":y);a(u)}},i.THEMES=t.extend({},f),i.defaultTheme=function(){return y},i.registered=o,i.generateTheme=function(e){s(e,T)},i}d={},f={};var b,y="default",E=!1;return t.extend(d,e),p.$inject=["$rootScope","$log"],b={definePalette:r,extendPalette:o,theme:l,setNonce:function(e){T=e},setDefaultTheme:function(e){y=e},alwaysWatchTheme:function(e){E=e},generateThemesOnDemand:function(e){S=e},$get:p,_LIGHT_DEFAULT_HUES:C,_DARK_DEFAULT_HUES:$,_PALETTES:d,_THEMES:f,_parseRules:i,_rgba:u}}function r(e,t,n){return{priority:100,link:{pre:function(r,o,i){var a={$setTheme:function(t){e.registered(t)||n.warn("attempted to use unregistered theme '"+t+"'"),a.$mdTheme=t}};o.data("$mdThemeController",a),a.$setTheme(t(i.mdTheme)(r)),i.$observe("mdTheme",a.$setTheme)}}}}function o(e){return e}function i(e,n,r){l(e,n),r=r.replace(/THEME_NAME/g,e.name);var o=[],i=e.colors[n],a=new RegExp(".md-"+e.name+"-theme","g"),s=new RegExp("('|\")?{{\\s*("+n+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),c=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g,f=d[i.name];return r=r.replace(c,function(t,n,r,o,i){return"foreground"===n?"shadow"==r?e.foregroundShadow:e.foregroundPalette[r]||e.foregroundPalette[1]:(0===r.indexOf("hue")&&(r=e.colors[n].hues[r]),u((d[e.colors[n].name][r]||"")[i?"contrast":"value"],o))}),t.forEach(i.hues,function(t,n){var i=r.replace(s,function(e,n,r,o,i){return u(f[t]["color"===o?"value":"contrast"],i)});if("default"!==n&&(i=i.replace(a,".md-"+e.name+"-theme.md-"+n)),"default"==e.name){var l=/((?:(?:(?: |>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)+) )?)((?:(?:\w|\.|-)+)?)\.md-default-theme((?: |>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g;i=i.replace(l,function(e,t,n,r){return e+", "+t+n+r})}o.push(i)}),o}function a(e){function n(e){var n=e.contrastDefaultColor,r=e.contrastLightColors||[],o=e.contrastStrongLightColors||[],i=e.contrastDarkColors||[];"string"==typeof r&&(r=r.split(" ")),"string"==typeof o&&(o=o.split(" ")),"string"==typeof i&&(i=i.split(" ")),delete e.contrastDefaultColor,delete e.contrastLightColors,delete e.contrastStrongLightColors,delete e.contrastDarkColors,t.forEach(e,function(a,s){function l(){return"light"===n?i.indexOf(s)>-1?b:o.indexOf(s)>-1?E:y:r.indexOf(s)>-1?o.indexOf(s)>-1?E:y:b}if(!t.isObject(a)){var u=c(a);if(!u)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",a).replace("%2",e.name).replace("%3",s));e[s]={value:u,contrast:l()}}})}var r=document.head,o=r?r.firstElementChild:null,i=e.has("$MD_THEME_CSS")?e.get("$MD_THEME_CSS"):"";if(o&&0!==i.length){t.forEach(d,n);var a=i.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.length}).map(function(e){return e.trim()+"}"}),l=new RegExp("md-("+_.join("|")+")","g");_.forEach(function(e){k[e]=""}),a.forEach(function(e){for(var t,n=(e.match(l),0);t=_[n];n++)if(e.indexOf(".md-"+t)>-1)return k[t]+=e;for(n=0;t=_[n];n++)if(e.indexOf(t)>-1)return k[t]+=e;return k[w]+=e}),S||t.forEach(f,function(e){p[e.name]||s(e.name,T)})}}function s(e,t){var n=f[e],r=document.head,o=r?r.firstElementChild:null;p[e]||(_.forEach(function(e){for(var a=i(n,e,k[e]);a.length;){var s=a.shift();if(s){var l=document.createElement("style");l.setAttribute("md-theme-style",""),t&&l.setAttribute("nonce",t),l.appendChild(document.createTextNode(s)),r.insertBefore(l,o)}}}),n.colors.primary.name==n.colors.accent.name&&console.warn("$mdThemingProvider: Using the same palette for primary and accent. This violates the material design spec."),p[n.name]=!0)}function l(e,t){if(!d[(e.colors[t]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",e.name).replace("%2",t).replace("%3",Object.keys(d).join(", ")))}function c(e){if(t.isArray(e)&&3==e.length)return e;if(/^rgb/.test(e))return e.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return 3==t?parseFloat(e,10):parseInt(e,10)});if("#"==e.charAt(0)&&(e=e.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(e)){var n=e.length/3,r=e.substr(0,n),o=e.substr(n,n),i=e.substr(2*n);return 1===n&&(r+=r,o+=o,i+=i),[parseInt(r,16),parseInt(o,16),parseInt(i,16)]}}function u(e,n){return e?(4==e.length&&(e=t.copy(e),n?e.pop():n=e.pop()),n&&("number"==typeof n||"string"==typeof n&&n.length)?"rgba("+e.join(",")+","+n+")":"rgb("+e.join(",")+")"):"rgb('0,0,0')"}t.module("material.core.theming",["material.core.theming.palette"]).directive("mdTheme",r).directive("mdThemable",o).provider("$mdTheming",e).run(a);var d,f,p={},h={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.26)",4:"rgba(0,0,0,0.12)"},g={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.3)",4:"rgba(255,255,255,0.12)"},m="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",v="",b=c("rgba(0,0,0,0.87)"),y=c("rgba(255,255,255,0.87)"),E=c("rgb(255,255,255)"),_=["primary","accent","warn","background"],w="primary",C={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{"default":"A100","hue-1":"300","hue-2":"800","hue-3":"900"}},$={background:{"default":"800","hue-1":"600","hue-2":"300","hue-3":"900"}};_.forEach(function(e){var t={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};C[e]||(C[e]=t),$[e]||($[e]=t)});var A=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"],S=!1,T=null;e.$inject=["$mdColorPalette"],r.$inject=["$mdTheming","$interpolate","$log"],o.$inject=["$mdTheming"];var k={};a.$inject=["$injector"]}(),function(){function e(e,n,r,o,i){var a;return a={translate3d:function(e,t,n,r){function o(n){return i(e,{to:n||t,addClass:r.transitionOutClass,removeClass:r.transitionInClass}).start()}return i(e,{from:t,to:n,addClass:r.transitionInClass}).start().then(function(){return o})},waitTransitionEnd:function(e,t){var i=3e3;return n(function(n){function a(t){t&&t.target!==e[0]||(t&&r.cancel(s),e.off(o.CSS.TRANSITIONEND,a),n())}t=t||{};var s=r(a,t.timeout||i);e.on(o.CSS.TRANSITIONEND,a)})},calculateZoomToOrigin:function(n,r){function o(){var e=n?n.parent():null,t=e?e.parent():null;return t?a.clientRect(t):null}var i=r.element,s=r.bounds,l="translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )",c=t.bind(null,e.supplant,l),u=c({centerX:0,centerY:0,scaleX:.5,scaleY:.5});if(i||s){var d=i?a.clientRect(i)||o():a.copyRect(s),f=a.copyRect(n[0].getBoundingClientRect()),p=a.centerPointFor(f),h=a.centerPointFor(d);u=c({centerX:h.x-p.x,centerY:h.y-p.y,scaleX:Math.round(100*Math.min(.5,d.width/f.width))/100,scaleY:Math.round(100*Math.min(.5,d.height/f.height))/100})}return u},toCss:function(e){function n(e,n,o){t.forEach(n.split(" "),function(e){r[e]=o})}var r={},i="left top right bottom width height x y min-width min-height max-width max-height";return t.forEach(e,function(e,a){if(!t.isUndefined(e))if(i.indexOf(a)>=0)r[a]=e+"px";else switch(a){case"transition":n(a,o.CSS.TRANSITION,e);break;case"transform":n(a,o.CSS.TRANSFORM,e);break;case"transformOrigin":n(a,o.CSS.TRANSFORM_ORIGIN,e)}}),r},toTransformCss:function(e,n,r){var i={};return t.forEach(o.CSS.TRANSFORM.split(" "),function(t){i[t]=e}),n&&(r=r||"all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important",i.transition=r),i},copyRect:function(e,n){return e?(n=n||{},t.forEach("left top right bottom width height".split(" "),function(t){n[t]=Math.round(e[t])}),n.width=n.width||n.right-n.left,n.height=n.height||n.bottom-n.top,n):null},clientRect:function(e){var n=t.element(e)[0].getBoundingClientRect(),r=function(e){return e&&e.width>0&&e.height>0};return r(n)?a.copyRect(n):null},centerPointFor:function(e){return e?{x:Math.round(e.left+e.width/2),y:Math.round(e.top+e.height/2)}:{x:0,y:0}}}}t.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",function(t,n,r,o){return function(i){return e(i,t,n,r,o)}}])}(),function(){t.version.minor>=4?t.module("material.core.animate",[]):!function(){function e(e){return e.replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()
})}var n=t.forEach,r=t.isDefined(document.documentElement.style.WebkitAppearance),o=r?"-webkit-":"",i=(r?"webkitTransitionEnd ":"")+"transitionend",a=(r?"webkitAnimationEnd ":"")+"animationend",s=["$document",function(e){return function(){return e[0].body.clientWidth+1}}],l=["$$rAF",function(e){return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}],c=["$q","$$rAFMutex",function(e,r){function o(e){this.setHost(e),this._doneCallbacks=[],this._runInAnimationFrame=r(),this._state=0}var i=0,a=1,s=2;return o.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===s?e():this._doneCallbacks.push(e)},progress:t.noop,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===i&&(t._state=a,t._runInAnimationFrame(function(){t._resolve(e)}))},_resolve:function(e){this._state!==s&&(n(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=s)}},o}];t.module("material.core.animate",[]).factory("$$forceReflow",s).factory("$$AnimateRunner",c).factory("$$rAFMutex",l).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout",function(t,s,l,c,u,d){function f(r,s){var c=[],u=E(r);s.transitionStyle&&c.push([o+"transition",s.transitionStyle]),s.keyframeStyle&&c.push([o+"animation",s.keyframeStyle]),s.delay&&c.push([o+"transition-delay",s.delay+"s"]),s.duration&&c.push([o+"transition-duration",s.duration+"s"]);var f=s.keyframeStyle||s.to&&(s.duration>0||s.transitionStyle),g=!!s.addClass||!!s.removeClass,w=f||g;_(r,!0),b(r,s);var C,$,A=!1;return{close:t.close,start:function(){function t(){return A?void 0:(A=!0,C&&$&&r.off(C,$),p(r,s),v(r,s),n(c,function(t){u.style[e(t[0])]=""}),f.complete(!0),f)}var f=new l;return m(function(){if(_(r,!1),!w)return t();n(c,function(t){var n=t[0],r=t[1];u.style[e(n)]=r}),p(r,s);var l=h(r);if(0===l.duration)return t();var f=[];s.easing&&(l.transitionDuration&&f.push([o+"transition-timing-function",s.easing]),l.animationDuration&&f.push([o+"animation-timing-function",s.easing])),s.delay&&l.animationDelay&&f.push([o+"animation-delay",s.delay+"s"]),s.duration&&l.animationDuration&&f.push([o+"animation-duration",s.duration+"s"]),n(f,function(t){var n=t[0],r=t[1];u.style[e(n)]=r,c.push(t)});var g=l.delay,m=1e3*g,v=l.duration,b=1e3*v,E=Date.now();C=[],l.transitionDuration&&C.push(i),l.animationDuration&&C.push(a),C=C.join(" "),$=function(e){e.stopPropagation();var n=e.originalEvent||e,r=n.timeStamp||Date.now(),o=parseFloat(n.elapsedTime.toFixed(3));Math.max(r-E,0)>=m&&o>=v&&t()},r.on(C,$),y(r,s),d(t,m+1.5*b,!1)}),f}}}function p(e,t){t.addClass&&(u.addClass(e,t.addClass),t.addClass=null),t.removeClass&&(u.removeClass(e,t.removeClass),t.removeClass=null)}function h(e){function n(e){return r?"Webkit"+e.charAt(0).toUpperCase()+e.substr(1):e}var o=E(e),i=t.getComputedStyle(o),a=g(i[n("transitionDuration")]),s=g(i[n("animationDuration")]),l=g(i[n("transitionDelay")]),c=g(i[n("animationDelay")]);s*=parseInt(i[n("animationIterationCount")],10)||1;var u=Math.max(s,a),d=Math.max(c,l);return{duration:u,delay:d,animationDuration:s,transitionDuration:a,animationDelay:c,transitionDelay:l}}function g(e){var t=0,r=(e||"").split(/\s*,\s*/);return n(r,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function m(e){w&&w(),C.push(e),w=s(function(){w=null;for(var e=c(),t=0;t<C.length;t++)C[t](e);C.length=0})}function v(e,t){b(e,t),y(e,t)}function b(e,t){t.from&&(e.css(t.from),t.from=null)}function y(e,t){t.to&&(e.css(t.to),t.to=null)}function E(e){for(var t=0;t<e.length;t++)if(1===e[t].nodeType)return e[t]}function _(t,n){var r=E(t),i=e(o+"transition-delay");r.style[i]=n?"-9999s":""}var w,C=[];return f}])}()}(),function(){t.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"])}(),function(){t.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$animate","$rootElement","$window","$log","$$rAF","$document",function(e,t,n,r,o,i,a){function s(s,c){var u=r.getComputedStyle(a[0].body);if("fixed"==u.position){var d=parseInt(u.height,10)+Math.abs(parseInt(u.top,10));c.css({height:d+"px"})}t.pin&&t.pin(c,n),i(function(){var t=c.parent()[0];if(t){"BODY"==t.nodeName&&c.css({position:"fixed"});var n=r.getComputedStyle(t);"static"==n.position&&o.warn(l)}e.inherit(c,c.parent())})}var l="<md-backdrop> may not work properly in a scrolled, static-positioned parent container.";return{restrict:"E",link:s}}])}(),function(){function e(e){return{restrict:"E",link:function(t){t.$on("$destroy",function(){e.destroy()})}}}function n(e){function n(e,n,i,a,s,l,c){function u(r,o,c){o=i.extractElementByName(o,"md-bottom-sheet"),p=i.createBackdrop(r,"md-bottom-sheet-backdrop md-opaque"),c.clickOutsideToClose&&p.on("click",function(){i.nextTick(s.cancel,!0)}),a.inherit(p,c.parent),e.enter(p,c.parent,null);var u=new f(o,c.parent);return c.bottomSheet=u,a.inherit(u.element,c.parent),c.disableParentScroll&&(c.restoreScroll=i.disableScrollAround(u.element,c.parent)),e.enter(u.element,c.parent).then(function(){var e=i.findFocusTarget(o)||t.element(o[0].querySelector("button")||o[0].querySelector("a")||o[0].querySelector("[ng-click]"));e.focus(),c.escapeToClose&&(c.rootElementKeyupCallback=function(e){e.keyCode===n.KEY_CODE.ESCAPE&&i.nextTick(s.cancel,!0)},l.on("keyup",c.rootElementKeyupCallback))})}function d(t,n,r){var o=r.bottomSheet;return e.leave(p),e.leave(o.element).then(function(){r.disableParentScroll&&(r.restoreScroll(),delete r.restoreScroll),o.cleanup()})}function f(e,t){function a(){e.css(n.CSS.TRANSITION_DURATION,"0ms")}function l(t){var r=t.pointer.distanceY;5>r&&(r=Math.max(-o,r/2)),e.css(n.CSS.TRANSFORM,"translate3d(0,"+(o+r)+"px,0)")}function u(t){if(t.pointer.distanceY>0&&(t.pointer.distanceY>20||Math.abs(t.pointer.velocityY)>r)){var o=e.prop("offsetHeight")-t.pointer.distanceY,a=Math.min(o/t.pointer.velocityY*.75,500);e.css(n.CSS.TRANSITION_DURATION,a+"ms"),i.nextTick(s.cancel,!0)}else e.css(n.CSS.TRANSITION_DURATION,""),e.css(n.CSS.TRANSFORM,"")}var d=c.register(t,"drag",{horizontal:!1});return t.on("$md.dragstart",a).on("$md.drag",l).on("$md.dragend",u),{element:e,cleanup:function(){d(),t.off("$md.dragstart",a),t.off("$md.drag",l),t.off("$md.dragend",u)}}}var p;return{themable:!0,onShow:u,onRemove:d,escapeToClose:!0,clickOutsideToClose:!0,disableParentScroll:!0}}var r=.5,o=80;return n.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture"],e("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:n})}t.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",e).provider("$mdBottomSheet",n),e.$inject=["$mdBottomSheet"],n.$inject=["$$interimElementProvider"]}(),function(){function e(e,n,r,o){function i(e){return t.isDefined(e.href)||t.isDefined(e.ngHref)||t.isDefined(e.ngLink)||t.isDefined(e.uiSref)}function a(e,t){if(i(t))return'<a class="md-button" ng-transclude></a>';var n="undefined"==typeof t.type?"button":t.type;return'<button class="md-button" type="'+n+'" ng-transclude></button>'}function s(a,s,l){n(s),e.attach(a,s),r.expectWithText(s,"aria-label"),i(l)&&t.isDefined(l.ngDisabled)&&a.$watch(l.ngDisabled,function(e){s.attr("tabindex",e?-1:0)}),s.on("click",function(e){l.disabled===!0&&(e.preventDefault(),e.stopImmediatePropagation())}),a.mouseActive=!1,s.on("mousedown",function(){a.mouseActive=!0,o(function(){a.mouseActive=!1},100)}).on("focus",function(){a.mouseActive===!1&&s.addClass("md-focused")}).on("blur",function(){s.removeClass("md-focused")})}return{restrict:"EA",replace:!0,transclude:!0,template:a,link:s}}t.module("material.components.button",["material.core"]).directive("mdButton",e),e.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$timeout"]}(),function(){function e(e){return{restrict:"E",link:function(t,n){e(n)}}}t.module("material.components.card",["material.core"]).directive("mdCard",e),e.$inject=["$mdTheming"]}(),function(){function e(e,n,r,o,i,a){function s(s,c){return c.type="checkbox",c.tabindex=c.tabindex||"0",s.attr("role",c.type),s.on("click",function(e){this.hasAttribute("disabled")&&e.stopImmediatePropagation()}),function(s,c,u,d){function f(e,t,n){u[e]&&s.$watch(u[e],function(e){n[e]&&c.attr(t,n[e])})}function p(e){var t=e.which||e.keyCode;(t===r.KEY_CODE.SPACE||t===r.KEY_CODE.ENTER)&&(e.preventDefault(),c.hasClass("md-focused")||c.addClass("md-focused"),h(e))}function h(e){c[0].hasAttribute("disabled")||s.$apply(function(){var t=u.ngChecked?u.checked:!d.$viewValue;d.$setViewValue(t,e&&e.type),d.$render()})}function g(){d.$viewValue?c.addClass(l):c.removeClass(l)}d=d||i.fakeNgModel(),o(c),u.ngChecked&&s.$watch(s.$eval.bind(s,u.ngChecked),d.$setViewValue.bind(d)),f("ngDisabled","tabindex",{"true":"-1","false":u.tabindex}),n.expectWithText(c,"aria-label"),e.link.pre(s,{on:t.noop,0:{}},u,[d]),s.mouseActive=!1,c.on("click",h).on("keypress",p).on("mousedown",function(){s.mouseActive=!0,a(function(){s.mouseActive=!1},100)}).on("focus",function(){s.mouseActive===!1&&c.addClass("md-focused")}).on("blur",function(){c.removeClass("md-focused")}),d.$render=g}}e=e[0];var l="md-checked";return{restrict:"E",transclude:!0,require:"?ngModel",priority:210,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:s}}t.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",e),e.$inject=["inputDirective","$mdAria","$mdConstant","$mdTheming","$mdUtil","$timeout"]}(),function(){t.module("material.components.chips",["material.core","material.components.autocomplete"])}(),function(){function e(e){function t(e,t){this.$scope=e,this.$element=t}return{restrict:"E",controller:["$scope","$element",t],link:function(t,r){r[0];e(r),t.$broadcast("$mdContentLoaded",r),n(r[0])}}}function n(e){t.element(e).on("$md.pressdown",function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===e.scrollTop?e.scrollTop=1:e.scrollHeight===e.scrollTop+e.offsetHeight&&(e.scrollTop-=1)))})}t.module("material.components.content",["material.core"]).directive("mdContent",e),e.$inject=["$mdTheming"]}(),function(){!function(){function e(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(o-r)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody role="rowgroup" md-virtual-repeat="i in ctrl.items" md-calendar-month md-month-offset="$index" class="md-calendar-month" md-start-index="ctrl.getSelectedMonthIndex()" md-item-size="'+r+'"></tbody></table></md-virtual-repeat-container></div>',scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter"},require:["ngModel","mdCalendar"],controller:n,controllerAs:"ctrl",bindToController:!0,link:function(e,t,n,r){var o=r[0],i=r[1];i.configureNgModel(o)}}}function n(e,t,n,r,o,i,a,l,c,u,d){if(a(e),this.items={length:2e3},this.maxDate&&this.minDate){var f=l.getMonthDistance(this.minDate,this.maxDate)+1;f=Math.max(f,1),f+=1,this.items.length=f}if(this.$animate=r,this.$q=o,this.$mdInkRipple=u,this.$mdUtil=d,this.keyCode=i.KEY_CODE,this.dateUtil=l,this.dateLocale=c,this.$element=e,this.$scope=n,this.calendarElement=e[0].querySelector(".md-calendar"),this.calendarScroller=e[0].querySelector(".md-virtual-repeat-scroller"),this.today=this.dateUtil.createDateAtMidnight(),this.firstRenderableDate=this.dateUtil.incrementMonths(this.today,-this.items.length/2),this.minDate&&this.minDate>this.firstRenderableDate)this.firstRenderableDate=this.minDate;else if(this.maxDate){{this.items.length-2}this.firstRenderableDate=this.dateUtil.incrementMonths(this.maxDate,-(this.items.length-2))}this.id=s++,this.ngModelCtrl=null,this.selectedDate=null,this.displayDate=null,this.focusDate=null,this.isInitialized=!1,this.isMonthTransitionInProgress=!1,t.tabindex||e.attr("tabindex","-1");var p=this;this.cellClickHandler=function(){var e=this;this.hasAttribute("data-timestamp")&&n.$apply(function(){var t=Number(e.getAttribute("data-timestamp"));p.setNgModelValue(p.dateUtil.createDateAtMidnight(t))})},this.attachCalendarEventListeners()}t.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"]).directive("mdCalendar",e);var r=265,o=45,i="md-calendar-selected-date",a="md-focus",s=0;n.$inject=["$element","$attrs","$scope","$animate","$q","$mdConstant","$mdTheming","$$mdDateUtil","$mdDateLocale","$mdInkRipple","$mdUtil"],n.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.changeSelectedDate(t.ngModelCtrl.$viewValue)}},n.prototype.buildInitialCalendarDisplay=function(){this.buildWeekHeader(),this.hideVerticalScrollbar(),this.displayDate=this.selectedDate||this.today,this.isInitialized=!0},n.prototype.hideVerticalScrollbar=function(){var e=this.$element[0],t=e.querySelector(".md-calendar-scroll-mask"),n=this.calendarScroller,r=e.querySelector(".md-calendar-day-header").clientWidth,o=n.offsetWidth-n.clientWidth;t.style.width=r+"px",n.style.width=r+o+"px",n.style.paddingRight=o+"px"},n.prototype.attachCalendarEventListeners=function(){this.$element.on("keydown",t.bind(this,this.handleKeyEvent))},n.prototype.handleKeyEvent=function(e){var t=this;this.$scope.$apply(function(){if(e.which==t.keyCode.ESCAPE||e.which==t.keyCode.TAB)return t.$scope.$emit("md-calendar-close"),void(e.which==t.keyCode.TAB&&e.preventDefault());if(e.which===t.keyCode.ENTER)return t.setNgModelValue(t.displayDate),void e.preventDefault();var n=t.getFocusDateFromKeyEvent(e);n&&(n=t.boundDateByMinAndMax(n),e.preventDefault(),e.stopPropagation(),t.changeDisplayDate(n).then(function(){t.focus(n)}))})},n.prototype.getFocusDateFromKeyEvent=function(e){var t=this.dateUtil,n=this.keyCode;switch(e.which){case n.RIGHT_ARROW:return t.incrementDays(this.displayDate,1);case n.LEFT_ARROW:return t.incrementDays(this.displayDate,-1);case n.DOWN_ARROW:return e.metaKey?t.incrementMonths(this.displayDate,1):t.incrementDays(this.displayDate,7);case n.UP_ARROW:return e.metaKey?t.incrementMonths(this.displayDate,-1):t.incrementDays(this.displayDate,-7);case n.PAGE_DOWN:return t.incrementMonths(this.displayDate,1);case n.PAGE_UP:return t.incrementMonths(this.displayDate,-1);case n.HOME:return t.getFirstDateOfMonth(this.displayDate);case n.END:return t.getLastDateOfMonth(this.displayDate);default:return null}},n.prototype.getSelectedMonthIndex=function(){return this.dateUtil.getMonthDistance(this.firstRenderableDate,this.selectedDate||this.today)},n.prototype.scrollToMonth=function(e){if(this.dateUtil.isValidDate(e)){var t=this.dateUtil.getMonthDistance(this.firstRenderableDate,e);this.calendarScroller.scrollTop=t*r}},n.prototype.setNgModelValue=function(e){this.$scope.$emit("md-calendar-change",e),this.ngModelCtrl.$setViewValue(e),this.ngModelCtrl.$render()},n.prototype.focus=function(e){var t=e||this.selectedDate||this.today,n=this.calendarElement.querySelector(".md-focus");n&&n.classList.remove(a);var r=this.getDateId(t),o=document.getElementById(r);o?(o.classList.add(a),o.focus()):this.focusDate=t},n.prototype.boundDateByMinAndMax=function(e){var t=e;return this.minDate&&e<this.minDate&&(t=new Date(this.minDate.getTime())),this.maxDate&&e>this.maxDate&&(t=new Date(this.maxDate.getTime())),t},n.prototype.changeSelectedDate=function(e){var t=this,n=this.selectedDate;this.selectedDate=e,this.changeDisplayDate(e).then(function(){if(n){var r=document.getElementById(t.getDateId(n));r&&(r.classList.remove(i),r.setAttribute("aria-selected","false"))}if(e){var o=document.getElementById(t.getDateId(e));o&&(o.classList.add(i),o.setAttribute("aria-selected","true"))}})},n.prototype.changeDisplayDate=function(e){if(!this.isInitialized)return this.buildInitialCalendarDisplay(),this.$q.when();if(!this.dateUtil.isValidDate(e)||this.isMonthTransitionInProgress)return this.$q.when();this.isMonthTransitionInProgress=!0;var t=this.animateDateChange(e);this.displayDate=e;var n=this;return t.then(function(){n.isMonthTransitionInProgress=!1}),t},n.prototype.animateDateChange=function(e){return this.scrollToMonth(e),this.$q.when()},n.prototype.buildWeekHeader=function(){for(var e=this.dateLocale.firstDayOfWeek,t=this.dateLocale.shortDays,n=document.createElement("tr"),r=0;7>r;r++){var o=document.createElement("th");o.textContent=t[(r+e)%7],n.appendChild(o)}this.$element.find("thead").append(n)},n.prototype.getDateId=function(e){return["md",this.id,e.getFullYear(),e.getMonth(),e.getDate()].join("-")}}()}(),function(){!function(){function e(){return{require:["^^mdCalendar","mdCalendarMonth"],scope:{offset:"=mdMonthOffset"},controller:n,controllerAs:"mdMonthCtrl",bindToController:!0,link:function(e,t,n,r){var o=r[0],i=r[1];i.calendarCtrl=o,i.generateContent(),e.$watch(function(){return i.offset},function(e,t){e!=t&&i.generateContent()})}}}function n(e,t,n){this.dateUtil=t,this.dateLocale=n,this.$element=e,this.calendarCtrl=null,this.offset,this.focusAfterAppend=null}t.module("material.components.datepicker").directive("mdCalendarMonth",e);var r="md-calendar-date-today",o="md-calendar-selected-date",i="md-focus";n.$inject=["$element","$$mdDateUtil","$mdDateLocale"],n.prototype.generateContent=function(){var e=this.calendarCtrl,t=this.dateUtil.incrementMonths(e.firstRenderableDate,this.offset);this.$element.empty(),this.$element.append(this.buildCalendarForMonth(t)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(i),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},n.prototype.buildDateCell=function(e){var t=this.calendarCtrl,n=document.createElement("td");if(n.tabIndex=-1,n.classList.add("md-calendar-date"),n.setAttribute("role","gridcell"),e){n.setAttribute("tabindex","-1"),n.setAttribute("aria-label",this.dateLocale.longDateFormatter(e)),n.id=t.getDateId(e),n.setAttribute("data-timestamp",e.getTime()),this.dateUtil.isSameDay(e,t.today)&&n.classList.add(r),this.dateUtil.isValidDate(t.selectedDate)&&this.dateUtil.isSameDay(e,t.selectedDate)&&(n.classList.add(o),n.setAttribute("aria-selected","true"));var i=this.dateLocale.dates[e.getDate()];if(this.isDateEnabled(e)){var a=document.createElement("span");n.appendChild(a),a.classList.add("md-calendar-date-selection-indicator"),a.textContent=i,n.addEventListener("click",t.cellClickHandler),t.focusDate&&this.dateUtil.isSameDay(e,t.focusDate)&&(this.focusAfterAppend=n)}else n.classList.add("md-calendar-date-disabled"),n.textContent=i}return n},n.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!t.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(e))},n.prototype.buildDateRow=function(e){var t=document.createElement("tr");return t.setAttribute("role","row"),t.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(e)),t},n.prototype.buildCalendarForMonth=function(e){var t=this.dateUtil.isValidDate(e)?e:new Date,n=this.dateUtil.getFirstDateOfMonth(t),r=this.getLocaleDay_(n),o=this.dateUtil.getNumberOfDaysInMonth(t),i=document.createDocumentFragment(),a=1,s=this.buildDateRow(a);i.appendChild(s);var l=this.offset===this.calendarCtrl.items.length-1,c=0,u=document.createElement("td");if(u.classList.add("md-calendar-month-label"),this.calendarCtrl.maxDate&&n>this.calendarCtrl.maxDate&&u.classList.add("md-calendar-month-label-disabled"),u.textContent=this.dateLocale.monthHeaderFormatter(t),2>=r){u.setAttribute("colspan","7");var d=this.buildDateRow();if(d.appendChild(u),i.insertBefore(d,s),l)return i}else c=2,u.setAttribute("colspan","2"),s.appendChild(u);for(var f=c;r>f;f++)s.appendChild(this.buildDateCell());for(var p=r,h=n,g=1;o>=g;g++){if(7===p){if(l)return i;p=0,a++,s=this.buildDateRow(a),i.appendChild(s)}h.setDate(g);var m=this.buildDateCell(h);s.appendChild(m),p++}for(;s.childNodes.length<7;)s.appendChild(this.buildDateCell());for(;i.childNodes.length<6;){for(var v=this.buildDateRow(),f=0;7>f;f++)v.appendChild(this.buildDateCell());i.appendChild(v)}return i},n.prototype.getLocaleDay_=function(e){return(e.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}}()}(),function(){!function(){t.module("material.components.datepicker").config(["$provide",function(e){function t(){this.months=null,this.shortMonths=null,this.days=null,this.shortDays=null,this.dates=null,this.firstDayOfWeek=0,this.formatDate=null,this.parseDate=null,this.monthHeaderFormatter=null,this.weekNumberFormatter=null,this.longDateFormatter=null,this.msgCalendar="",this.msgOpenCalendar=""}t.prototype.$get=function(e){function t(e){if(!e)return"";var t=e.toLocaleTimeString(),n=e;return 0!=e.getHours()||-1===t.indexOf("11:")&&-1===t.indexOf("23:")||(n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),1,0,0)),n.toLocaleDateString()}function n(e){return new Date(e)}function r(e){e=e.trim();var t=/^(([a-zA-Z]{3,}|[0-9]{1,4})([ \.,]+|[\/\-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/;return t.test(e)}function o(e){return f.shortMonths[e.getMonth()]+" "+e.getFullYear()}function i(e){return"Week "+e}function a(e){return[f.days[e.getDay()],f.months[e.getMonth()],f.dates[e.getDate()],e.getFullYear()].join(" ")}for(var s=e.DATETIME_FORMATS.DAY.map(function(e){return e[0]}),l=Array(32),c=1;31>=c;c++)l[c]=c;var u="Calendar",d="Open calendar",f={months:this.months||e.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||e.DATETIME_FORMATS.SHORTMONTH,days:this.days||e.DATETIME_FORMATS.DAY,shortDays:this.shortDays||s,dates:this.dates||l,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||t,parseDate:this.parseDate||n,isDateComplete:this.isDateComplete||r,monthHeaderFormatter:this.monthHeaderFormatter||o,weekNumberFormatter:this.weekNumberFormatter||i,longDateFormatter:this.longDateFormatter||a,msgCalendar:this.msgCalendar||u,msgOpenCalendar:this.msgOpenCalendar||d};return f},t.prototype.$get.$inject=["$locale"],e.provider("$mdDateLocale",new t)}])}()}(),function(){!function(){function n(){return{template:'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" md-svg-icon="md-calendar"></md-icon></md-button><div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input class="md-datepicker-input" aria-haspopup="true" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"><md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.dateLocale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button></div><div class="md-datepicker-calendar-pane md-whiteframe-z1"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.dateLocale.msgCalendar}}" md-min-date="ctrl.minDate" md-max-date="ctrl.maxDate"md-date-filter="ctrl.dateFilter"ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>',require:["ngModel","mdDatepicker","?^mdInputContainer"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",dateFilter:"=mdDateFilter"},controller:r,controllerAs:"ctrl",bindToController:!0,link:function(e,t,n,r){var o=r[0],i=r[1],a=r[2];if(a)throw Error("md-datepicker should not be placed inside md-input-container.");i.configureNgModel(o)}}}function r(e,n,r,o,i,a,s,l,c,u,d,f){this.$compile=o,this.$timeout=i,this.$window=a,this.dateLocale=u,this.dateUtil=d,this.$mdConstant=s,this.$mdUtil=c,this.$$rAF=f,this.documentElement=t.element(document.documentElement),this.ngModelCtrl=null,this.inputElement=n[0].querySelector("input"),this.ngInputElement=t.element(this.inputElement),this.inputContainer=n[0].querySelector(".md-datepicker-input-container"),this.calendarPane=n[0].querySelector(".md-datepicker-calendar-pane"),this.calendarButton=n[0].querySelector(".md-datepicker-button"),this.inputMask=n[0].querySelector(".md-datepicker-input-mask-opaque"),this.$element=n,this.$attrs=r,this.$scope=e,this.date=null,this.isFocused=!1,this.isDisabled,this.setDisabled(n[0].disabled||t.isString(r.disabled)),this.isCalendarOpen=!1,this.calendarPaneOpenedFrom=null,this.calendarPane.id="md-date-pane"+c.nextUid(),l(n),this.bodyClickHandler=t.bind(this,this.handleBodyClick),this.windowResizeHandler=c.debounce(t.bind(this,this.closeCalendarPane),100),r.tabindex||n.attr("tabindex","-1"),this.installPropertyInterceptors(),this.attachChangeListeners(),this.attachInteractionListeners();var p=this;e.$on("$destroy",function(){p.detachCalendarPane()})}t.module("material.components.datepicker").directive("mdDatepicker",n);var o=3,i="md-datepicker-invalid",a=500,s=368,l=360;r.$inject=["$scope","$element","$attrs","$compile","$timeout","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF"],r.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){var e=t.ngModelCtrl.$viewValue;if(e&&!(e instanceof Date))throw Error("The ng-model for md-datepicker must be a Date instance. Currently the model is a: "+typeof e);t.date=e,t.inputElement.value=t.dateLocale.formatDate(e),t.resizeInputElement(),t.updateErrorState()}},r.prototype.attachChangeListeners=function(){var e=this;e.$scope.$on("md-calendar-change",function(t,n){e.ngModelCtrl.$setViewValue(n),e.date=n,e.inputElement.value=e.dateLocale.formatDate(n),e.closeCalendarPane(),e.resizeInputElement(),e.updateErrorState()}),e.ngInputElement.on("input",t.bind(e,e.resizeInputElement)),e.ngInputElement.on("input",e.$mdUtil.debounce(e.handleInputEvent,a,e))},r.prototype.attachInteractionListeners=function(){var e=this,t=this.$scope,n=this.$mdConstant.KEY_CODE;e.ngInputElement.on("keydown",function(r){r.altKey&&r.keyCode==n.DOWN_ARROW&&(e.openCalendarPane(r),t.$digest())}),t.$on("md-calendar-close",function(){e.closeCalendarPane()})},r.prototype.installPropertyInterceptors=function(){var e=this;if(this.$attrs.ngDisabled){var t=this.$scope.$parent;t&&t.$watch(this.$attrs.ngDisabled,function(t){e.setDisabled(t)})}Object.defineProperty(this,"placeholder",{get:function(){return e.inputElement.placeholder},set:function(t){e.inputElement.placeholder=t||""}})},r.prototype.setDisabled=function(e){this.isDisabled=e,this.inputElement.disabled=e,this.calendarButton.disabled=e},r.prototype.updateErrorState=function(e){var n=e||this.date;if(this.clearErrorState(),this.dateUtil.isValidDate(n)){if(n=this.dateUtil.createDateAtMidnight(n),this.dateUtil.isValidDate(this.minDate)){var r=this.dateUtil.createDateAtMidnight(this.minDate);this.ngModelCtrl.$setValidity("mindate",n>=r)}if(this.dateUtil.isValidDate(this.maxDate)){var o=this.dateUtil.createDateAtMidnight(this.maxDate);this.ngModelCtrl.$setValidity("maxdate",o>=n)}t.isFunction(this.dateFilter)&&this.ngModelCtrl.$setValidity("filtered",this.dateFilter(n))}else this.ngModelCtrl.$setValidity("valid",null==n);this.ngModelCtrl.$valid||this.inputContainer.classList.add(i)},r.prototype.clearErrorState=function(){this.inputContainer.classList.remove(i),["mindate","maxdate","filtered","valid"].forEach(function(e){this.ngModelCtrl.$setValidity(e,!0)},this)},r.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+o},r.prototype.handleInputEvent=function(){var e=this.inputElement.value,t=e?this.dateLocale.parseDate(e):null;this.dateUtil.setDateTimeToMidnight(t);var n=""==e||this.dateUtil.isValidDate(t)&&this.dateLocale.isDateComplete(e)&&this.isDateEnabled(t);n&&(this.ngModelCtrl.$setViewValue(t),this.date=t),this.updateErrorState(t)},r.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.minDate,this.maxDate)&&(!t.isFunction(this.dateFilter)||this.dateFilter(e))},r.prototype.attachCalendarPane=function(){var e=this.calendarPane;e.style.transform="",this.$element.addClass("md-datepicker-open");var t=this.inputContainer.getBoundingClientRect(),n=document.body.getBoundingClientRect(),r=t.top-n.top,o=t.left-n.left,i=n.top<0&&0==document.body.scrollTop?-n.top:document.body.scrollTop,a=n.left<0&&0==document.body.scrollLeft?-n.left:document.body.scrollLeft,c=i+this.$window.innerHeight,u=a+this.$window.innerWidth;if(o+l>u){if(u-l>0)o=u-l;else{o=a;var d=this.$window.innerWidth/l;e.style.transform="scale("+d+")"}e.classList.add("md-datepicker-pos-adjusted")}r+s>c&&c-s>i&&(r=c-s,e.classList.add("md-datepicker-pos-adjusted")),e.style.left=o+"px",e.style.top=r+"px",document.body.appendChild(e),this.inputMask.style.left=t.width+"px",this.$$rAF(function(){e.classList.add("md-pane-open")})},r.prototype.detachCalendarPane=function(){this.$element.removeClass("md-datepicker-open"),this.calendarPane.classList.remove("md-pane-open"),this.calendarPane.classList.remove("md-datepicker-pos-adjusted"),this.calendarPane.parentNode&&this.calendarPane.parentNode.removeChild(this.calendarPane)},r.prototype.openCalendarPane=function(t){if(!this.isCalendarOpen&&!this.isDisabled){this.isCalendarOpen=!0,this.calendarPaneOpenedFrom=t.target,this.$mdUtil.disableScrollAround(this.calendarPane),this.attachCalendarPane(),this.focusCalendar();var n=this;this.$mdUtil.nextTick(function(){n.documentElement.on("click touchstart",n.bodyClickHandler)},!1),e.addEventListener("resize",this.windowResizeHandler)}},r.prototype.closeCalendarPane=function(){this.isCalendarOpen&&(this.isCalendarOpen=!1,this.detachCalendarPane(),this.calendarPaneOpenedFrom.focus(),this.calendarPaneOpenedFrom=null,this.$mdUtil.enableScrolling(),this.ngModelCtrl.$setTouched(),this.documentElement.off("click touchstart",this.bodyClickHandler),e.removeEventListener("resize",this.windowResizeHandler))},r.prototype.getCalendarCtrl=function(){return t.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")},r.prototype.focusCalendar=function(){var e=this;this.$mdUtil.nextTick(function(){e.getCalendarCtrl().focus()},!1)},r.prototype.setFocused=function(e){e||this.ngModelCtrl.$setTouched(),this.isFocused=e},r.prototype.handleBodyClick=function(e){if(this.isCalendarOpen){var t=this.$mdUtil.getClosest(e.target,"md-calendar");t||this.closeCalendarPane(),this.$scope.$digest()}}}()}(),function(){!function(){t.module("material.components.datepicker").factory("$$mdDateUtil",function(){function e(e){return new Date(e.getFullYear(),e.getMonth(),1)}function n(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function r(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function o(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function i(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function a(e,t){return e.getDate()==t.getDate()&&i(e,t)}function s(e,t){var n=r(e);return i(n,t)}function l(e,t){var n=o(e);return i(t,n)}function c(e,t){return v((e.getTime()+t.getTime())/2)}function u(t){var n=e(t);return Math.floor((n.getDay()+t.getDate()-1)/7)}function d(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)}function f(e,t){var r=new Date(e.getFullYear(),e.getMonth()+t,1),o=n(r);return r.setDate(o<e.getDate()?o:e.getDate()),r}function p(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())
}function h(e){return new Date(e.getFullYear(),e.getMonth(),n(e))}function g(e){return null!=e&&e.getTime&&!isNaN(e.getTime())}function m(e){g(e)&&e.setHours(0,0,0,0)}function v(e){var n;return n=t.isUndefined(e)?new Date:new Date(e),m(n),n}function b(e,t,n){var r=v(e),o=g(t)?v(t):null,i=g(n)?v(n):null;return(!o||r>=o)&&(!i||i>=r)}return{getFirstDateOfMonth:e,getNumberOfDaysInMonth:n,getDateInNextMonth:r,getDateInPreviousMonth:o,isInNextMonth:s,isInPreviousMonth:l,getDateMidpoint:c,isSameMonthAndYear:i,getWeekOfMonth:u,incrementDays:d,incrementMonths:f,getLastDateOfMonth:h,isSameDay:a,getMonthDistance:p,isValidDate:g,setDateTimeToMidnight:m,createDateAtMidnight:v,isDateWithinRange:b}})}()}(),function(){function e(e,n,r){return{restrict:"E",link:function(o,i){n(i),e(function(){function e(){i.toggleClass("md-content-overflow",a.scrollHeight>a.clientHeight)}var n,a=i[0].querySelector("md-dialog-content");a&&(n=a.getElementsByTagName("img"),e(),t.element(n).on("load",e)),o.$on("$destroy",function(){r.destroy(i)})})}}}function r(e){function r(e,t){return{template:['<md-dialog md-theme="{{ dialog.theme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">','  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">','    <h2 class="md-title">{{ dialog.title }}</h2>','    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body" ','        ng-bind-html="::dialog.mdHtmlContent"></div>','    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">',"      <p>{{::dialog.mdTextContent}}</p>","    </div>","  </md-dialog-content>","  <md-dialog-actions>",'    <md-button ng-if="dialog.$type == \'confirm\'"               ng-click="dialog.abort()" class="md-primary">',"      {{ dialog.cancel }}","    </md-button>",'    <md-button ng-click="dialog.hide()" class="md-primary" md-autofocus="dialog.$type!=\'confirm\'">',"      {{ dialog.ok }}","    </md-button>","  </md-dialog-actions>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:function(){this.hide=function(){e.hide(!0)},this.abort=function(){e.cancel()}},controllerAs:"dialog",bindToController:!0,theme:t.defaultTheme()}}function o(e,r,o,s,l,c,u,d,f,p){function h(e,t,n,r){if(r){if(r.mdHtmlContent=r.htmlContent||n.htmlContent||"",r.mdTextContent=r.textContent||n.textContent||r.content||n.content||"",r.mdHtmlContent&&!p.has("$sanitize"))throw Error("The ngSanitize module must be loaded in order to use htmlContent.");if(r.mdHtmlContent&&r.mdTextContent)throw Error("md-dialog cannot have both `htmlContent` and `textContent`")}}function g(e,n,r){function i(){var e=n[0].querySelectorAll(".md-actions");e.length>0&&f.warn("Using a class of md-actions is deprected, please use <md-dialog-actions>.")}function a(){function e(){var e=n[0].querySelector(".dialog-close");if(!e){var r=n[0].querySelectorAll(".md-actions button, md-dialog-actions button");e=r[r.length-1]}return t.element(e)}if(r.focusOnOpen){var i=o.findFocusTarget(n)||e();i.focus()}}return t.element(c[0].body).addClass("md-dialog-is-showing"),v(r),E(n.find("md-dialog"),r),y(e,n,r),C(n,r).then(function(){b(n,r),_(n,r),i(),a()})}function m(e,n,r){function o(){return $(n,r)}function s(){t.element(c[0].body).removeClass("md-dialog-is-showing"),n.remove(),r.$destroy||r.origin.focus()}return r.deactivateListeners(),r.unlockScreenReader(),r.hideBackdrop(r.$destroy),i&&i.parentNode&&i.parentNode.removeChild(i),a&&a.parentNode&&a.parentNode.removeChild(a),r.$destroy?s():o().then(s)}function v(e){function r(e,r){var o=t.element(e||{});if(o&&o.length){var i={top:0,left:0,height:0,width:0},a=t.isFunction(o[0].getBoundingClientRect);return t.extend(r||{},{element:a?o:n,bounds:a?o[0].getBoundingClientRect():t.extend({},i,o[0]),focus:t.bind(o,o.focus)})}}function o(e,n){if(t.isString(e)){var r=e,o=c[0].querySelectorAll(r);e=o.length?o[0]:null}return t.element(e||n)}e.origin=t.extend({element:null,bounds:null,focus:t.noop},e.origin||{}),e.parent=o(e.parent,d),e.closeTo=r(o(e.closeTo)),e.openFrom=r(o(e.openFrom)),e.targetEvent&&(e.origin=r(e.targetEvent.target,e.origin))}function b(n,r){var i=t.element(u),a=o.debounce(function(){w(n,r)},60),l=[],c=function(){var t="alert"==r.$type?e.hide:e.cancel;o.nextTick(t,!0)};if(r.escapeToClose){var d=r.parent,f=function(e){e.keyCode===s.KEY_CODE.ESCAPE&&(e.stopPropagation(),e.preventDefault(),c())};n.on("keydown",f),d.on("keydown",f),l.push(function(){n.off("keydown",f),d.off("keydown",f)})}if(i.on("resize",a),l.push(function(){i.off("resize",a)}),r.clickOutsideToClose){var p,d=n,h=function(e){p=e.target},g=function(e){p===d[0]&&e.target===d[0]&&(e.stopPropagation(),e.preventDefault(),c())};d.on("mousedown",h),d.on("mouseup",g),l.push(function(){d.off("mousedown",h),d.off("mouseup",g)})}r.deactivateListeners=function(){l.forEach(function(e){e()}),r.deactivateListeners=null}}function y(e,t,n){n.disableParentScroll&&(n.restoreScroll=o.disableScrollAround(t,n.parent)),n.hasBackdrop&&(n.backdrop=o.createBackdrop(e,"md-dialog-backdrop md-opaque"),l.enter(n.backdrop,n.parent)),n.hideBackdrop=function(e){n.backdrop&&(e?n.backdrop.remove():l.leave(n.backdrop)),n.disableParentScroll&&(n.restoreScroll(),delete n.restoreScroll),n.hideBackdrop=null}}function E(e,t){var n="alert"===t.$type?"alertdialog":"dialog",s=e.find("md-dialog-content"),l=e.attr("id")||"dialog_"+o.nextUid();e.attr({role:n,tabIndex:"-1"}),0===s.length&&(s=e),s.attr("id",l),e.attr("aria-describedby",l),t.ariaLabel?r.expect(e,"aria-label",t.ariaLabel):r.expectAsync(e,"aria-label",function(){var e=s.text().split(/\s+/);return e.length>3&&(e=e.slice(0,3).concat("...")),e.join(" ")}),i=document.createElement("div"),i.classList.add("md-dialog-focus-trap"),i.tabIndex=0,a=i.cloneNode(!1);var c=function(){e.focus()};i.addEventListener("focus",c),a.addEventListener("focus",c),e[0].parentNode.insertBefore(i,e[0]),e.append(a)}function _(e,t){function n(e){for(;e.parentNode;){if(e===document.body)return;for(var t=e.parentNode.children,o=0;o<t.length;o++)e===t[o]||A(t[o],["SCRIPT","STYLE"])||t[o].setAttribute("aria-hidden",r);n(e=e.parentNode)}}var r=!0;n(e[0]),t.unlockScreenReader=function(){r=!1,n(e[0]),t.unlockScreenReader=null}}function w(e,t){var n="fixed"==u.getComputedStyle(c[0].body).position,r=t.backdrop?u.getComputedStyle(t.backdrop[0]):null,i=r?Math.min(c[0].body.clientHeight,Math.ceil(Math.abs(parseInt(r.height,10)))):0;return e.css({top:(n?o.scrollTop(t.parent):0)+"px",height:i?i+"px":"100%"}),e}function C(e,t){t.parent.append(e),w(e,t);var n=e.find("md-dialog"),r=o.dom.animator,i=r.calculateZoomToOrigin,a={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},s=r.toTransformCss(i(n,t.openFrom||t.origin)),l=r.toTransformCss("");return t.fullscreen&&n.addClass("md-dialog-fullscreen"),r.translate3d(n,s,l,a).then(function(e){return t.reverseAnimate=function(){return delete t.reverseAnimate,t.closeTo?(a={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"},s=l,l=r.toTransformCss(i(n,t.closeTo)),r.translate3d(n,s,l,a)):e(r.toTransformCss(i(n,t.origin)))},!0})}function $(e,t){return t.reverseAnimate()}function A(e,t){return-1!==t.indexOf(e.nodeName)?!0:void 0}return{hasBackdrop:!0,isolateScope:!0,onShow:g,onShowing:h,onRemove:m,clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,closeTo:null,openFrom:null,focusOnOpen:!0,disableParentScroll:!0,autoWrap:!0,fullscreen:!1,transformTemplate:function(e,t){function n(e){return t.autoWrap&&!/<\/md-dialog>/g.test(e)?"<md-dialog>"+(e||"")+"</md-dialog>":e||""}return'<div class="md-dialog-container">'+n(e)+"</div>"}}}var i,a;return r.$inject=["$mdDialog","$mdTheming"],o.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement","$log","$injector"],e("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","closeTo","openFrom","parent","fullscreen"],options:o}).addPreset("alert",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","theme","css"],options:r}).addPreset("confirm",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","cancel","theme","css"],options:r})}t.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",e).provider("$mdDialog",r),e.$inject=["$$rAF","$mdTheming","$mdDialog"],r.$inject=["$$interimElementProvider"]}(),function(){function e(e){return{restrict:"E",link:e}}t.module("material.components.divider",["material.core"]).directive("mdDivider",e),e.$inject=["$mdTheming"]}(),function(){!function(){function e(){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(e){var n=e.children(),r=!1;t.forEach(["","data-","x-"],function(e){r=r||(n.attr(e+"ng-repeat")?!0:!1)}),r?n.addClass("md-fab-action-item"):n.wrap('<div class="md-fab-action-item">')}}}t.module("material.components.fabActions",["material.core"]).directive("mdFabActions",e)}()}(),function(){!function(){function e(e,n,r,o,i,a){function s(){N.direction=N.direction||"down",N.isOpen=N.isOpen||!1,u(),n.addClass("md-animations-waiting")}function l(){var r=["click","focusin","focusout"];t.forEach(r,function(e){n.on(e,c)}),e.$on("$destroy",function(){t.forEach(r,function(e){n.off(e,c)}),h()})}function c(e){"click"==e.type&&T(e),"focusout"!=e.type||I||(I=a(function(){N.close()},100,!1)),"focusin"==e.type&&I&&(a.cancel(I),I=null)}function u(){N.currentActionIndex=-1}function d(){e.$watch("vm.direction",function(e,t){r.removeClass(n,"md-"+t),r.addClass(n,"md-"+e),u()});var t,o;e.$watch("vm.isOpen",function(e){u(),t&&o||(t=k(),o=x()),e?p():h();var i=e?"md-is-open":"",a=e?"":"md-is-open";t.attr("aria-haspopup",!0),t.attr("aria-expanded",e),o.attr("aria-hidden",!e),r.setClass(n,i,a)})}function f(){n[0].scrollHeight>0?r.addClass(n,"md-animations-ready").then(function(){n.removeClass("md-animations-waiting")}):10>M&&(a(f,100),M+=1)}function p(){n.on("keydown",m),o.nextTick(function(){t.element(document).on("click touchend",g)})}function h(){n.off("keydown",m),t.element(document).off("click touchend",g)}function g(e){if(e.target){var t=o.getClosest(e.target,"md-fab-trigger"),n=o.getClosest(e.target,"md-fab-actions");t||n||N.close()}}function m(e){switch(e.which){case i.KEY_CODE.ESCAPE:return N.close(),e.preventDefault(),!1;case i.KEY_CODE.LEFT_ARROW:return _(e),!1;case i.KEY_CODE.UP_ARROW:return w(e),!1;case i.KEY_CODE.RIGHT_ARROW:return C(e),!1;case i.KEY_CODE.DOWN_ARROW:return $(e),!1}}function v(e){y(e,-1)}function b(e){y(e,1)}function y(e,n){var r=E();N.currentActionIndex=N.currentActionIndex+n,N.currentActionIndex=Math.min(r.length-1,N.currentActionIndex),N.currentActionIndex=Math.max(0,N.currentActionIndex);var o=t.element(r[N.currentActionIndex]).children()[0];t.element(o).attr("tabindex",0),o.focus(),e.preventDefault(),e.stopImmediatePropagation()}function E(){var e=x()[0].querySelectorAll(".md-fab-action-item");return t.forEach(e,function(e){t.element(t.element(e).children()[0]).attr("tabindex",-1)}),e}function _(e){"left"===N.direction?b(e):v(e)}function w(e){"down"===N.direction?v(e):b(e)}function C(e){"left"===N.direction?v(e):b(e)}function $(e){"up"===N.direction?v(e):b(e)}function A(e){return o.getClosest(e,"md-fab-trigger")}function S(e){return o.getClosest(e,"md-fab-actions")}function T(e){A(e.target)&&N.toggle(),S(e.target)&&N.close()}function k(){return n.find("md-fab-trigger")}function x(){return n.find("md-fab-actions")}var N=this;N.open=function(){e.$evalAsync("vm.isOpen = true")},N.close=function(){e.$evalAsync("vm.isOpen = false"),n.find("md-fab-trigger")[0].focus()},N.toggle=function(){e.$evalAsync("vm.isOpen = !vm.isOpen")},s(),l(),d();var M=0;f();var I}t.module("material.components.fabShared",["material.core"]).controller("FabController",e),e.$inject=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"]}()}(),function(){!function(){function n(){function e(e,t){t.prepend('<div class="md-css-variables"></div>')}return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"FabController",controllerAs:"vm",link:e}}function r(n){function r(e){n(e,i,!1)}function o(n){if(!n.hasClass("md-animations-waiting")||n.hasClass("md-animations-ready")){var r=n[0],o=n.controller("mdFabSpeedDial"),i=r.querySelectorAll(".md-fab-action-item"),a=r.querySelector("md-fab-trigger"),s=r.querySelector(".md-css-variables"),l=parseInt(e.getComputedStyle(s).zIndex);t.forEach(i,function(e,t){var n=e.style;n.transform=n.webkitTransform="",n.transitionDelay="",n.opacity=1,n.zIndex=i.length-t+l}),a.style.zIndex=l+i.length+1,o.isOpen||t.forEach(i,function(e,t){var n,r,i=e.style,s=(a.clientHeight-e.clientHeight)/2,l=(a.clientWidth-e.clientWidth)/2;switch(o.direction){case"up":n=e.scrollHeight*(t+1)+s,r="Y";break;case"down":n=-(e.scrollHeight*(t+1)+s),r="Y";break;case"left":n=e.scrollWidth*(t+1)+l,r="X";break;case"right":n=-(e.scrollWidth*(t+1)+l),r="X"}var c="translate"+r+"("+n+"px)";i.transform=i.webkitTransform=c})}}return{addClass:function(e,t,n){e.hasClass("md-fling")?(o(e),r(n)):n()},removeClass:function(e,t,n){o(e),r(n)}}}function o(n){function r(e){n(e,i,!1)}function o(n){var r=n[0],o=n.controller("mdFabSpeedDial"),i=r.querySelectorAll(".md-fab-action-item"),s=r.querySelector(".md-css-variables"),l=parseInt(e.getComputedStyle(s).zIndex);t.forEach(i,function(e,t){var n=e.style,r=t*a;n.opacity=o.isOpen?1:0,n.transform=n.webkitTransform=o.isOpen?"scale(1)":"scale(0)",n.transitionDelay=(o.isOpen?r:i.length-r)+"ms",n.zIndex=i.length-t+l})}var a=65;return{addClass:function(e,t,n){o(e),r(n)},removeClass:function(e,t,n){o(e),r(n)}}}var i=300;t.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabTrigger","material.components.fabActions"]).directive("mdFabSpeedDial",n).animation(".md-fling",r).animation(".md-scale",o).service("mdFabSpeedDialFlingAnimation",r).service("mdFabSpeedDialScaleAnimation",o),r.$inject=["$timeout"],o.$inject=["$timeout"]}()}(),function(){!function(){function n(){function e(e,t){t.addClass("md-fab-toolbar"),t.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}return{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"FabController",controllerAs:"vm",link:e}}function r(){function n(n,r){if(r){var o=n[0],i=n.controller("mdFabToolbar"),a=o.querySelector(".md-fab-toolbar-background"),s=o.querySelector("md-fab-trigger button"),l=o.querySelector("md-toolbar"),c=o.querySelector("md-fab-trigger button md-icon"),u=n.find("md-fab-actions").children();if(s&&a){var d=e.getComputedStyle(s).getPropertyValue("background-color"),f=o.offsetWidth,p=(o.offsetHeight,2*(f/s.offsetWidth));a.style.backgroundColor=d,a.style.borderRadius=f+"px",i.isOpen?(l.style.pointerEvents="initial",a.style.width=s.offsetWidth+"px",a.style.height=s.offsetHeight+"px",a.style.transform="scale("+p+")",a.style.transitionDelay="0ms",c&&(c.style.transitionDelay=".3s"),t.forEach(u,function(e,t){e.style.transitionDelay=25*(u.length-t)+"ms"})):(l.style.pointerEvents="none",a.style.transform="scale(1)",a.style.top="0",n.hasClass("md-right")&&(a.style.left="0",a.style.right=null),n.hasClass("md-left")&&(a.style.right="0",a.style.left=null),a.style.transitionDelay="200ms",c&&(c.style.transitionDelay="0ms"),t.forEach(u,function(e,t){e.style.transitionDelay=200+25*t+"ms"}))}}}return{addClass:function(e,t,r){n(e,t,r),r()},removeClass:function(e,t,r){n(e,t,r),r()}}}t.module("material.components.fabToolbar",["material.core","material.components.fabShared","material.components.fabTrigger","material.components.fabActions"]).directive("mdFabToolbar",n).animation(".md-fab-toolbar",r).service("mdFabToolbarAnimation",r)}()}(),function(){!function(){function e(){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"]}}t.module("material.components.fabTrigger",["material.core"]).directive("mdFabTrigger",e)}()}(),function(){function e(e,r,o,i){function a(n,a,s,l){function c(){for(var e in r.MEDIA)i(e),i.getQuery(r.MEDIA[e]).addListener(C);return i.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],s,d)}function u(){l.layoutDelegate=t.noop,$();for(var e in r.MEDIA)i.getQuery(r.MEDIA[e]).removeListener(C)}function d(e){null==e?l.invalidateLayout():i(e)&&l.invalidateLayout()}function f(e){var r=m(),i={tileSpans:v(r),colCount:b(),rowMode:_(),rowHeight:E(),gutter:y()};if(e||!t.equals(i,A)){var s=o(i.colCount,i.tileSpans,r).map(function(e,n){return{grid:{element:a,style:g(i.colCount,n,i.gutter,i.rowMode,i.rowHeight)},tiles:e.map(function(e,o){return{element:t.element(r[o]),style:h(e.position,e.spans,i.colCount,n,i.gutter,i.rowMode,i.rowHeight)}})}}).reflow().performance();n.mdOnLayout({$event:{performance:s}}),A=i}}function p(e){return S+e+T}function h(e,t,n,r,o,i,a){var s=1/n*100,l=(n-1)/n,c=k({share:s,gutterShare:l,gutter:o}),u={left:x({unit:c,offset:e.col,gutter:o}),width:N({unit:c,span:t.col,gutter:o}),paddingTop:"",marginTop:"",top:"",height:""};switch(i){case"fixed":u.top=x({unit:a,offset:e.row,gutter:o}),u.height=N({unit:a,span:t.row,gutter:o});break;case"ratio":var d=s/a,f=k({share:d,gutterShare:l,gutter:o});u.paddingTop=N({unit:f,span:t.row,gutter:o}),u.marginTop=x({unit:f,offset:e.row,gutter:o});break;case"fit":var p=(r-1)/r,d=1/r*100,f=k({share:d,gutterShare:p,gutter:o});u.top=x({unit:f,offset:e.row,gutter:o}),u.height=N({unit:f,span:t.row,gutter:o})}return u}function g(e,t,n,r,o){var i={};switch(r){case"fixed":i.height=N({unit:o,span:t,gutter:n}),i.paddingBottom="";break;case"ratio":var a=1===e?0:(e-1)/e,s=1/e*100,l=s*(1/o),c=k({share:l,gutterShare:a,gutter:n});i.height="",i.paddingBottom=N({unit:c,span:t,gutter:n});break;case"fit":}return i}function m(){return[].filter.call(a.children(),function(e){return"MD-GRID-TILE"==e.tagName&&!e.$$mdDestroyed})}function v(e){return[].map.call(e,function(e){var n=t.element(e).controller("mdGridTile");return{row:parseInt(i.getResponsiveAttribute(n.$attrs,"md-rowspan"),10)||1,col:parseInt(i.getResponsiveAttribute(n.$attrs,"md-colspan"),10)||1}})}function b(){var e=parseInt(i.getResponsiveAttribute(s,"md-cols"),10);if(isNaN(e))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return e}function y(){return w(i.getResponsiveAttribute(s,"md-gutter")||1)}function E(){var e=i.getResponsiveAttribute(s,"md-row-height");switch(_()){case"fixed":return w(e);case"ratio":var t=e.split(":");return parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}function _(){var e=i.getResponsiveAttribute(s,"md-row-height");return"fit"==e?"fit":-1!==e.indexOf(":")?"ratio":"fixed"}function w(e){return/\D$/.test(e)?e:e+"px"}a.attr("role","list"),l.layoutDelegate=f;var C=t.bind(l,l.invalidateLayout),$=c();n.$on("$destroy",u);var A,S=e.startSymbol(),T=e.endSymbol(),k=e(p("share")+"% - ("+p("gutter")+" * "+p("gutterShare")+")"),x=e("calc(("+p("unit")+" + "+p("gutter")+") * "+p("offset")+")"),N=e("calc(("+p("unit")+") * "+p("span")+" + ("+p("span")+" - 1) * "+p("gutter")+")")}return{restrict:"E",controller:n,scope:{mdOnLayout:"&"},link:a}}function n(e){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=e.nextTick,this.layoutDelegate=t.noop}function r(e){function n(t,n){var r,a,s,l,c,u;return l=e.time(function(){a=o(t,n)}),r={layoutInfo:function(){return a},map:function(t){return c=e.time(function(){var e=r.layoutInfo();s=t(e.positioning,e.rowCount)}),r},reflow:function(t){return u=e.time(function(){var e=t||i;e(s.grid,s.tiles)}),r},performance:function(){return{tileCount:n.length,layoutTime:l,mapTime:c,reflowTime:u,totalTime:l+c+u}}}}function r(e,t){e.element.css(e.style),t.forEach(function(e){e.element.css(e.style)})}function o(e,t){function n(t,n){if(t.col>e)throw"md-grid-list: Tile at position "+n+" has a colspan ("+t.col+") that exceeds the column count ("+e+")";for(var a=0,u=0;u-a<t.col;)s>=e?r():(a=c.indexOf(0,s),-1!==a&&-1!==(u=i(a+1))?s=u+1:(a=u=0,r()));return o(a,t.col,t.row),s=a+t.col,{col:a,row:l}}function r(){s=0,l++,o(0,e,-1)}function o(e,t,n){for(var r=e;e+t>r;r++)c[r]=Math.max(c[r]+n,0)}function i(e){var t;for(t=e;t<c.length;t++)if(0!==c[t])return t;return t===c.length?t:void 0}function a(){for(var t=[],n=0;e>n;n++)t.push(0);return t}var s=0,l=0,c=a();return{positioning:t.map(function(e,t){return{spans:e,position:n(e,t)}}),rowCount:l+Math.max.apply(Math,c)}}var i=r;return n.animateWith=function(e){i=t.isFunction(e)?e:r},n}function o(e){function n(n,r,o,i){r.attr("role","listitem");var a=e.watchResponsiveAttributes(["md-colspan","md-rowspan"],o,t.bind(i,i.invalidateLayout));i.invalidateTiles(),n.$on("$destroy",function(){r[0].$$mdDestroyed=!0,a(),i.invalidateLayout()}),t.isDefined(n.$parent.$index)&&n.$watch(function(){return n.$parent.$index},function(e,t){e!==t&&i.invalidateTiles()})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(e){this.$attrs=e}],link:n}}function i(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}t.module("material.components.gridList",["material.core"]).directive("mdGridList",e).directive("mdGridTile",o).directive("mdGridTileFooter",i).directive("mdGridTileHeader",i).factory("$mdGridLayout",r),e.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],n.$inject=["$mdUtil"],n.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(t.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}},r.$inject=["$mdUtil"],o.$inject=["$mdMedia"]}(),function(){t.module("material.components.icon",["material.core"])}(),function(){function n(e,t){function n(t,n){e(n);var r=n.find("md-icon"),o=r.length?r:n[0].getElementsByClassName("md-icon");if(1==o.length){var i=o[0].nextElementSibling,a=o[0].previousElementSibling;n.addClass(i&&"INPUT"===i.tagName?"md-icon-left":a&&"INPUT"===a.tagName?"md-icon-right":"")}else 2==o.length&&n.addClass("md-icon-left md-icon-right")}function r(e,n,r,o){var i=this;i.isErrorGetter=r.mdIsError&&t(r.mdIsError),i.delegateClick=function(){i.input.focus()},i.element=n,i.setFocused=function(e){n.toggleClass("md-input-focused",!!e)},i.setHasValue=function(e){n.toggleClass("md-input-has-value",!!e)},i.setHasPlaceholder=function(e){n.toggleClass("md-input-has-placeholder",!!e)},i.setInvalid=function(e){e?o.addClass(n,"md-input-invalid"):o.removeClass(n,"md-input-invalid")},e.$watch(function(){return i.label&&i.input},function(e){e&&!i.label.attr("for")&&i.label.attr("for",i.input.attr("id"))})}return r.$inject=["$scope","$element","$attrs","$animate"],{restrict:"E",link:n,controller:r}}function r(){return{restrict:"E",require:"^?mdInputContainer",link:function(e,t,n,r){!r||n.mdNoFloat||t.hasClass("md-container-ignore")||(r.label=t,e.$on("$destroy",function(){r.label=null}))}}}function o(e,n,r){function o(o,i,a,s){function l(e){return d.setHasValue(!p.$isEmpty(e)),e}function c(){d.setHasValue(i.val().length>0||(i[0].validity||{}).badInput)}function u(){function r(e){return g(),e}function a(){if(u.style.height=u.offsetHeight+"px",i.addClass("md-no-flex"),isNaN(f)){c.style.height="auto",c.scrollTop=0;var e=s();e&&(c.style.height=e+"px")}else{c.setAttribute("rows",1),h||(c.style.minHeight="0",h=i.prop("clientHeight"),c.style.minHeight=null);var t=Math.min(f,Math.round(c.scrollHeight/h));c.setAttribute("rows",t),c.style.height=h*t+"px"}i.removeClass("md-no-flex"),u.style.height="auto"}function s(){var e=c.scrollHeight-c.offsetHeight;return c.offsetHeight+(e>0?e:0)}function l(){c.scrollTop=0;var e=c.scrollHeight-c.offsetHeight,t=c.offsetHeight+e;c.style.height=t+"px"}if(!t.isDefined(i.attr("md-no-autogrow"))){var c=i[0],u=d.element[0],f=0/0,h=null;c.hasAttribute("rows")&&(f=parseInt(c.getAttribute("rows")));var g=e.debounce(a,1);if(p?(p.$formatters.push(r),p.$viewChangeListeners.push(r)):g(),i.on("keydown input",g),isNaN(f)&&(i.attr("rows","1"),i.on("scroll",l)),t.element(n).on("resize",g),o.$on("$destroy",function(){t.element(n).off("resize",g)}),t.isDefined(i.attr("md-detect-hidden"))){var m=function(){var e=!1;return function(){var t=0===c.offsetHeight;t===!1&&e===!0&&a(),e=t}}();o.$watch(function(){return e.nextTick(m,!1),!0})}}}var d=s[0],f=!!s[1],p=s[1]||e.fakeNgModel(),h=t.isDefined(a.readonly);if(d){if(d.input)throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!");d.input=i;var g=t.element('<div class="md-errors-spacer">');i.parent().append(g),d.label||r.expect(i,"aria-label",i.attr("placeholder")),i.addClass("md-input"),i.attr("id")||i.attr("id","input_"+e.nextUid()),"textarea"===i[0].tagName.toLowerCase()&&u(),f||c();var m=d.isErrorGetter||function(){return p.$invalid&&(p.$touched||v())},v=function(){var n=e.getClosest(i,"form"),r=n?t.element(n).controller("form"):null;return r?r.$submitted:!1};o.$watch(m,d.setInvalid),p.$parsers.push(l),p.$formatters.push(l),i.on("input",c),h||i.on("focus",function(){d.setFocused(!0)}).on("blur",function(){d.setFocused(!1),c()}),o.$on("$destroy",function(){d.setFocused(!1),d.setHasValue(!1),d.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel"],link:o}}function i(e,n){function r(r,o,i,a){function s(e){return c.parent?(c.text(String(o.val()||e||"").length+"/"+l),e):e}var l,c,u,d=a[0],f=a[1];n.nextTick(function(){u=t.element(f.element[0].querySelector(".md-errors-spacer")),c=t.element('<div class="md-char-counter">'),u.append(c),i.$set("ngTrim","false"),d.$formatters.push(s),d.$viewChangeListeners.push(s),o.on("input keydown keyup",function(){s()}),r.$watch(i.mdMaxlength,function(n){l=n,t.isNumber(n)&&n>0?(c.parent().length||e.enter(c,u),s()):e.leave(c)}),d.$validators["md-maxlength"]=function(e,n){return!t.isNumber(l)||0>l?!0:(e||o.val()||n||"").length<=l}})}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:r}}function a(){function e(e,n,r,o){if(o){var i=o.element.find("label"),a=t.isDefined(o.element.attr("md-no-float"));if(i&&i.length||a)return void o.setHasPlaceholder(!0);var s=r.placeholder;if(n.removeAttr("placeholder"),o.input&&"MD-SELECT"!=o.input[0].nodeName){var l='<label ng-click="delegateClick()">'+s+"</label>";o.element.addClass("md-icon-float"),o.element.prepend(l)}}}return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:e}}function s(){function e(e,t){function n(){t[0].select()}("INPUT"===t[0].nodeName||"TEXTAREA"===t[0].nodeName)&&(t.on("focus",n),e.$on("$destroy",function(){t.off("focus",n)}))}return{restrict:"A",link:e}}function l(){function e(e,n,r,o){o&&(n.toggleClass("md-input-messages-animation",!0),n.toggleClass("md-auto-hide",!0),("false"==r.mdAutoHide||t(r))&&n.toggleClass("md-auto-hide",!1))}function t(e){return y.some(function(t){return e[t]})}return{restrict:"EA",link:e,require:"^^?mdInputContainer"}}function c(e){function t(t){var n=e.getClosest(t,"md-input-container");if(n)return t.toggleClass("md-input-message-animation",!0),{}}return{restrict:"EA",compile:t,priority:100}}function u(e,t){return{addClass:function(n,r,o){var i=b(n);"md-input-invalid"==r&&i.hasClass("md-auto-hide")?p(n,t,e).finally(o):o()}}}function d(e,t){return{enter:function(n,r){p(n,t,e).finally(r)},leave:function(n,r){h(n,t,e).finally(r)},addClass:function(n,r,o){"ng-hide"==r?h(n,t,e).finally(o):o()},removeClass:function(n,r,o){"ng-hide"==r?p(n,t,e).finally(o):o()}}}function f(e){return{enter:function(t,n){var r=b(t);return r.hasClass("md-auto-hide")?void n():g(t,e)},leave:function(t){return m(t,e)}}}function p(e,n,r){var o,i=[],a=b(e);return t.forEach(a.children(),function(e){o=g(t.element(e),n),i.push(o.start())}),r.all(i)}function h(e,n,r){var o,i=[],a=b(e);return t.forEach(a.children(),function(e){o=m(t.element(e),n),i.push(o.start())}),r.all(i)}function g(e,t){var n=e[0].offsetHeight;return t(e,{event:"enter",structural:!0,from:{opacity:0,"margin-top":-n+"px"},to:{opacity:1,"margin-top":"0"},duration:.3})}function m(t,n){var r=t[0].offsetHeight,o=e.getComputedStyle(t[0]);return 0==o.opacity?n(t,{}):n(t,{event:"leave",structural:!0,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-r+"px"},duration:.3})}function v(e){var t=e.controller("mdInputContainer");return t.element}function b(e){var n=v(e),r="ng-messages,data-ng-messages,x-ng-messages,[ng-messages],[data-ng-messages],[x-ng-messages]";return t.element(n[0].querySelector(r))}t.module("material.components.input",["material.core"]).directive("mdInputContainer",n).directive("label",r).directive("input",o).directive("textarea",o).directive("mdMaxlength",i).directive("placeholder",a).directive("ngMessages",l).directive("ngMessage",c).directive("ngMessageExp",c).directive("mdSelectOnFocus",s).animation(".md-input-invalid",u).animation(".md-input-messages-animation",d).animation(".md-input-message-animation",f),n.$inject=["$mdTheming","$parse"],o.$inject=["$mdUtil","$window","$mdAria"],i.$inject=["$animate","$mdUtil"],a.$inject=["$log"];var y=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"];c.$inject=["$mdUtil"],u.$inject=["$q","$animateCss"],d.$inject=["$q","$animateCss"],f.$inject=["$animateCss"]}(),function(){function e(e){return{restrict:"E",compile:function(t){return t[0].setAttribute("role","list"),e}}}function n(e,n,r,o){var i=["md-checkbox","md-switch"];return{restrict:"E",controller:"MdListController",compile:function(a,s){function l(){for(var e,t,n=["md-switch","md-checkbox"],r=0;t=n[r];++r)if((e=a.find(t)[0])&&!e.hasAttribute("aria-label")){var o=a.find("p")[0];if(!o)return;e.setAttribute("aria-label","Toggle "+o.textContent)}}function c(e){var n;"div"==e?(n=t.element('<div class="md-no-style md-list-item-inner">'),n.append(a.contents()),a.addClass("md-proxy-focus")):(n=t.element('<md-button class="md-no-style"><div class="md-list-item-inner"></div></md-button>'),d(a[0],n[0]),n.children().eq(0).append(a.contents())),a[0].setAttribute("tabindex","-1"),a.append(n)}function u(){if(v&&!p(v)&&v.hasAttribute("ng-click")){e.expect(v,"aria-label");var n=t.element('<md-button class="md-secondary-container md-icon-button">');d(v,n[0]),v.setAttribute("tabindex","-1"),v.classList.remove("md-secondary"),n.append(v),v=n[0]}v&&(v.hasAttribute("ng-click")||s.ngClick&&f(v))&&(a.addClass("md-with-secondary"),a.append(v))}function d(e,n){var r=["ng-if","ng-click","aria-label","ng-disabled","ui-sref","href","ng-href","ng-attr-ui-sref"];t.forEach(r,function(t){e.hasAttribute(t)&&(n.setAttribute(t,e.getAttribute(t)),e.removeAttribute(t))})}function f(e){return-1!=i.indexOf(e.nodeName.toLowerCase())}function p(e){var t=e.nodeName.toUpperCase();return"MD-BUTTON"==t||"BUTTON"==t}function h(e,a,s,l){function c(e){for(var t=e.attributes,n=0;n<t.length;n++)if("ngClick"===s.$normalize(t[n].name))return!0;return!1}function u(){var e=a.children();e.length&&!e[0].hasAttribute("ng-click")&&t.forEach(i,function(e){t.forEach(p.querySelectorAll(e),function(e){f.push(e)})})}function d(){(1==f.length||h)&&(a.addClass("md-clickable"),h||l.attachRipple(e,t.element(a[0].querySelector(".md-no-style"))))}var f=[],p=a[0].firstElementChild,h=p&&c(p);u(),d(),a.hasClass("md-proxy-focus")&&f.length&&t.forEach(f,function(n){n=t.element(n),e.mouseActive=!1,n.on("mousedown",function(){e.mouseActive=!0,o(function(){e.mouseActive=!1},100)}).on("focus",function(){e.mouseActive===!1&&a.addClass("md-focused"),n.on("blur",function t(){a.removeClass("md-focused"),n.off("blur",t)})})}),h||f.length||p&&p.addEventListener("keypress",function(e){if("INPUT"!=e.target.nodeName&&"TEXTAREA"!=e.target.nodeName){var t=e.which||e.keyCode;t==n.KEY_CODE.SPACE&&p&&(p.click(),e.preventDefault(),e.stopPropagation())}}),a.off("click"),a.off("keypress"),1==f.length&&p&&a.children().eq(0).on("click",function(e){var n=r.getClosest(e.target,"BUTTON");
!n&&p.contains(e.target)&&t.forEach(f,function(n){e.target===n||n.contains(e.target)||t.element(n).triggerHandler("click")})})}var g,m,v=a[0].querySelector(".md-secondary");if(a[0].setAttribute("role","listitem"),s.ngClick||s.ngHref||s.href||s.uiSref||s.ngAttrUiSref)c("button");else{for(var b,y=0;b=i[y];++y)if(m=a[0].querySelector(b)){g=!0;break}g?c("div"):a[0].querySelector("md-button:not(.md-secondary):not(.md-exclude)")||a.addClass("md-no-proxy")}return u(),l(),h}}}function r(e,t,n){function r(e,t){var r={};n.attach(e,t,r)}var o=this;o.attachRipple=r}t.module("material.components.list",["material.core"]).controller("MdListController",r).directive("mdList",e).directive("mdListItem",n),e.$inject=["$mdTheming"],n.$inject=["$mdAria","$mdConstant","$mdUtil","$timeout"],r.$inject=["$scope","$element","$mdListInkRipple"]}(),function(){t.module("material.components.menu",["material.core","material.components.backdrop"])}(),function(){t.module("material.components.menuBar",["material.core","material.components.menu"])}(),function(){function e(e,r,o){function i(e){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),a}function a(i,a,p){function h(){p.$observe("value",function(e){var t=s(e);a.attr("aria-valuenow",t),y()==d&&v(t)}),p.$observe("mdMode",function(e){switch(e){case d:case f:w.removeClass("ng-hide"),E&&w.removeClass(E),w.addClass(E="md-mode-"+e);break;default:E&&w.removeClass(E),w.addClass("ng-hide"),E=n}})}function g(){_.css({width:100*b()+"px",height:100*b()+"px"}),_.children().eq(0).css(C({transform:r.supplant("translate(-50%, -50%) scale( {0} )",[b()])}))}function m(){if(t.isUndefined(p.mdMode)){var e=t.isDefined(p.value),n=e?d:f,i="Auto-adding the missing md-mode='{0}' to the ProgressCircular element";o.debug(r.supplant(i,[n])),a.attr("md-mode",n),p.mdMode=n}}function v(e){if(y()){$=$||t.element(a[0].querySelector(".md-left > .md-half-circle")),A=A||t.element(a[0].querySelector(".md-right > .md-half-circle")),S=S||t.element(a[0].querySelector(".md-gap"));var n=l({borderBottomColor:50>=e?"transparent !important":"",transition:50>=e?"":"borderBottomColor 0.1s linear"}),o=l({transition:50>=e?"transform 0.1s linear":"",transform:r.supplant("rotate({0}deg)",[50>=e?135:(e-50)/50*180+135])}),i=l({transition:e>=50?"transform 0.1s linear":"",transform:r.supplant("rotate({0}deg)",[e>=50?45:e/50*180-135])});$.css(C(o)),A.css(C(i)),S.css(C(n))}}function b(){if(!p.mdDiameter)return u;var e=/([0-9]*)%/.exec(p.mdDiameter),t=Math.max(0,e&&e[1]/100||parseFloat(p.mdDiameter));return t>1?t/c:t}function y(){var e=(p.mdMode||"").trim();if(e)switch(e){case d:case f:break;default:e=n}return e}e(a);var E,_=a,w=t.element(a.children()[0]),C=r.dom.animator.toCss;a.attr("md-mode",y()),g(),m(),h();var $,A,S}function s(e){return Math.max(0,Math.min(e||0,100))}function l(e){for(var t in e)e.hasOwnProperty(t)&&""==e[t]&&delete e[t];return e}var c=100,u=.5,d="determinate",f="indeterminate";return{restrict:"E",scope:!0,template:'<div class="md-scale-wrapper"><div class="md-spinner-wrapper"><div class="md-inner"><div class="md-gap"></div><div class="md-left"><div class="md-half-circle"></div></div><div class="md-right"><div class="md-half-circle"></div></div></div></div></div>',compile:i}}t.module("material.components.progressCircular",["material.core"]).directive("mdProgressCircular",e),e.$inject=["$mdTheming","$mdUtil","$log"]}(),function(){function e(e,r,o){function i(e){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),a}function a(i,a,f){function p(){f.$observe("value",function(e){var t=s(e);a.attr("aria-valuenow",t),g()!=d&&m(E,t)}),f.$observe("mdBufferValue",function(e){m(y,s(e))}),f.$observe("mdMode",function(e){switch(e){case d:case u:case l:case c:_.removeClass("ng-hide "+v),_.addClass(v="md-mode-"+e);break;default:v&&_.removeClass(v),_.addClass("ng-hide"),v=n}})}function h(){if(t.isUndefined(f.mdMode)){var e=t.isDefined(f.value),n=e?l:c,i="Auto-adding the missing md-mode='{0}' to the ProgressLinear element";o.debug(r.supplant(i,[n])),a.attr("md-mode",n),f.mdMode=n}}function g(){var e=(f.mdMode||"").trim();if(e)switch(e){case l:case c:case u:case d:break;default:e=n}return e}function m(e,n){if(g()){var o=r.supplant("translateX({0}%) scale({1},1)",[(n-100)/2,n/100]),i=b({transform:o});t.element(e).css(i)}}e(a);var v,b=r.dom.animator.toCss,y=t.element(a[0].querySelector(".md-bar1")),E=t.element(a[0].querySelector(".md-bar2")),_=t.element(a[0].querySelector(".md-container"));a.attr("md-mode",g()),h(),p()}function s(e){return Math.max(0,Math.min(e||0,100))}var l="determinate",c="indeterminate",u="buffer",d="query";return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:i}}t.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",e),e.$inject=["$mdTheming","$mdUtil","$log"]}(),function(){function e(e,n,r,o){function i(i,a,s,l){function c(){a.hasClass("md-focused")||a.addClass("md-focused")}function u(r){var o=r.which||r.keyCode;if(o==n.KEY_CODE.ENTER||r.currentTarget==r.target)switch(o){case n.KEY_CODE.LEFT_ARROW:case n.KEY_CODE.UP_ARROW:r.preventDefault(),d.selectPrevious(),c();break;case n.KEY_CODE.RIGHT_ARROW:case n.KEY_CODE.DOWN_ARROW:r.preventDefault(),d.selectNext(),c();break;case n.KEY_CODE.ENTER:var i=t.element(e.getClosest(a[0],"form"));i.length>0&&i.triggerHandler("submit")}}r(a);var d=l[0],f=l[1]||e.fakeNgModel();d.init(f),i.mouseActive=!1,a.attr({role:"radiogroup",tabIndex:a.attr("tabindex")||"0"}).on("keydown",u).on("mousedown",function(){i.mouseActive=!0,o(function(){i.mouseActive=!1},100)}).on("focus",function(){i.mouseActive===!1&&d.$element.addClass("md-focused")}).on("blur",function(){d.$element.removeClass("md-focused")})}function a(e){this._radioButtonRenderFns=[],this.$element=e}function s(){return{init:function(e){this._ngModelCtrl=e,this._ngModelCtrl.$render=t.bind(this,this.render)},add:function(e){this._radioButtonRenderFns.push(e)},remove:function(e){var t=this._radioButtonRenderFns.indexOf(e);-1!==t&&this._radioButtonRenderFns.splice(t,1)},render:function(){this._radioButtonRenderFns.forEach(function(e){e()})},setViewValue:function(e,t){this._ngModelCtrl.$setViewValue(e,t),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return l(this.$element,1)},selectPrevious:function(){return l(this.$element,-1)},setActiveDescendant:function(e){this.$element.attr("aria-activedescendant",e)}}}function l(n,r){var o=e.iterator(n[0].querySelectorAll("md-radio-button"),!0);if(o.count()){var i=function(e){return!t.element(e).attr("disabled")},a=n[0].querySelector("md-radio-button.md-checked"),s=o[0>r?"previous":"next"](a,i)||o.first();t.element(s).triggerHandler("click")}}return a.prototype=s(),{restrict:"E",controller:["$element",a],require:["mdRadioGroup","?ngModel"],link:{pre:i}}}function n(e,t,n){function r(r,i,a,s){function l(){if(!s)throw"RadioGroupController not found.";s.add(u),a.$observe("value",u),i.on("click",c).on("$destroy",function(){s.remove(u)})}function c(e){i[0].hasAttribute("disabled")||r.$apply(function(){s.setViewValue(a.value,e&&e.type)})}function u(){function e(e){"MD-RADIO-GROUP"!=i.parent()[0].nodeName&&i.parent()[e?"addClass":"removeClass"](o)}var t=s.getViewValue()==a.value;t!==f&&(f=t,i.attr("aria-checked",t),t?(e(!0),i.addClass(o),s.setActiveDescendant(i.attr("id"))):(e(!1),i.removeClass(o)))}function d(n,r){function o(){return a.id||"radio_"+t.nextUid()}r.ariaId=o(),n.attr({id:r.ariaId,role:"radio","aria-checked":"false"}),e.expectWithText(n,"aria-label")}var f;n(i),d(i,r),l()}var o="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:r}}t.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",e).directive("mdRadioButton",n),e.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],n.$inject=["$mdAria","$mdUtil","$mdTheming"]}(),function(){function e(e,r,o,i,a,s){function l(a,l){var c=t.element("<md-select-value><span></span></md-select-value>");if(c.append('<span class="md-select-icon" aria-hidden="true"></span>'),c.addClass("md-select-value"),c[0].hasAttribute("id")||c.attr("id","select_value_label_"+r.nextUid()),a.find("md-content").length||a.append(t.element("<md-content>").append(a.contents())),l.mdOnOpen&&(a.find("md-content").prepend(t.element('<div> <md-progress-circular md-mode="{{progressMode}}" ng-hide="$$loadingAsyncDone"></md-progress-circular></div>')),a.find("md-option").attr("ng-show","$$loadingAsyncDone")),l.name){var u=t.element('<select class="md-visually-hidden">');u.attr({name:"."+l.name,"ng-model":l.ngModel,"aria-hidden":"true",tabindex:"-1"});var d=a.find("md-option");t.forEach(d,function(e){var n=t.element("<option>"+e.innerHTML+"</option>");e.hasAttribute("ng-value")?n.attr("ng-value",e.getAttribute("ng-value")):e.hasAttribute("value")&&n.attr("value",e.getAttribute("value")),u.append(n)}),a.parent().append(u)}var f=t.isDefined(l.multiple)?"multiple":"",p='<div class="md-select-menu-container" aria-hidden="true"><md-select-menu {0}>{1}</md-select-menu></div>';return p=r.supplant(p,[f,a.html()]),a.empty().append(c),a.append(p),l.tabindex=l.tabindex||"0",function(a,l,c,u){function d(){var e=l.attr("aria-label")||l.attr("placeholder");!e&&_&&_.label&&(e=_.label.text()),y=e,i.expect(l,"aria-label",e)}function f(){k&&(N=N||k.find("md-select-menu").controller("mdSelectMenu"),w.setLabelText(N.selectedLabels()))}function p(){if(y){var e=N.selectedLabels({mode:"aria"});l.attr("aria-label",e.length?y+": "+e:y)}}function h(){_&&_.setHasValue(N.selectedLabels().length>0||(l[0].validity||{}).badInput)}function g(){if(k=t.element(l[0].querySelector(".md-select-menu-container")),x=a,c.mdContainerClass){var e=k[0].getAttribute("class")+" "+c.mdContainerClass;k[0].setAttribute("class",e)}N=k.find("md-select-menu").controller("mdSelectMenu"),N.init(C,c.ngModel),l.on("$destroy",function(){k.remove()})}function m(e){var n=[32,13,38,40];if(-1!=n.indexOf(e.keyCode))e.preventDefault(),v(e);else if(e.keyCode<=90&&e.keyCode>=31){e.preventDefault();var r=N.optNodeForKeyboardSearch(e);if(!r)return;var o=t.element(r).controller("mdOption");N.isMultiple||N.deselect(Object.keys(N.selected)[0]),N.select(o.hashKey,o.value),N.refreshViewValue()}}function v(){x.isOpen=!0,l.attr("aria-expanded","true"),e.show({scope:x,preserveScope:!0,skipCompile:!0,element:k,target:l[0],selectCtrl:w,preserveElement:!0,hasBackdrop:!0,loadingAsync:c.mdOnOpen?a.$eval(c.mdOnOpen)||!0:!1}).finally(function(){x.isOpen=!1,l.focus(),l.attr("aria-expanded","false"),C.$setTouched()})}var b,y,E=!0,_=u[0],w=u[1],C=u[2],$=u[3],A=l.find("md-select-value"),S=t.isDefined(c.readonly);if(_){var T=_.isErrorGetter||function(){return C.$invalid&&C.$touched};if(_.input)throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");_.input=l,_.label||i.expect(l,"aria-label",l.attr("placeholder")),a.$watch(T,_.setInvalid)}var k,x,N;if(g(),o(l),c.name&&$){var M=l.parent()[0].querySelector('select[name=".'+c.name+'"]');r.nextTick(function(){var e=t.element(M).controller("ngModel");e&&$.$removeControl(e)})}$&&t.isDefined(c.multiple)&&r.nextTick(function(){var e=C.$modelValue||C.$viewValue;e&&$.$setPristine()});var I=C.$render;C.$render=function(){I(),f(),p(),h()},c.$observe("placeholder",C.$render),w.setLabelText=function(e){w.setIsPlaceholder(!e);var t=c.placeholder||(_&&_.label?_.label.text():"");e=e||t||"";var n=A.children().eq(0);n.html(e)},w.setIsPlaceholder=function(e){e?(A.addClass("md-select-placeholder"),_&&_.label&&_.label.addClass("md-placeholder")):(A.removeClass("md-select-placeholder"),_&&_.label&&_.label.removeClass("md-placeholder"))},S||(l.on("focus",function(){_&&_.element.hasClass("md-input-has-value")&&_.setFocused(!0)}),r.nextTick(function(){l.on("blur",function(){E&&(E=!1,C.$setUntouched()),x.isOpen||(_&&_.setFocused(!1),h())})})),w.triggerClose=function(){s(c.mdOnClose)(a)},a.$$postDigest(function(){d(),f(),p()}),a.$watch(N.selectedLabels,f);var O;c.$observe("ngMultiple",function(e){O&&O();var t=s(e);O=a.$watch(function(){return t(a)},function(e,t){(e!==n||t!==n)&&(e?l.attr("multiple","multiple"):l.removeAttr("multiple"),l.attr("aria-multiselectable",e?"true":"false"),k&&(N.setMultiple(e),I=C.$render,C.$render=function(){I(),f(),p(),h()},C.$render()))})}),c.$observe("disabled",function(e){t.isString(e)&&(e=!0),(b===n||b!==e)&&(b=e,e?(l.attr({tabindex:-1,"aria-disabled":"true"}),l.off("click",v),l.off("keydown",m)):(l.attr({tabindex:c.tabindex,"aria-disabled":"false"}),l.on("click",v),l.on("keydown",m)))}),c.disabled||c.ngDisabled||(l.attr({tabindex:c.tabindex,"aria-disabled":"false"}),l.on("click",v),l.on("keydown",m));var P={role:"listbox","aria-expanded":"false","aria-multiselectable":c.multiple===n||c.ngMultiple?"false":"true"};l[0].hasAttribute("id")||(P.id="select_"+r.nextUid());var R="select_container_"+r.nextUid();k.attr("id",R),P["aria-owns"]=R,l.attr(P),a.$on("$destroy",function(){e.destroy().finally(function(){_&&(_.setFocused(!1),_.setHasValue(!1),_.input=null),C.$setTouched()})})}}return{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:l,controller:function(){}}}function r(e,r,o){function i(e,n,i,a){function s(e){(13==e.keyCode||32==e.keyCode)&&l(e)}function l(n){var o=r.getClosest(n.target,"md-option"),i=o&&t.element(o).data("$mdOptionController");if(o&&i){if(o.hasAttribute("disabled"))return n.stopImmediatePropagation(),!1;var a=c.hashGetter(i.value),s=t.isDefined(c.selected[a]);e.$apply(function(){c.isMultiple?s?c.deselect(a):c.select(a,i.value):s||(c.deselect(Object.keys(c.selected)[0]),c.select(a,i.value)),c.refreshViewValue()})}}var c=a[0];o(n),n.on("click",l),n.on("keypress",s)}function a(o,i,a){function s(){var e=u.ngModel.$modelValue||u.ngModel.$viewValue||[];if(t.isArray(e)){var n=Object.keys(u.selected),r=e.map(u.hashGetter),o=n.filter(function(e){return-1===r.indexOf(e)});o.forEach(u.deselect),r.forEach(function(t,n){u.select(t,e[n])})}}function c(){var e=u.ngModel.$viewValue||u.ngModel.$modelValue;Object.keys(u.selected).forEach(u.deselect),u.select(u.hashGetter(e),e)}var u=this;u.isMultiple=t.isDefined(i.multiple),u.selected={},u.options={},o.$watchCollection(function(){return u.options},function(){u.ngModel.$render()});var d,f;u.setMultiple=function(e){function n(e,n){return t.isArray(e||n||[])}var r=u.ngModel;f=f||r.$isEmpty,u.isMultiple=e,d&&d(),u.isMultiple?(r.$validators["md-multiple"]=n,r.$render=s,o.$watchCollection(u.modelBinding,function(e){n(e)&&s(e),u.ngModel.$setPristine()}),r.$isEmpty=function(e){return!e||0===e.length}):(delete r.$validators["md-multiple"],r.$render=c)};var p,h,g,m="",v=300;u.optNodeForKeyboardSearch=function(e){p&&clearTimeout(p),p=setTimeout(function(){p=n,m="",g=n,h=n},v),m+=String.fromCharCode(e.keyCode);var r=new RegExp("^"+m,"i");h||(h=a.find("md-option"),g=new Array(h.length),t.forEach(h,function(e,t){g[t]=e.textContent.trim()}));for(var o=0;o<g.length;++o)if(r.test(g[o]))return h[o]},u.init=function(n,r){if(u.ngModel=n,u.modelBinding=r,n.$options&&n.$options.trackBy){var i={},a=e(n.$options.trackBy);u.hashGetter=function(e,t){return i.$value=e,a(t||o,i)}}else u.hashGetter=function(e){return t.isObject(e)?"object_"+(e.$$mdSelectId||(e.$$mdSelectId=++l)):e};u.setMultiple(u.isMultiple)},u.selectedLabels=function(e){e=e||{};var t=e.mode||"html",n=r.nodesToArray(a[0].querySelectorAll("md-option[selected]"));if(n.length){var o;return"html"==t?o=function(e){var t=e.innerHTML,n=e.querySelector(".md-ripple-container");return n?t.replace(n.outerHTML,""):t}:"aria"==t&&(o=function(e){return e.hasAttribute("aria-label")?e.getAttribute("aria-label"):e.textContent}),n.map(o).join(", ")}return""},u.select=function(e,t){var n=u.options[e];n&&n.setSelected(!0),u.selected[e]=t},u.deselect=function(e){var t=u.options[e];t&&t.setSelected(!1),delete u.selected[e]},u.addOption=function(e,n){if(t.isDefined(u.options[e]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+n.value+'" found.');u.options[e]=n,t.isDefined(u.selected[e])&&(u.select(e,n.value),u.refreshViewValue())},u.removeOption=function(e){delete u.options[e]},u.refreshViewValue=function(){var e,n=[];for(var r in u.selected)n.push((e=u.options[r])?e.value:u.selected[r]);var o=u.ngModel.$options&&u.ngModel.$options.trackBy,i=u.isMultiple?n:n[0],a=u.ngModel.$modelValue;(o?t.equals(a,i):a==i)||(u.ngModel.$setViewValue(i),u.ngModel.$render())}}return a.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu"],scope:!0,controller:a,link:{pre:i}}}function o(e,n){function r(e,n){return e.append(t.element('<div class="md-text">').append(e.contents())),e.attr("tabindex",n.tabindex||"0"),o}function o(r,o,i,a){function s(e,t,n){if(!u.hashGetter)return void(n||r.$$postDigest(function(){s(e,t,!0)}));var o=u.hashGetter(t,r),i=u.hashGetter(e,r);c.hashKey=i,c.value=e,u.removeOption(o,c),u.addOption(i,c)}function l(){var e={role:"option","aria-selected":"false"};o[0].hasAttribute("id")||(e.id="select_option_"+n.nextUid()),o.attr(e)}var c=a[0],u=a[1];t.isDefined(i.ngValue)?r.$watch(i.ngValue,s):t.isDefined(i.value)?s(i.value):r.$watch(function(){return o.text()},s),i.$observe("disabled",function(e){e?o.attr("tabindex","-1"):o.attr("tabindex","0")}),r.$$postDigest(function(){i.$observe("selected",function(e){t.isDefined(e)&&("string"==typeof e&&(e=!0),e?(u.isMultiple||u.deselect(Object.keys(u.selected)[0]),u.select(c.hashKey,c.value)):u.deselect(c.hashKey),u.refreshViewValue())})}),e.attach(r,o),l(),r.$on("$destroy",function(){u.removeOption(c.hashKey,c)})}function i(e){this.selected=!1,this.setSelected=function(t){t&&!this.selected?e.attr({selected:"selected","aria-selected":"true"}):!t&&this.selected&&(e.removeAttr("selected"),e.attr("aria-selected","false")),this.selected=t}}return i.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:i,compile:r}}function i(){function e(e,n){var r=e.find("label");r.length||(r=t.element("<label>"),e.prepend(r)),r.addClass("md-container-ignore"),n.label&&r.text(n.label)}return{restrict:"E",compile:e}}function a(e){function r(e,r,c,u,d,f,p,h,g){function m(e,t,n){function r(){return p(t,{addClass:"md-leave"}).start()}function o(){t.removeClass("md-active"),t.attr("aria-hidden","true"),t[0].style.display="none",b(n),!n.$destroy&&n.restoreFocus&&n.target.focus()}return n=n||{},n.cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),n.$destroy===!0?o():r().then(o)}function v(o,i,a){function s(e,t,n){return n.parent.append(t),d(function(e,n){try{p(t,{removeClass:"md-leave",duration:0}).start().then(l).then(e)}catch(r){n(r)}})}function l(){return d(function(e){if(a.isRemoved)return d.reject(!1);var t=y(o,i,a);t.container.element.css(_.toCss(t.container.styles)),t.dropDown.element.css(_.toCss(t.dropDown.styles)),f(function(){i.addClass("md-active"),t.dropDown.element.css(_.toCss({transform:""})),v(a.focusedNode),e()})})}function m(e,t,n){return n.disableParentScroll&&!c.getClosest(n.target,"MD-DIALOG")?n.restoreScroll=c.disableScrollAround(n.element,n.parent):n.disableParentScroll=!1,n.hasBackdrop&&(n.backdrop=c.createBackdrop(e,"md-select-backdrop md-click-catcher"),h.enter(n.backdrop,g[0].body,null,{duration:0})),function(){n.backdrop&&n.backdrop.remove(),n.disableParentScroll&&n.restoreScroll(),delete n.restoreScroll}}function v(e){e&&!e.hasAttribute("disabled")&&e.focus()}function b(e,n){var r=i.find("md-select-menu");if(!n.target)throw new Error(c.supplant(E,[n.target]));t.extend(n,{isRemoved:!1,target:t.element(n.target),parent:t.element(n.parent),selectEl:r,contentEl:i.find("md-content"),optionNodes:r[0].getElementsByTagName("md-option")})}function w(){var e=function(e,t,n){return function(){if(!n.isRemoved){var r=y(e,t,n),o=r.container,i=r.dropDown;o.element.css(_.toCss(o.styles)),i.element.css(_.toCss(i.styles))}}}(o,i,a),n=t.element(u);return n.on("resize",e),n.on("orientationchange",e),function(){n.off("resize",e),n.off("orientationchange",e)}}function C(){a.loadingAsync&&!a.isRemoved&&(o.$$loadingAsyncDone=!1,o.progressMode="indeterminate",d.when(a.loadingAsync).then(function(){o.$$loadingAsyncDone=!0,o.progressMode="",delete a.loadingAsync}).then(function(){f(l)}))}function $(){function t(t){t.preventDefault(),t.stopPropagation(),a.restoreFocus=!1,c.nextTick(e.hide,!0)}function o(t){var n=r.KEY_CODE;switch(t.preventDefault(),t.stopPropagation(),t.keyCode){case n.UP_ARROW:return u();case n.DOWN_ARROW:return l();case n.SPACE:case n.ENTER:var o=c.getClosest(t.target,"md-option");o&&(f.triggerHandler({type:"click",target:o}),t.preventDefault()),d(t);break;case n.TAB:case n.ESCAPE:t.stopPropagation(),t.preventDefault(),a.restoreFocus=!0,c.nextTick(e.hide,!0);break;default:if(t.keyCode>=31&&t.keyCode<=90){var i=f.controller("mdSelectMenu").optNodeForKeyboardSearch(t);a.focusedNode=i||a.focusedNode,i&&i.focus()}}}function s(e){var t,r=c.nodesToArray(a.optionNodes),o=r.indexOf(a.focusedNode);do-1===o?o=0:"next"===e&&o<r.length-1?o++:"prev"===e&&o>0&&o--,t=r[o],t.hasAttribute("disabled")&&(t=n);while(!t&&o<r.length-1&&o>0);t&&t.focus(),a.focusedNode=t}function l(){s("next")}function u(){s("prev")}function d(t){function n(){var e=!1;if(t&&t.currentTarget.children.length>0){var n=t.currentTarget.children[0],r=n.scrollHeight>n.clientHeight;if(r&&n.children.length>0){var o=t.pageX-t.currentTarget.getBoundingClientRect().left;o>n.querySelector("md-option").offsetWidth&&(e=!0)}}return e}if(!(t&&"click"==t.type&&t.currentTarget!=f[0]||n())){var r=c.getClosest(t.target,"md-option");r&&r.hasAttribute&&!r.hasAttribute("disabled")&&(t.preventDefault(),t.stopPropagation(),p.isMultiple||(a.restoreFocus=!0,c.nextTick(function(){e.hide(p.ngModel.$viewValue)},!0)))}}if(!a.isRemoved){var f=a.selectEl,p=f.controller("mdSelectMenu")||{};return i.addClass("md-clickable"),a.backdrop&&a.backdrop.on("click",t),f.on("keydown",o),f.on("click",d),function(){a.backdrop&&a.backdrop.off("click",t),f.off("keydown",o),f.off("click",d),i.removeClass("md-clickable"),a.isRemoved=!0}}}return C(),b(o,a),a.hideBackdrop=m(o,i,a),s(o,i,a).then(function(e){return i.attr("aria-hidden","false"),a.alreadyOpen=!0,a.cleanupInteraction=$(),a.cleanupResizing=w(),e},a.hideBackdrop)}function b(e){var t=e.selectCtrl;if(t){var n=e.selectEl.controller("mdSelectMenu");t.setLabelText(n.selectedLabels()),t.triggerClose()}}function y(e,n,r){var d,f=n[0],p=r.target[0].children[0],h=g[0].body,m=r.selectEl[0],v=r.contentEl[0],b=h.getBoundingClientRect(),y=p.getBoundingClientRect(),E=!1,_={left:b.left+s,top:s,bottom:b.height-s,right:b.width-s-(c.floatingScrollbars()?16:0)},w={top:y.top-_.top,left:y.left-_.left,right:_.right-(y.left+y.width),bottom:_.bottom-(y.top+y.height)},C=b.width-2*s,$=m.querySelector("md-option[selected]"),A=m.getElementsByTagName("md-option"),S=m.getElementsByTagName("md-optgroup"),T=l(n,v),k=o(r.loadingAsync);d=k?v.firstElementChild||v:$?$:S.length?S[0]:A.length?A[0]:v.firstElementChild||v,v.offsetWidth>C?v.style["max-width"]=C+"px":v.style.maxWidth=null,E&&(v.style["min-width"]=y.width+"px"),T&&m.classList.add("md-overflow");var x=d;"MD-OPTGROUP"===(x.tagName||"").toUpperCase()&&(x=A[0]||v.firstElementChild||v,d=x),r.focusedNode=x,f.style.display="block";var N=m.getBoundingClientRect(),M=a(d);if(d){var I=u.getComputedStyle(d);M.paddingLeft=parseInt(I.paddingLeft,10)||0,M.paddingRight=parseInt(I.paddingRight,10)||0}if(T){var O=v.offsetHeight/2;v.scrollTop=M.top+M.height/2-O,w.top<O?v.scrollTop=Math.min(M.top,v.scrollTop+O-w.top):w.bottom<O&&(v.scrollTop=Math.max(M.top+M.height-N.height,v.scrollTop-O+w.bottom))}var P,R,D,L;E?(P=y.left,R=y.top+y.height,D="50% 0",R+N.height>_.bottom&&(R=y.top-N.height,D="50% 100%")):(P=y.left+M.left-M.paddingLeft+2,R=Math.floor(y.top+y.height/2-M.height/2-M.top+v.scrollTop)+2,D=M.left+y.width/2+"px "+(M.top+M.height/2-v.scrollTop)+"px 0px",L=Math.min(y.width+M.paddingLeft+M.paddingRight,C));var F=f.getBoundingClientRect(),j=Math.round(100*Math.min(y.width/N.width,1))/100,H=Math.round(100*Math.min(y.height/N.height,1))/100;return{container:{element:t.element(f),styles:{left:Math.floor(i(_.left,P,_.right-F.width)),top:Math.floor(i(_.top,R,_.bottom-F.height)),"min-width":L}},dropDown:{element:t.element(m),styles:{transformOrigin:D,transform:r.alreadyOpen?"":c.supplant("scale({0},{1})",[j,H])}}}}var E="$mdSelect.show() expected a target element in options.target but got '{0}'!",_=c.dom.animator;return{parent:"body",themable:!0,onShow:v,onRemove:m,hasBackdrop:!0,disableParentScroll:!0}}function o(e){return e&&t.isFunction(e.then)}function i(e,t,n){return Math.max(e,Math.min(t,n))}function a(e){return e?{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}:{left:0,top:0,width:0,height:0}}function l(e,t){var n=!1;try{var r=e[0].style.display;e[0].style.display="block",n=t.scrollHeight>t.offsetHeight,e[0].style.display=r}finally{}return n}return r.$inject=["$mdSelect","$mdConstant","$mdUtil","$window","$q","$$rAF","$animateCss","$animate","$document"],e("$mdSelect").setDefaults({methods:["target"],options:r})}var s=8,l=0;t.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",e).directive("mdSelectMenu",r).directive("mdOption",o).directive("mdOptgroup",i).provider("$mdSelect",a),e.$inject=["$mdSelect","$mdUtil","$mdTheming","$mdAria","$compile","$parse"],r.$inject=["$parse","$mdUtil","$mdTheming"],o.$inject=["$mdButtonInkRipple","$mdUtil"],a.$inject=["$$interimElementProvider"]}(),function(){function e(e,t){return["$mdUtil",function(n){return{restrict:"A",multiElement:!0,link:function(r,o,i){var a=r.$on("$md-resize-enable",function(){a(),r.$watch(i[e],function(e){!!e===t&&(n.nextTick(function(){r.$broadcast("$md-resize")}),n.dom.animator.waitTransitionEnd(o).then(function(){r.$broadcast("$md-resize")}))})})}}}]}t.module("material.components.showHide",["material.core"]).directive("ngShow",e("ngShow",!0)).directive("ngHide",e("ngHide",!1))}(),function(){function e(e,n){return function(r){function o(){return e.when(r).then(function(e){return s=e,e})}var i,a="SideNav '"+r+"' is not available!",s=e.get(r);return s||e.notFoundError(r),i={isOpen:function(){return s&&s.isOpen()},isLockedOpen:function(){return s&&s.isLockedOpen()},toggle:function(){return s?s.toggle():n.reject(a)},open:function(){return s?s.open():n.reject(a)},close:function(){return s?s.close():n.reject(a)},then:function(e){var r=s?n.when(s):o();return r.then(e||t.noop)}}}}function r(){return{restrict:"A",require:"^mdSidenav",link:function(){}}}function o(e,r,o,i,a,s,l,c,u,d){function f(s,f,p,h){function g(e,t){s.isLockedOpen=e,e===t?f.toggleClass("md-locked-open",!!e):a[e?"addClass":"removeClass"](f,"md-locked-open"),S.toggleClass("md-locked-open",!!e)}function m(e){var t=r.findFocusTarget(f)||r.findFocusTarget(f,"[md-sidenav-focus]")||f,n=f.parent();return n[e?"on":"off"]("keydown",y),S[e?"on":"off"]("click",E),e&&(w=d[0].activeElement),v(e),C=u.all([e?a.enter(S,n):a.leave(S),a[e?"removeClass":"addClass"](f,"md-closed")]).then(function(){s.isOpen&&t&&t.focus()})}function v(e){var r=f.parent();e&&!_?(_=r.css("overflow"),r.css("overflow","hidden")):t.isDefined(_)&&(r.css("overflow",_),_=n)}function b(e){return s.isOpen==e?u.when(!0):u(function(t){s.isOpen=e,r.nextTick(function(){C.then(function(e){s.isOpen||(w&&w.focus(),w=null),t(e)})})})}function y(e){var t=e.keyCode===o.KEY_CODE.ESCAPE;return t?E(e):u.when(!0)}function E(e){return e.preventDefault(),h.close()}var _,w=null,C=u.when(!0),$=l(p.mdIsLockedOpen),A=function(){return $(s.$parent,{$media:function(t){return c.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),e(t)},$mdMedia:e})},S=r.createBackdrop(s,"md-sidenav-backdrop md-opaque ng-enter");i.inherit(S,f),f.on("$destroy",function(){S.remove(),h.destroy()}),s.$on("$destroy",function(){S.remove()}),s.$watch(A,g),s.$watch("isOpen",m),h.$toggleOpen=b}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(e){return e.addClass("md-closed"),e.attr("tabIndex","-1"),f}}}function i(e,t,n,r,o){var i=this;i.isOpen=function(){return!!e.isOpen},i.isLockedOpen=function(){return!!e.isLockedOpen},i.open=function(){return i.$toggleOpen(!0)},i.close=function(){return i.$toggleOpen(!1)},i.toggle=function(){return i.$toggleOpen(!e.isOpen)},i.$toggleOpen=function(t){return o.when(e.isOpen=t)},i.destroy=r.register(i,n.mdComponentId)}t.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",e).directive("mdSidenav",o).directive("mdSidenavFocus",r).controller("$mdSidenavController",i),e.$inject=["$mdComponentRegistry","$q"],o.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$animate","$compile","$parse","$log","$q","$document"],i.$inject=["$scope","$element","$attrs","$mdComponentRegistry","$q"]}(),function(){function e(e,n,r,o,i,a,s,l,c){function u(e,t){return t.tabindex||e.attr("tabindex",0),e.attr("role","slider"),r.expect(e,"aria-label"),d}function d(r,u,d,f){function p(){y(),C(),b()}function h(e){G=parseFloat(e),u.attr("aria-valuemin",e),p()}function g(e){Q=parseFloat(e),u.attr("aria-valuemax",e),p()}function m(e){X=parseFloat(e),b()}function v(e){u.attr("aria-disabled",!!e)}function b(){if(t.isDefined(d.mdDiscrete)&&!t.isUndefined(X)){if(0>=X){var e="Slider step value must be greater than zero when in discrete mode";throw c.error(e),new Error(e)}var r=Math.floor((Q-G)/X);if(!J){J=t.element("<canvas>").css("position","absolute"),W.append(J);var o=n.getComputedStyle(W[0]);Z=J[0].getContext("2d"),Z.fillStyle=o.backgroundColor||"black"}var i=E();J[0].width=i.width,J[0].height=i.height;for(var a,s=0;r>=s;s++)a=Math.floor(i.width*(s/r)),Z.fillRect(a-1,0,2,i.height)}}function y(){et=B[0].getBoundingClientRect()}function E(){return z(),et}function _(e){if(!u[0].hasAttribute("disabled")){var t;e.keyCode===i.KEY_CODE.LEFT_ARROW?t=-X:e.keyCode===i.KEY_CODE.RIGHT_ARROW&&(t=X),t&&((e.metaKey||e.ctrlKey||e.altKey)&&(t*=4),e.preventDefault(),e.stopPropagation(),r.$evalAsync(function(){w(f.$viewValue+t)}))}}function w(e){f.$setViewValue($(A(e)))}function C(){isNaN(f.$viewValue)&&(f.$viewValue=f.$modelValue);var e=(f.$viewValue-G)/(Q-G);r.modelValue=f.$viewValue,u.attr("aria-valuenow",f.$viewValue),S(e),q.text(f.$viewValue)}function $(e){return t.isNumber(e)?Math.max(G,Math.min(Q,e)):void 0}function A(e){if(t.isNumber(e)){var n=Math.round((e-G)/X)*X+G;return Math.round(1e3*n)/1e3}}function S(e){e=R(e);var t=100*e+"%";V.css("width",t),U.css("left",t),u.toggleClass("md-min",0===e),u.toggleClass("md-max",1===e)}function T(e){if(!j()){u.addClass("md-active"),u[0].focus(),y();var t=L(D(e.pointer.x)),n=$(A(t));r.$apply(function(){w(n),S(F(n))})}}function k(e){if(!j()){u.removeClass("md-dragging md-active");var t=L(D(e.pointer.x)),n=$(A(t));r.$apply(function(){w(n),C()})}}function x(e){j()||(tt=!0,e.stopPropagation(),u.addClass("md-dragging"),I(e))}function N(e){tt&&(e.stopPropagation(),I(e))}function M(e){tt&&(e.stopPropagation(),tt=!1)}function I(e){nt?P(e.pointer.x):O(e.pointer.x)}function O(e){r.$evalAsync(function(){w(L(D(e)))})}function P(e){var t=L(D(e)),n=$(A(t));S(D(e)),q.text(n)}function R(e){return Math.max(0,Math.min(e||0,1))}function D(e){return Math.max(0,Math.min(1,(e-et.left)/et.width))}function L(e){return G+e*(Q-G)}function F(e){return(e-G)/(Q-G)}a(u),f=f||{$setViewValue:function(e){this.$viewValue=e,this.$viewChangeListeners.forEach(function(e){e()})},$parsers:[],$formatters:[],$viewChangeListeners:[]};var j=t.noop;null!=d.disabled?j=function(){return!0}:d.ngDisabled&&(j=t.bind(null,l(d.ngDisabled),r.$parent));var H=t.element(u[0].querySelector(".md-thumb")),q=t.element(u[0].querySelector(".md-thumb-text")),U=H.parent(),B=t.element(u[0].querySelector(".md-track-container")),V=t.element(u[0].querySelector(".md-track-fill")),W=t.element(u[0].querySelector(".md-track-ticks")),z=o.throttle(y,5e3);
t.isDefined(d.min)?d.$observe("min",h):h(0),t.isDefined(d.max)?d.$observe("max",g):g(100),t.isDefined(d.step)?d.$observe("step",m):m(1);var Y=t.noop;d.ngDisabled&&(Y=r.$parent.$watch(d.ngDisabled,v)),s.register(u,"drag"),u.on("keydown",_).on("$md.pressdown",T).on("$md.pressup",k).on("$md.dragstart",x).on("$md.drag",N).on("$md.dragend",M),setTimeout(p,0);var K=e.throttle(p);t.element(n).on("resize",K),r.$on("$destroy",function(){t.element(n).off("resize",K),Y()}),f.$render=C,f.$viewChangeListeners.push(C),f.$formatters.push($),f.$formatters.push(A);var G,Q,X,J,Z,et={};y();var tt=!1,nt=t.isDefined(d.mdDiscrete)}return{scope:{},require:"?ngModel",template:'<div class="md-slider-wrapper"><div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div></div>',compile:u}}t.module("material.components.slider",["material.core"]).directive("mdSlider",e),e.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log"]}(),function(){function e(e,r,o,i){function a(e){function t(e,t){t.addClass("md-sticky-clone");var n={element:e,clone:t};return g.items.push(n),i.nextTick(function(){p.prepend(n.clone)}),h(),function(){g.items.forEach(function(t,n){t.element[0]===e[0]&&(g.items.splice(n,1),t.clone.remove())}),h()}}function a(){g.items.forEach(s),g.items=g.items.sort(function(e,t){return e.top<t.top?-1:1});for(var e,t=p.prop("scrollTop"),n=g.items.length-1;n>=0;n--)if(t>g.items[n].top){e=g.items[n];break}u(e)}function s(e){var t=e.element[0];for(e.top=0,e.left=0;t&&t!==p[0];)e.top+=t.offsetTop,e.left+=t.offsetLeft,t=t.offsetParent;e.height=e.element.prop("offsetHeight"),e.clone.css("margin-left",e.left+"px"),i.floatingScrollbars()&&e.clone.css("margin-right","0")}function c(){var e=p.prop("scrollTop"),t=e>(c.prevScrollTop||0);if(c.prevScrollTop=e,0===e)return void u(null);if(t){if(g.next&&g.next.top<=e)return void u(g.next);if(g.current&&g.next&&g.next.top-e<=g.next.height)return void f(g.current,e+(g.next.top-g.next.height-e))}if(!t){if(g.current&&g.prev&&e<g.current.top)return void u(g.prev);if(g.next&&g.current&&e>=g.next.top-g.current.height)return void f(g.current,e+(g.next.top-e-g.current.height))}g.current&&f(g.current,e)}function u(e){if(g.current!==e){g.current&&(f(g.current,null),d(g.current,null)),e&&d(e,"active"),g.current=e;var t=g.items.indexOf(e);g.next=g.items[t+1],g.prev=g.items[t-1],d(g.next,"next"),d(g.prev,"prev")}}function d(e,t){e&&e.state!==t&&(e.state&&(e.clone.attr("sticky-prev-state",e.state),e.element.attr("sticky-prev-state",e.state)),e.clone.attr("sticky-state",t),e.element.attr("sticky-state",t),e.state=t)}function f(e,t){e&&(null===t||t===n?e.translateY&&(e.translateY=null,e.clone.css(r.CSS.TRANSFORM,"")):(e.translateY=t,e.clone.css(r.CSS.TRANSFORM,"translate3d("+e.left+"px,"+t+"px,0)")))}var p=e.$element,h=o.throttle(a);l(p),p.on("$scrollstart",h),p.on("$scroll",c);var g;return g={prev:null,current:null,next:null,items:[],add:t,refreshElements:a}}function s(){var n,r=t.element("<div>");e[0].body.appendChild(r[0]);for(var o=["sticky","-webkit-sticky"],i=0;i<o.length;++i)if(r.css({position:o[i],top:0,"z-index":2}),r.css("position")==o[i]){n=o[i];break}return r.remove(),n}function l(e){function t(){+i.now()-r>a?(n=!1,e.triggerHandler("$scrollend")):(e.triggerHandler("$scroll"),o.throttle(t))}var n,r,a=200;e.on("scroll touchmove",function(){n||(n=!0,o.throttle(t),e.triggerHandler("$scrollstart")),e.triggerHandler("$scroll"),r=+i.now()})}var c=s();return function(e,t,n){var r=t.controller("mdContent");if(r)if(c)t.css({position:c,top:0,"z-index":2});else{var o=r.$element.data("$$sticky");o||(o=a(r),r.$element.data("$$sticky",o));var i=o.add(t,n||t.clone());e.$on("$destroy",i)}}}t.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",e),e.$inject=["$document","$mdConstant","$$rAF","$mdUtil"]}(),function(){function e(e,n,r,o){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="md-subheader">  <div class="md-subheader-inner">    <span class="md-subheader-content"></span>  </div></div>',link:function(i,a,s,l,c){function u(e){return t.element(e[0].querySelector(".md-subheader-content"))}r(a);var d=a[0].outerHTML;c(i,function(e){u(a).append(e)}),a.hasClass("md-no-sticky")||c(i,function(t){var r='<div class="md-subheader-wrapper">'+d+"</div>",s=n(r)(i);e(i,a,s),o.nextTick(function(){u(s).append(t)})})}}}t.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",e),e.$inject=["$mdSticky","$compile","$mdTheming","$mdUtil"]}(),function(){function e(e){function t(e){function t(t,o,i){var a=e(i[n]);o.on(r,function(e){t.$apply(function(){a(t,{$event:e})})})}return{restrict:"A",link:t}}var n="md"+e,r="$md."+e.toLowerCase();return t.$inject=["$parse"],t}t.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",e("SwipeLeft")).directive("mdSwipeRight",e("SwipeRight")).directive("mdSwipeUp",e("SwipeUp")).directive("mdSwipeDown",e("SwipeDown"))}(),function(){function e(e,n,r,o,i,a){function s(e,s){var c=l.compile(e,s);return e.addClass("md-dragging"),function(e,s,l,u){function d(t){g&&g(e)||(t.stopPropagation(),s.addClass("md-dragging"),b={width:m.prop("offsetWidth")},s.removeClass("transition"))}function f(e){if(b){e.stopPropagation(),e.srcEvent&&e.srcEvent.preventDefault();var t=e.pointer.distanceX/b.width,n=u.$viewValue?1+t:t;n=Math.max(0,Math.min(1,n)),m.css(r.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),b.translate=n}}function p(e){if(b){e.stopPropagation(),s.removeClass("md-dragging"),m.css(r.CSS.TRANSFORM,"");var t=u.$viewValue?b.translate>.5:b.translate<.5;t&&h(!u.$viewValue),b=null}}function h(t){e.$apply(function(){u.$setViewValue(t),u.$render()})}u=u||n.fakeNgModel();var g=null;null!=l.disabled?g=function(){return!0}:l.ngDisabled&&(g=o(l.ngDisabled));var m=t.element(s[0].querySelector(".md-thumb-container")),v=t.element(s[0].querySelector(".md-container"));i(function(){s.removeClass("md-dragging")}),c(e,s,l,u),g&&e.$watch(g,function(e){s.attr("tabindex",e?-1:0)}),a.register(v,"drag"),v.on("$md.dragstart",d).on("$md.drag",f).on("$md.dragend",p);var b}}var l=e[0];return{restrict:"E",priority:210,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:"?ngModel",compile:s}}t.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",e),e.$inject=["mdCheckboxDirective","$mdUtil","$mdConstant","$parse","$$rAF","$mdGesture"]}(),function(){t.module("material.components.tabs",["material.core","material.components.icon"])}(),function(){function e(e){return{restrict:"E",link:function(t){t.$on("$destroy",function(){e.destroy()})}}}function n(e){function n(e){o=e}function r(e,n,r,i){function a(t,a,s){o=s.textContent||s.content;var u=!i("gt-sm");return a=r.extractElementByName(a,"md-toast",!0),s.onSwipe=function(e){var t=e.type.replace("$md.",""),o=t.replace("swipe","");"down"===o&&-1!=s.position.indexOf("top")&&!u||"up"===o&&(-1!=s.position.indexOf("bottom")||u)||("left"!==o&&"right"!==o||!u)&&(a.addClass("md-"+t),r.nextTick(n.cancel))},s.openClass=l(s.position),s.parent.addClass(s.openClass),r.hasComputedStyle(s.parent,"position","static")&&s.parent.css("position","relative"),a.on(c,s.onSwipe),a.addClass(u?"md-bottom":s.position.split(" ").map(function(e){return"md-"+e}).join(" ")),s.parent&&s.parent.addClass("md-toast-animating"),e.enter(a,s.parent).then(function(){s.parent&&s.parent.removeClass("md-toast-animating")})}function s(t,n,o){return n.off(c,o.onSwipe),o.parent&&o.parent.addClass("md-toast-animating"),o.openClass&&o.parent.removeClass(o.openClass),(1==o.$destroy?n.remove():e.leave(n)).then(function(){o.parent&&o.parent.removeClass("md-toast-animating"),r.hasComputedStyle(o.parent,"position","static")&&o.parent.css("position","")})}function l(e){return i("gt-sm")?"md-toast-open-"+(e.indexOf("top")>-1?"top":"bottom"):"md-toast-open-bottom"}var c="$md.swipeleft $md.swiperight $md.swipeup $md.swipedown";return{onShow:a,onRemove:s,position:"bottom left",themable:!0,hideDelay:3e3,autoWrap:!0,transformTemplate:function(e,n){var r=n.autoWrap&&e&&!/md-toast-content/g.test(e);if(r){var o=t.element(e),i='<div class="md-toast-content">'+o.html()+"</div>";return o.empty().append(i),o[0].outerHTML}return r?'<div class="md-toast-content">'+e+"</div>":e||""}}}var o,i="ok",a=e("$mdToast").setDefaults({methods:["position","hideDelay","capsule","parent"],options:r}).addPreset("simple",{argOption:"textContent",methods:["textContent","content","action","highlightAction","theme","parent"],options:["$mdToast","$mdTheming",function(e,t){var n={template:'<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">  <div class="md-toast-content">    <span flex role="alert" aria-relevant="all" aria-atomic="true">      {{ toast.content }}    </span>    <md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()" ng-class="{\'md-highlight\': toast.highlightAction}">      {{ toast.action }}    </md-button>  </div></md-toast>',controller:["$scope",function(t){var n=this;t.$watch(function(){return o},function(){n.content=o}),this.resolve=function(){e.hide(i)}}],theme:t.defaultTheme(),controllerAs:"toast",bindToController:!0};return n}]}).addMethod("updateTextContent",n).addMethod("updateContent",n);return r.$inject=["$animate","$mdToast","$mdUtil","$mdMedia"],a}t.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",e).provider("$mdToast",n),e.$inject=["$mdToast"],n.$inject=["$$interimElementProvider"]}(),function(){function e(e,n,r,o,i){var a=t.bind(null,r.supplant,"translate3d(0,{0}px,0)");return{template:"",restrict:"E",link:function(s,l,c){function u(){function o(e){var t=l.parent().find("md-content");!g&&t.length&&u(null,t),e=s.$eval(e),e===!1?m():m=f()}function u(e,t){t&&l.parent()[0]===t.parent()[0]&&(g&&g.off("scroll",E),g=t,m=f())}function d(e){var t=e?e.target.scrollTop:b;_(),v=Math.min(h/y,Math.max(0,v+t-b)),l.css(n.CSS.TRANSFORM,a([-v*y])),g.css(n.CSS.TRANSFORM,a([(h-v)*y])),b=t,r.nextTick(function(){var e=l.hasClass("md-whiteframe-z1");e&&!v?i.removeClass(l,"md-whiteframe-z1"):!e&&v&&i.addClass(l,"md-whiteframe-z1")})}function f(){return g?(g.on("scroll",E),g.attr("scroll-shrink","true"),e(p),function(){g.off("scroll",E),g.attr("scroll-shrink","false"),e(p)}):t.noop}function p(){h=l.prop("offsetHeight");var e=-h*y+"px";g.css({"margin-top":e,"margin-bottom":e}),d()}var h,g,m=t.noop,v=0,b=0,y=c.mdShrinkSpeedFactor||.5,E=e.throttle(d),_=r.debounce(p,5e3);s.$on("$mdContentLoaded",u),c.$observe("mdScrollShrink",o),c.ngShow&&s.$watch(c.ngShow,p),c.ngHide&&s.$watch(c.ngHide,p),s.$on("$destroy",m)}o(l),t.isDefined(c.mdScrollShrink)&&u()}}}t.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",e),e.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"]}(),function(){function e(e,n,r,o,i,a,s,l,c){function u(s,u,p){function h(){t.isDefined(p.mdDelay)||(s.delay=d)}function g(){var e="center top";switch(s.direction){case"left":e="right center";break;case"right":e="left center";break;case"top":e="center bottom";break;case"bottom":e="center top"}S.css("transform-origin",e)}function m(){s.$on("$destroy",function(){s.visible=!1,u.remove(),t.element(n).off("resize",k)}),s.$watch("visible",function(e){e?_():w()}),s.$watch("direction",C)}function v(){A.attr("aria-label")||A.text().trim()||A.attr("aria-label",u.text().trim())}function b(){u.detach(),u.attr("role","tooltip")}function y(){function e(){E(!1)}var r=!1,i=t.element(n);if(A[0]&&"MutationObserver"in n){var a=new MutationObserver(function(e){e.forEach(function(e){"disabled"===e.attributeName&&A[0].disabled&&(E(!1),s.$digest())})});a.observe(A[0],{attributes:!0})}var l=function(){c=document.activeElement===A[0]},c=!1;i.on("blur",l),i.on("resize",k),document.addEventListener("scroll",e,!0),s.$on("$destroy",function(){i.off("blur",l),i.off("resize",k),document.removeEventListener("scroll",e,!0),a&&a.disconnect()});var u=function(e){return"focus"===e.type&&c?void(c=!1):(A.on("blur mouseleave touchend touchcancel",d),void E(!0))},d=function(){var e=s.hasOwnProperty("autohide")?s.autohide:p.hasOwnProperty("mdAutohide");(e||r||o[0].activeElement!==A[0])&&(A.off("blur mouseleave touchend touchcancel",d),A.triggerHandler("blur"),E(!1)),r=!1};A.on("mousedown",function(){r=!0}),A.on("focus mouseenter touchstart",u)}function E(t){E.value=!!t,E.queued||(t?(E.queued=!0,e(function(){s.visible=E.value,E.queued=!1},s.delay)):i.nextTick(function(){s.visible=!1}))}function _(){return T.append(u),i.hasComputedStyle(u,"display","none")?(s.visible=!1,void u.detach()):(C(),void t.forEach([u,S],function(e){l.addClass(e,"md-show")}))}function w(){var e=[];t.forEach([u,S],function(t){t.parent()&&t.hasClass("md-show")&&e.push(l.removeClass(t,"md-show"))}),c.all(e).then(function(){s.visible||u.detach()})}function C(){s.visible&&(g(),$())}function $(){function e(e){var t={left:e.left,top:e.top};return t.left=Math.min(t.left,T.prop("scrollWidth")-n.width-f),t.left=Math.max(t.left,f),t.top=Math.min(t.top,T.prop("scrollHeight")-n.height-f),t.top=Math.max(t.top,f),t}function t(e){return"left"===e?{left:r.left-n.width-f,top:r.top+r.height/2-n.height/2}:"right"===e?{left:r.left+r.width+f,top:r.top+r.height/2-n.height/2}:"top"===e?{left:r.left+r.width/2-n.width/2,top:r.top-n.height-f}:{left:r.left+r.width/2-n.width/2,top:r.top+r.height+f}}var n=i.offsetRect(u,T),r=i.offsetRect(A,T),o=t(s.direction),a=u.prop("offsetParent");s.direction?o=e(o):a&&o.top>a.scrollHeight-n.height-f&&(o=e(t("top"))),u.css({left:o.left+"px",top:o.top+"px"})}a(u);var A=i.getParentWithPointerEvents(u),S=t.element(u[0].getElementsByClassName("md-content")[0]),T=t.element(document.body),k=r.throttle(function(){C()});l.pin&&l.pin(u,A),h(),b(),y(),g(),m(),v()}var d=0,f=8;return{restrict:"E",transclude:!0,priority:210,template:'<div class="md-content" ng-transclude></div>',scope:{delay:"=?mdDelay",visible:"=?mdVisible",autohide:"=?mdAutohide",direction:"@?mdDirection"},link:u}}t.module("material.components.tooltip",["material.core"]).directive("mdTooltip",e),e.$inject=["$timeout","$window","$$rAF","$document","$mdUtil","$mdTheming","$rootElement","$animate","$q"]}(),function(){function e(){return{controller:r,template:n,compile:function(e,t){e.addClass("md-virtual-repeat-container").addClass(t.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}function n(e){return'<div class="md-virtual-repeat-scroller"><div class="md-virtual-repeat-sizer"></div><div class="md-virtual-repeat-offsetter">'+e[0].innerHTML+"</div></div>"}function r(e,n,r,o,i,a,s,l){this.$rootScope=o,this.$scope=a,this.$element=s,this.$attrs=l,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0,this.originalSize=null,this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0,this.oldElementSize=null,this.$attrs.mdTopIndex?(this.bindTopIndex=r(this.$attrs.mdTopIndex),this.topIndex=this.bindTopIndex(this.$scope),t.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,t.bind(this,function(e){e!==this.topIndex&&this.scrollToIndex(e)}))):this.topIndex=0,this.scroller=s[0].getElementsByClassName("md-virtual-repeat-scroller")[0],this.sizer=this.scroller.getElementsByClassName("md-virtual-repeat-sizer")[0],this.offsetter=this.scroller.getElementsByClassName("md-virtual-repeat-offsetter")[0];var c=t.bind(this,this.updateSize);e(t.bind(this,function(){c();var e=n.debounce(c,10,null,!1),r=t.element(i);this.size||e(),r.on("resize",e),a.$on("$destroy",function(){r.off("resize",e)}),a.$emit("$md-resize-enable"),a.$on("$md-resize",c)}))}function o(e){return{controller:i,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(t,n){var r=n.mdVirtualRepeat,o=r.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),i=o[1],a=e(o[2]),s=n.mdExtraName&&e(n.mdExtraName);return function(e,t,n,r,o){r[0].link_(r[1],o,i,a,s)}}}}function i(e,n,r,o,i,a,s){this.$scope=e,this.$element=n,this.$attrs=r,this.$browser=o,this.$document=i,this.$rootScope=a,this.$$rAF=s,this.onDemand=r.hasOwnProperty("mdOnDemand"),this.browserCheckUrlChange=o.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.newVisibleEnd=0,this.startIndex=0,this.endIndex=0,this.itemSize=e.$eval(r.mdItemSize)||null,this.isFirstRender=!0,this.isVirtualRepeatUpdating_=!1,this.itemsLength=0,this.unwatchItemSize_=t.noop,this.blocks={},this.pooledBlocks=[]}function a(e){if(!t.isFunction(e.getItemAtIndex)||!t.isFunction(e.getLength))throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength() ");this.model=e}t.module("material.components.virtualRepeat",["material.core","material.components.showHide"]).directive("mdVirtualRepeatContainer",e).directive("mdVirtualRepeat",o);var s=1533917,l=3;r.$inject=["$$rAF","$mdUtil","$parse","$rootScope","$window","$scope","$element","$attrs"],r.prototype.register=function(e){this.repeater=e,t.element(this.scroller).on("scroll wheel touchmove touchend",t.bind(this,this.handleScroll_))},r.prototype.isHorizontal=function(){return this.horizontal},r.prototype.getSize=function(){return this.size},r.prototype.setSize_=function(e){var t=this.getDimensionName_();this.size=e,this.$element[0].style[t]=e+"px"},r.prototype.unsetSize_=function(){this.$element[0].style[this.getDimensionName_()]=this.oldElementSize,this.oldElementSize=null},r.prototype.updateSize=function(){this.originalSize||(this.size=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight,this.handleScroll_(),this.repeater&&this.repeater.containerUpdated())},r.prototype.getScrollSize=function(){return this.scrollSize},r.prototype.getDimensionName_=function(){return this.isHorizontal()?"width":"height"},r.prototype.sizeScroller_=function(e){var t=this.getDimensionName_(),n=this.isHorizontal()?"height":"width";if(this.sizer.innerHTML="",s>e)this.sizer.style[t]=e+"px";else{this.sizer.style[t]="auto",this.sizer.style[n]="auto";var r=Math.floor(e/s),o=document.createElement("div");o.style[t]=s+"px",o.style[n]="1px";for(var i=0;r>i;i++)this.sizer.appendChild(o.cloneNode(!1));o.style[t]=e-r*s+"px",this.sizer.appendChild(o)}},r.prototype.autoShrink_=function(e){var t=Math.max(e,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&t!==this.size){null===this.oldElementSize&&(this.oldElementSize=this.$element[0].style[this.getDimensionName_()]);var n=this.originalSize||this.size;!n||n>t?(this.originalSize||(this.originalSize=this.size),this.setSize_(t)):null!==this.originalSize&&(this.unsetSize_(),this.originalSize=null,this.updateSize()),this.repeater.containerUpdated()}},r.prototype.setScrollSize=function(e){var t=e+this.offsetSize;this.scrollSize!==t&&(this.sizeScroller_(t),this.autoShrink_(t),this.scrollSize=t)},r.prototype.getScrollOffset=function(){return this.scrollOffset},r.prototype.scrollTo=function(e){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=e,this.handleScroll_()},r.prototype.scrollToIndex=function(e){var t=this.repeater.getItemSize(),n=this.repeater.itemsLength;e>n&&(e=n-1),this.scrollTo(t*e)},r.prototype.resetScroll=function(){this.scrollTo(0)},r.prototype.handleScroll_=function(){var e=this.isHorizontal()?this.scroller.scrollLeft:this.scroller.scrollTop;if(!(e===this.scrollOffset||e>this.scrollSize-this.size)){var t=this.repeater.getItemSize();if(t){var n=Math.max(0,Math.floor(e/t)-l),r=(this.isHorizontal()?"translateX(":"translateY(")+n*t+"px)";if(this.scrollOffset=e,this.offsetter.style.webkitTransform=r,this.offsetter.style.transform=r,this.bindTopIndex){var o=Math.floor(e/t);o!==this.topIndex&&o<this.repeater.getItemCount()&&(this.topIndex=o,this.bindTopIndex.assign(this.$scope,o),this.$rootScope.$$phase||this.$scope.$digest())}this.repeater.containerUpdated()}}},o.$inject=["$parse"],i.$inject=["$scope","$element","$attrs","$browser","$document","$rootScope","$$rAF"],i.Block,i.prototype.link_=function(e,n,r,o,i){this.container=e,this.transclude=n,this.repeatName=r,this.rawRepeatListExpression=o,this.extraName=i,this.sized=!1,this.repeatListExpression=t.bind(this,this.repeatListExpression_),this.container.register(this)},i.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var e=this.getBlock_(0);e.element[0].parentNode||this.parentNode.appendChild(e.element[0]),this.itemSize=e.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=e,this.poolBlock_(0),this.itemSize&&this.containerUpdated()}},i.prototype.repeatListExpression_=function(e){var t=this.rawRepeatListExpression(e);if(this.onDemand&&t){var n=new a(t);return n.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),n}return t},i.prototype.containerUpdated=function(){return this.itemSize?(this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e,t){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(e,t)}))),this.updateIndexes_(),void((this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&(this.items instanceof a&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items)))):(this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e){e&&e.length&&this.$$rAF(t.bind(this,this.readItemSize_))})),void(this.$rootScope.$$phase||this.$scope.$digest()))},i.prototype.getItemSize=function(){return this.itemSize},i.prototype.getItemCount=function(){return this.itemsLength},i.prototype.virtualRepeatUpdate_=function(e,n){this.isVirtualRepeatUpdating_=!0;var r=e&&e.length||0,o=!1;if(this.items&&r<this.items.length&&0!==this.container.getScrollOffset())return this.items=e,void this.container.resetScroll();if(r!==this.itemsLength&&(o=!0,this.itemsLength=r),this.items=e,(e!==n||o)&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,o&&this.container.setScrollSize(r*this.itemSize),this.isFirstRender){this.isFirstRender=!1;var i=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):this.container.topIndex;this.container.scrollToIndex(i)}Object.keys(this.blocks).forEach(function(e){var t=parseInt(e,10);(t<this.newStartIndex||t>=this.newEndIndex)&&this.poolBlock_(t)},this),this.$browser.$$checkUrlChange=t.noop;var a,s,l=[],c=[];for(a=this.newStartIndex;a<this.newEndIndex&&null==this.blocks[a];a++)s=this.getBlock_(a),this.updateBlock_(s,a),l.push(s);for(;null!=this.blocks[a];a++)this.updateBlock_(this.blocks[a],a);for(var u=a-1;a<this.newEndIndex;a++)s=this.getBlock_(a),this.updateBlock_(s,a),c.push(s);l.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(l),this.$element[0].nextSibling),c.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(c),this.blocks[u]&&this.blocks[u].element[0].nextSibling),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex,this.isVirtualRepeatUpdating_=!1},i.prototype.getBlock_=function(e){if(this.pooledBlocks.length)return this.pooledBlocks.pop();var n;return this.transclude(t.bind(this,function(t,r){n={element:t,"new":!0,scope:r},this.updateScope_(r,e),this.parentNode.appendChild(t[0])})),n},i.prototype.updateBlock_=function(e,t){this.blocks[t]=e,(e.new||e.scope.$index!==t||e.scope[this.repeatName]!==this.items[t])&&(e.new=!1,this.updateScope_(e.scope,t),this.$rootScope.$$phase||e.scope.$digest())},i.prototype.updateScope_=function(e,t){e.$index=t,e[this.repeatName]=this.items&&this.items[t],this.extraName&&(e[this.extraName(this.$scope)]=this.items[t])},i.prototype.poolBlock_=function(e){this.pooledBlocks.push(this.blocks[e]),this.parentNode.removeChild(this.blocks[e].element[0]),delete this.blocks[e]},i.prototype.domFragmentFromBlocks_=function(e){var t=this.$document[0].createDocumentFragment();return e.forEach(function(e){t.appendChild(e.element[0])}),t},i.prototype.updateIndexes_=function(){var e=this.items?this.items.length:0,t=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(e-t,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newVisibleEnd=this.newStartIndex+t+l,this.newEndIndex=Math.min(e,this.newVisibleEnd),this.newStartIndex=Math.max(0,this.newStartIndex-l)},a.prototype.$$includeIndexes=function(e,t){for(var n=e;t>n;n++)this.hasOwnProperty(n)||(this[n]=this.model.getItemAtIndex(n));this.length=this.model.getLength()}}(),function(){function e(e){function t(t,i,a){var s=parseInt(a.mdWhiteframe,10)||o;(s>r||n>s)&&(e.warn("md-whiteframe attribute value is invalid. It should be a number between "+n+" and "+r,i[0]),s=o),i.addClass("md-whiteframe-"+s+"dp")}var n=1,r=24,o=4;return{restrict:"A",link:t}}t.module("material.components.whiteframe",["material.core"]).directive("mdWhiteframe",e),e.$inject=["$log"]}(),function(){function e(e,r,s,l,c,u,d,f,p,h){function g(){s.initOptionalProperties(e,p,{searchText:null,selectedItem:null}),c(r),y(),s.nextTick(function(){_(),v(),b(),r.on("focus",b)})}function m(){function t(){var e=0,t=r.find("md-input-container");if(t.length){var n=t.find("input");e=t.prop("offsetHeight"),e-=n.prop("offsetTop"),e-=n.prop("offsetHeight"),e+=t.prop("offsetTop")}return e}function n(){var e=dt.scrollContainer.getBoundingClientRect(),t={};e.right>d.right-i&&(t.left=c.right-e.width+"px"),dt.$.scrollContainer.css(t)}if(!dt)return s.nextTick(m,!1,e);var l,c=dt.wrap.getBoundingClientRect(),u=dt.snap.getBoundingClientRect(),d=dt.root.getBoundingClientRect(),f=u.bottom-d.top,h=d.bottom-u.top,g=c.left-d.left,v=c.width,b=t();p.mdFloatingLabel&&(g+=a,v-=2*a),l={left:g+"px",minWidth:v+"px",maxWidth:Math.max(c.right-d.left,d.right-c.left)-i+"px"},f>h&&d.height-c.bottom-i<o?(l.top="auto",l.bottom=h+"px",l.maxHeight=Math.min(o,c.top-d.top-i)+"px"):(l.top=f-b+"px",l.bottom="auto",l.maxHeight=Math.min(o,d.bottom+s.scrollTop()-c.bottom-i)+"px"),dt.$.scrollContainer.css(l),s.nextTick(n,!1)}function v(){dt.$.root.length&&(c(dt.$.scrollContainer),dt.$.scrollContainer.detach(),dt.$.root.append(dt.$.scrollContainer),d.pin&&d.pin(dt.$.scrollContainer,f))}function b(){e.autofocus&&dt.input.focus()}function y(){var n=parseInt(e.delay,10)||0;p.$observe("disabled",function(e){lt.isDisabled=!!e}),p.$observe("required",function(e){lt.isRequired=!!e}),e.$watch("searchText",n?s.debounce(P,n):P),e.$watch("selectedItem",k),t.element(u).on("resize",m),e.$on("$destroy",E)}function E(){if(t.element(u).off("resize",m),dt){var e="ul scroller scrollContainer input".split(" ");t.forEach(e,function(e){dt.$[e].remove()})}}function _(){dt={main:r[0],scrollContainer:r[0].getElementsByClassName("md-virtual-repeat-container")[0],scroller:r[0].getElementsByClassName("md-virtual-repeat-scroller")[0],ul:r.find("ul")[0],input:r.find("input")[0],wrap:r.find("md-autocomplete-wrap")[0],root:document.body},dt.li=dt.ul.getElementsByTagName("li"),dt.snap=w(),dt.$=C(dt)}function w(){for(var e=r;e.length;e=e.parent())if(t.isDefined(e.attr("md-autocomplete-snap")))return e[0];return dt.wrap}function C(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t.element(e[r]));return n}function $(t,n){!t&&n?(m(),dt&&s.nextTick(function(){s.disableScrollAround(dt.ul)},!1,e)):t&&!n&&s.nextTick(function(){s.enableScrolling()},!1,e)}function A(){pt=!0}function S(){gt||dt.input.focus(),pt=!1,lt.hidden=V()}function T(){dt.input.focus()}function k(t,n){t&&H(t).then(function(r){e.searchText=r,M(t,n)}),t!==n&&x()}function x(){t.isFunction(e.itemChange)&&e.itemChange(q(e.selectedItem))}function N(){t.isFunction(e.textChange)&&e.textChange()}function M(e,t){ht.forEach(function(n){n(e,t)})}function I(e){-1==ht.indexOf(e)&&ht.push(e)}function O(e){var t=ht.indexOf(e);-1!=t&&ht.splice(t,1)}function P(t,n){lt.index=U(),t!==n&&H(e.selectedItem).then(function(r){t!==r&&(e.selectedItem=null,t!==n&&N(),Q()?at():(lt.matches=[],B(!1),tt()))})}function R(){gt=!1,pt||(lt.hidden=V())}function D(e){e&&(pt=!1,gt=!1),dt.input.blur()}function L(){gt=!0,t.isString(e.searchText)||(e.searchText=""),lt.hidden=V(),lt.hidden||at()}function F(e){switch(e.keyCode){case l.KEY_CODE.DOWN_ARROW:if(lt.loading)return;e.stopPropagation(),e.preventDefault(),lt.index=Math.min(lt.index+1,lt.matches.length-1),rt(),tt();break;case l.KEY_CODE.UP_ARROW:if(lt.loading)return;e.stopPropagation(),e.preventDefault(),lt.index=lt.index<0?lt.matches.length-1:Math.max(0,lt.index-1),rt(),tt();break;case l.KEY_CODE.TAB:if(S(),lt.hidden||lt.loading||lt.index<0||lt.matches.length<1)return;J(lt.index);break;case l.KEY_CODE.ENTER:if(lt.hidden||lt.loading||lt.index<0||lt.matches.length<1)return;if(Y())return;e.stopPropagation(),e.preventDefault(),J(lt.index);break;case l.KEY_CODE.ESCAPE:e.stopPropagation(),e.preventDefault(),Z(),D(!0)}}function j(){return t.isNumber(e.minLength)?e.minLength:1}function H(t){function n(t){return t&&e.itemText?e.itemText(q(t)):null}return h.when(n(t)||t)}function q(e){if(!e)return n;var t={};return lt.itemName&&(t[lt.itemName]=e),t}function U(){return e.autoselect?0:-1}function B(e){lt.loading!=e&&(lt.loading=e),lt.hidden=V()}function V(){return lt.loading&&!z()?!0:Y()?!0:gt?!W():!0}function W(){return Q()&&z()||it()}function z(){return lt.matches.length?!0:!1}function Y(){return lt.scope.selectedItem?!0:!1}function K(){return lt.loading&&!Y()}function G(){return H(lt.matches[lt.index])}function Q(){return(e.searchText||"").length>=j()}function X(e,t,n){Object.defineProperty(lt,e,{get:function(){return n},set:function(e){var r=n;n=e,t(e,r)}})}function J(t){s.nextTick(function(){H(lt.matches[t]).then(function(e){var t=dt.$.input.controller("ngModel");t.$setViewValue(e),t.$render()}).finally(function(){e.selectedItem=lt.matches[t],B(!1)})},!1)}function Z(){B(!0),lt.index=0,lt.matches=[],e.searchText="",J(-1);var t=document.createEvent("CustomEvent");t.initCustomEvent("input",!0,!0,{value:e.searchText}),dt.input.dispatchEvent(t),dt.input.focus()}function et(n){function r(t){ft[i]=t,(n||"")===(e.searchText||"")&&(lt.matches=t,lt.hidden=V(),e.selectOnMatch&&st(),tt(),m())}var o=e.$parent.$eval(ut),i=n.toLowerCase();t.isArray(o)?r(o):o&&(B(!0),vt=!0,s.nextTick(function(){o.success&&o.success(r),o.then&&o.then(r),o.finally&&o.finally(function(){B(!1),vt=!1})},!0,e))}function tt(){G().then(function(e){lt.messages=[nt(),e]})}function nt(){if(mt===lt.matches.length)return"";switch(mt=lt.matches.length,lt.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+lt.matches.length+" matches available."}}function rt(){if(dt.li[0]){var e=dt.li[0].offsetHeight,t=e*lt.index,n=t+e,r=dt.scroller.clientHeight,o=dt.scroller.scrollTop;o>t?ot(t):n>o+r&&ot(n-r)}}function ot(e){dt.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(e)}function it(){var e=(lt.scope.searchText||"").length;return lt.hasNotFound&&!z()&&(!lt.loading||vt)&&e>=j()&&(gt||pt)&&!Y()}function at(){var t=e.searchText||"",n=t.toLowerCase();
!e.noCache&&ft[n]?(lt.matches=ft[n],tt()):et(t),lt.hidden=V()}function st(){var t=e.searchText,n=lt.matches,r=n[0];1===n.length&&H(r).then(function(e){t==e&&J(0)})}var lt=this,ct=e.itemsExpr.split(/ in /i),ut=ct[1],dt=null,ft={},pt=!1,ht=[],gt=!1,mt=0,vt=!1;return X("hidden",$,!0),lt.scope=e,lt.parent=e.$parent,lt.itemName=ct[0],lt.matches=[],lt.loading=!1,lt.hidden=!0,lt.index=null,lt.messages=[],lt.id=s.nextUid(),lt.isDisabled=null,lt.isRequired=null,lt.hasNotFound=!1,lt.keydown=F,lt.blur=R,lt.focus=L,lt.clear=Z,lt.select=J,lt.listEnter=A,lt.listLeave=S,lt.mouseUp=T,lt.getCurrentDisplayValue=G,lt.registerSelectedItemWatcher=I,lt.unregisterSelectedItemWatcher=O,lt.notFoundVisible=it,lt.loadingIsVisible=K,g()}t.module("material.components.autocomplete").controller("MdAutocompleteCtrl",e);var r=41,o=5.5*r,i=8,a=2;e.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q"]}(),function(){function e(){return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",selectOnMatch:"=?mdSelectOnMatch",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",inputId:"@?mdInputId"},link:function(e,t,n,r){r.hasNotFound=t.hasNotFoundTemplate,delete t.hasNotFoundTemplate},template:function(e,t){function n(){var t=e.find("md-item-template").detach(),n=t.length?t.html():e.html();return t.length||e.empty(),"<md-autocomplete-parent-scope md-autocomplete-replace>"+n+"</md-autocomplete-parent-scope>"}function r(){var t=e.find("md-not-found").detach(),n=t.length?t.html():"";return n?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()"                         md-autocomplete-parent-scope>'+n+"</li>":""}function o(){return t.mdFloatingLabel?'            <md-input-container flex ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  '+(null!=l?'tabindex="'+l+'"':"")+'                  id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="$mdAutocompleteCtrl.isRequired"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="$mdAutocompleteCtrl.isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur()"                  ng-focus="$mdAutocompleteCtrl.focus()"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+s+"</div>            </md-input-container>":'            <input flex type="search"                '+(null!=l?'tabindex="'+l+'"':"")+'                id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur()"                ng-focus="$mdAutocompleteCtrl.focus()"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>            <button                type="button"                tabindex="-1"                ng-if="$mdAutocompleteCtrl.scope.searchText && !$mdAutocompleteCtrl.isDisabled"                ng-click="$mdAutocompleteCtrl.clear()">              <md-icon md-svg-icon="md-close"></md-icon>              <span class="md-visually-hidden">Clear</span>            </button>                '}var i=r(),a=n(),s=e.html(),l=t.tabindex;return e.hasNotFoundTemplate=!!i,t.hasOwnProperty("tabindex")||e.attr("tabindex","-1"),'        <md-autocomplete-wrap            layout="row"            ng-class="{ \'md-whiteframe-z1\': !floatingLabel, \'md-menu-showing\': !$mdAutocompleteCtrl.hidden }"            role="listbox">          '+o()+'          <md-progress-linear              class="'+(t.mdFloatingLabel?"md-inline":"")+'"              ng-if="$mdAutocompleteCtrl.loadingIsVisible()"              md-mode="indeterminate"></md-progress-linear>          <md-virtual-repeat-container              md-auto-shrink              md-auto-shrink-min="1"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()"              ng-hide="$mdAutocompleteCtrl.hidden"              class="md-autocomplete-suggestions-container md-whiteframe-z1"              ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"              role="presentation">            <ul class="md-autocomplete-suggestions"                ng-class="::menuClass"                id="ul-{{$mdAutocompleteCtrl.id}}">              <li md-virtual-repeat="item in $mdAutocompleteCtrl.matches"                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"                  ng-click="$mdAutocompleteCtrl.select($index)"                  md-extra-name="$mdAutocompleteCtrl.itemName">                  '+a+"                  </li>"+i+'            </ul>          </md-virtual-repeat-container>        </md-autocomplete-wrap>        <aria-status            class="md-visually-hidden"            role="status"            aria-live="assertive">          <p ng-repeat="message in $mdAutocompleteCtrl.messages track by $index" ng-if="message">{{message}}</p>        </aria-status>'}}}t.module("material.components.autocomplete").directive("mdAutocomplete",e)}(),function(){function e(e,t){function n(e,n,r){return function(e,n){function o(n,r){s[r]=e[n],e.$watch(n,function(e){t.nextTick(function(){s[r]=e})})}function i(){var t=!1,n=!1;e.$watch(function(){n||t||(t=!0,e.$$postDigest(function(){n||s.$digest(),t=n=!1}))}),s.$watch(function(){n=!0})}var a=e.$mdAutocompleteCtrl,s=a.parent.$new(),l=a.itemName;o("$index","$index"),o("item",l),i(),r(s,function(e){n.after(e)})}}return{restrict:"AE",compile:n,terminal:!0,transclude:"element"}}t.module("material.components.autocomplete").directive("mdAutocompleteParentScope",e),e.$inject=["$compile","$mdUtil"]}(),function(){function e(e,n,r){function o(o,i){var s=null,l=null,c=r.mdHighlightFlags||"",u=e.$watch(function(e){return{term:o(e),unsafeText:i(e)}},function(e,r){(null===s||e.unsafeText!==r.unsafeText)&&(s=t.element("<div>").text(e.unsafeText).html()),(null===l||e.term!==r.term)&&(l=a(e.term,c)),n.html(s.replace(l,'<span class="highlight">$&</span>'))},!0);n.on("$destroy",u)}function i(e){return e&&e.replace(/[\\\^\$\*\+\?\.\(\)\|\{}\[\]]/g,"\\$&")}function a(e,t){var n="";return t.indexOf("^")>=1&&(n+="^"),n+=e,t.indexOf("$")>=1&&(n+="$"),new RegExp(i(n),t.replace(/[\$\^]/g,""))}this.init=o}t.module("material.components.autocomplete").controller("MdHighlightCtrl",e),e.$inject=["$scope","$element","$attrs"]}(),function(){function e(e,t){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(n,r){var o=t(r.mdHighlightText),i=e(n.html());return function(e,t,n,r){r.init(o,i)}}}}t.module("material.components.autocomplete").directive("mdHighlightText",e),e.$inject=["$interpolate","$parse"]}(),function(){function e(e,r){function o(n){return n.append(r.processTemplate(i)),function(n,r,o,i){r.addClass("md-chip"),e(r),i&&t.element(r[0].querySelector(".md-chip-content")).on("blur",function(){i.selectedChip=-1})}}var i=r.processTemplate(n);return{restrict:"E",require:"^?mdChips",compile:o}}t.module("material.components.chips").directive("mdChip",e);var n='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>';e.$inject=["$mdTheming","$mdUtil"]}(),function(){function e(e){function t(t,n,r,o){n.on("click",function(){t.$apply(function(){o.removeChip(t.$$replacedScope.$index)})}),e(function(){n.attr({tabindex:-1,"aria-hidden":!0}),n.find("button").attr("tabindex","-1")})}return{restrict:"A",require:"^mdChips",scope:!1,link:t}}t.module("material.components.chips").directive("mdChipRemove",e),e.$inject=["$timeout"]}(),function(){function e(e){function t(t,n,r){var o=t.$parent.$mdChipsCtrl,i=o.parent.$new(!1,o.parent);i.$$replacedScope=t,i.$chip=t.$chip,i.$index=t.$index,i.$mdChipsCtrl=o;var a=o.$scope.$eval(r.mdChipTransclude);n.html(a),e(n.contents())(i)}return{restrict:"EA",terminal:!0,link:t,scope:!1}}t.module("material.components.chips").directive("mdChipTransclude",e),e.$inject=["$compile"]}(),function(){function e(e,t,n,r,o){this.$timeout=o,this.$mdConstant=t,this.$scope=e,this.parent=e.$parent,this.$log=n,this.$element=r,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.hasAutocomplete=!1,this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useOnAppend=!1,this.useTransformChip=!1,this.useOnAdd=!1,this.useOnRemove=!1,this.useOnSelect=!1}t.module("material.components.chips").controller("MdChipsCtrl",e),e.$inject=["$scope","$mdConstant","$log","$element","$timeout"],e.prototype.inputKeydown=function(e){var t=this.getChipBuffer();if(!(this.hasAutocomplete&&e.isDefaultPrevented&&e.isDefaultPrevented())){if(e.keyCode===this.$mdConstant.KEY_CODE.BACKSPACE){if(t)return;return e.preventDefault(),e.stopPropagation(),void(this.items.length&&this.selectAndFocusChipSafe(this.items.length-1))}if((!this.separatorKeys||this.separatorKeys.length<1)&&(this.separatorKeys=[this.$mdConstant.KEY_CODE.ENTER]),-1!==this.separatorKeys.indexOf(e.keyCode)){if(this.hasAutocomplete&&this.requireMatch||!t)return;e.preventDefault(),this.appendChip(t),this.resetChipBuffer()}}},e.prototype.chipKeydown=function(e){if(!this.getChipBuffer())switch(e.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;e.preventDefault(),this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:e.preventDefault(),this.selectedChip<0&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:e.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;e.preventDefault(),this.onFocus()}},e.prototype.getPlaceholder=function(){var e=this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder);return e?this.secondaryPlaceholder:this.placeholder},e.prototype.removeAndSelectAdjacentChip=function(e){var n=this.getAdjacentChipIndex(e);this.removeChip(e),this.$timeout(t.bind(this,function(){this.selectAndFocusChipSafe(n)}))},e.prototype.resetSelectedChip=function(){this.selectedChip=-1},e.prototype.getAdjacentChipIndex=function(e){var t=this.items.length-1;return 0==t?-1:e==t?e-1:e},e.prototype.appendChip=function(e){if(this.useTransformChip&&this.transformChip){var n=this.transformChip({$chip:e});t.isDefined(n)&&(e=n)}if(t.isObject(e)){var r=this.items.some(function(n){return t.equals(e,n)});if(r)return}if(!(null==e||this.items.indexOf(e)+1)){var o=this.items.push(e);this.useOnAdd&&this.onAdd&&this.onAdd({$chip:e,$index:o})}},e.prototype.useOnAppendExpression=function(){this.$log.warn("md-on-append is deprecated; please use md-transform-chip or md-on-add instead"),this.useTransformChip&&this.transformChip||(this.useTransformChip=!0,this.transformChip=this.onAppend)},e.prototype.useTransformChipExpression=function(){this.useTransformChip=!0},e.prototype.useOnAddExpression=function(){this.useOnAdd=!0},e.prototype.useOnRemoveExpression=function(){this.useOnRemove=!0},e.prototype.useOnSelectExpression=function(){this.useOnSelect=!0},e.prototype.getChipBuffer=function(){return this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer},e.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},e.prototype.removeChip=function(e){var t=this.items.splice(e,1);t&&t.length&&this.useOnRemove&&this.onRemove&&this.onRemove({$chip:t[0],$index:e})},e.prototype.removeChipAndFocusInput=function(e){this.removeChip(e),this.onFocus()},e.prototype.selectAndFocusChipSafe=function(e){return this.items.length?e===this.items.length?this.onFocus():(e=Math.max(e,0),e=Math.min(e,this.items.length-1),this.selectChip(e),void this.focusChip(e)):(this.selectChip(-1),void this.onFocus())},e.prototype.selectChip=function(e){e>=-1&&e<=this.items.length?(this.selectedChip=e,this.useOnSelect&&this.onSelect&&this.onSelect({$chip:this.items[this.selectedChip]})):this.$log.warn("Selected Chip index out of bounds; ignoring.")},e.prototype.selectAndFocusChip=function(e){this.selectChip(e),-1!=e&&this.focusChip(e)},e.prototype.focusChip=function(e){this.$element[0].querySelector('md-chip[index="'+e+'"] .md-chip-content').focus()},e.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.items=t.ngModelCtrl.$viewValue}},e.prototype.onFocus=function(){var e=this.$element[0].querySelector("input");e&&e.focus(),this.resetSelectedChip()},e.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.resetSelectedChip()},e.prototype.onInputBlur=function(){this.inputHasFocus=!1},e.prototype.configureUserInput=function(e){this.userInputElement=e;var n=e.controller("ngModel");n!=this.ngModelCtrl&&(this.userInputNgModelCtrl=n);var r=this.$scope,o=this,i=function(e,n){r.$evalAsync(t.bind(o,n,e))};e.attr({tabindex:0}).on("keydown",function(e){i(e,o.inputKeydown)}).on("focus",function(e){i(e,o.onInputFocus)}).on("blur",function(e){i(e,o.onInputBlur)})},e.prototype.configureAutocomplete=function(e){e&&(this.hasAutocomplete=!0,e.registerSelectedItemWatcher(t.bind(this,function(e){e&&(this.appendChip(e),this.resetChipBuffer())})),this.$element.find("input").on("focus",t.bind(this,this.onInputFocus)).on("blur",t.bind(this,this.onInputBlur)))},e.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0}}(),function(){function e(e,t,a,s,l){function c(n,r){function o(e){if(r.ngModel){var t=i[0].querySelector(e);return t&&t.outerHTML}}var i=r.$mdUserTemplate;r.$mdUserTemplate=null;var c=o("md-chips>*[md-chip-remove]")||d.remove,u=o("md-chips>md-chip-template")||d.default,f=o("md-chips>md-autocomplete")||o("md-chips>input")||d.input,p=i.find("md-chip");return i[0].querySelector("md-chip-template>*[md-chip-remove]")&&s.warn("invalid placement of md-chip-remove within md-chip-template."),function(n,o,i,s){t.initOptionalProperties(n,r),e(o);var h=s[0];if(h.chipContentsTemplate=u,h.chipRemoveTemplate=c,h.chipInputTemplate=f,o.attr({"aria-hidden":!0,tabindex:-1}).on("focus",function(){h.onFocus()}),r.ngModel&&(h.configureNgModel(o.controller("ngModel")),i.mdTransformChip&&h.useTransformChipExpression(),i.mdOnAppend&&h.useOnAppendExpression(),i.mdOnAdd&&h.useOnAddExpression(),i.mdOnRemove&&h.useOnRemoveExpression(),i.mdOnSelect&&h.useOnSelectExpression(),f!=d.input&&n.$watch("$mdChipsCtrl.readonly",function(e){e||t.nextTick(function(){0===f.indexOf("<md-autocomplete")&&h.configureAutocomplete(o.find("md-autocomplete").controller("mdAutocomplete")),h.configureUserInput(o.find("input"))})}),t.nextTick(function(){var e=o.find("input");e&&e.toggleClass("md-input",!0)})),p.length>0){var g=a(p.clone())(n.$parent);l(function(){o.find("md-chips-wrap").prepend(g)})}}}function u(){return{chips:t.processTemplate(n),input:t.processTemplate(r),"default":t.processTemplate(o),remove:t.processTemplate(i)}}var d=u();return{template:function(e,t){return t.$mdUserTemplate=e.clone(),d.chips},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:c,scope:{readonly:"=readonly",placeholder:"@",secondaryPlaceholder:"@",transformChip:"&mdTransformChip",onAppend:"&mdOnAppend",onAdd:"&mdOnAdd",onRemove:"&mdOnRemove",onSelect:"&mdOnSelect",deleteHint:"@",deleteButtonLabel:"@",separatorKeys:"=?mdSeparatorKeys",requireMatch:"=?mdRequireMatch"}}}t.module("material.components.chips").directive("mdChips",e);var n='      <md-chips-wrap          ng-if="!$mdChipsCtrl.readonly || $mdChipsCtrl.items.length > 0"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus(), \'md-readonly\': !$mdChipsCtrl.ngModelCtrl }"          class="md-chips">        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index, \'md-readonly\': $mdChipsCtrl.readonly}">          <div class="md-chip-content"              tabindex="-1"              aria-hidden="true"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div ng-if="!$mdChipsCtrl.readonly"               class="md-chip-remove-container"               md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl"            class="md-chip-input-container"            md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',r='        <input            class="md-input"            tabindex="0"            placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            aria-label="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',o="      <span>{{$chip}}</span>",i='      <button          class="md-chip-remove"          ng-if="!$mdChipsCtrl.readonly"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          aria-hidden="true"          tabindex="-1">        <md-icon md-svg-icon="md-close"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>';e.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout"]}(),function(){function e(){this.selectedItem=null,this.searchText=""}t.module("material.components.chips").controller("MdContactChipsCtrl",e),e.prototype.queryContact=function(e){var n=this.contactQuery({$query:e});return this.filterSelected?n.filter(t.bind(this,this.filterSelectedContacts)):n},e.prototype.itemName=function(e){return e[this.contactName]},e.prototype.filterSelectedContacts=function(e){return-1==this.contacts.indexOf(e)}}(),function(){function e(e,t){function r(n,r){return function(n,o){t.initOptionalProperties(n,r),e(o),o.attr("tabindex","-1")}}return{template:function(){return n},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:r,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch",highlightFlags:"@?mdHighlightFlags"}}}t.module("material.components.chips").directive("mdContactChips",e);var n='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.itemName(item)"              md-no-cache="true"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}"                  ng-if="item[$mdContactChipsCtrl.contactImage]" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText"                    md-highlight-flags="{{$mdContactChipsCtrl.highlightFlags}}">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}"                  ng-if="$chip[$mdContactChipsCtrl.contactImage]" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>';e.$inject=["$mdTheming","$mdUtil"]}(),function(){function e(e,t,n){function r(r,o,i){function a(){var e=o.parent();return e.attr("aria-label")||e.text()?!0:e.parent().attr("aria-label")||e.parent().text()?!0:!1}function s(){r.svgIcon||r.svgSrc||(r.fontIcon&&o.addClass("md-font "+r.fontIcon),o.addClass(e.fontSet(r.fontSet)))}t(o),s();var l=i.alt||r.fontIcon||r.svgIcon||o.text(),c=i.$normalize(i.$attr.mdSvgIcon||i.$attr.mdSvgSrc||"");i["aria-label"]||(""==l||a()?o.text()||n.expect(o,"aria-hidden","true"):(n.expect(o,"aria-label",l),n.expect(o,"role","img"))),c&&i.$observe(c,function(t){o.empty(),t&&e(t).then(function(e){o.empty(),o.append(e)})})}return{scope:{fontSet:"@mdFontSet",fontIcon:"@mdFontIcon",svgIcon:"@mdSvgIcon",svgSrc:"@mdSvgSrc"},restrict:"E",link:r}}t.module("material.components.icon").directive("mdIcon",["$mdIcon","$mdTheming","$mdAria",e])}(),function(){function e(){}function n(e,t){this.url=e,this.viewBoxSize=t||o.defaultViewBoxSize}function r(e,n,r,o,i){function a(t){if(t=t||"",v[t])return r.when(v[t].clone());if(b.test(t))return d(t).then(l(t));-1==t.indexOf(":")&&(t="$default:"+t);var n=e[t]?c:u;return n(t).then(l(t))}function s(n){var r=t.isUndefined(n)||!(n&&n.length);if(r)return e.defaultFontSet;var o=n;return t.forEach(e.fontSets,function(e){e.alias==n&&(o=e.fontSet||o)}),o}function l(t){return function(n){return v[t]=p(n)?n:new h(n,e[t]),v[t].clone()}}function c(t){var n=e[t];return d(n.url).then(function(e){return new h(e,n)})}function u(t){function n(e){var n=t.slice(t.lastIndexOf(":")+1),r=e.querySelector("#"+n);return r?new h(r,s):i(t)}function i(e){var t="icon "+e+" not found";return o.warn(t),r.reject(t||e)}var a=t.substring(0,t.lastIndexOf(":"))||"$default",s=e[a];return s?d(s.url).then(n):i(t)}function d(e){return n.get(e,{cache:i}).then(function(e){return t.element("<div>").append(e.data).find("svg")[0]}).catch(f)}function f(e){var n=t.isString(e)?e:e.message||e.data||e.statusText;return o.warn(n),r.reject(n)}function p(e){return t.isDefined(e.element)&&t.isDefined(e.config)}function h(e,n){e&&"svg"!=e.tagName&&(e=t.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e)[0]),e.getAttribute("xmlns")||e.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=e,this.config=n,this.prepare()}function g(){var n=this.config?this.config.viewBoxSize:e.defaultViewBoxSize;t.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+n+" "+n},function(e,t){this.element.setAttribute(t,e)},this)}function m(){return this.element.cloneNode(!0)}var v={},b=/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?/i;return h.prototype={clone:m,prepare:g},a.fontSet=s,a}t.module("material.components.icon").provider("$mdIcon",e);var o={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};e.prototype={icon:function(e,t,r){return-1==e.indexOf(":")&&(e="$default:"+e),o[e]=new n(t,r),this},iconSet:function(e,t,r){return o[e]=new n(t,r),this},defaultIconSet:function(e,t){var r="$default";return o[r]||(o[r]=new n(e,t)),o[r].viewBoxSize=t||o.defaultViewBoxSize,this},defaultViewBoxSize:function(e){return o.defaultViewBoxSize=e,this},fontSet:function(e,t){return o.fontSets.push({alias:e,fontSet:t||e}),this},defaultFontSet:function(e){return o.defaultFontSet=e?e:"",this},defaultIconSize:function(e){return o.defaultIconSize=e,this},preloadIcons:function(e){var t=this,n=[{id:"md-tabs-arrow",url:"md-tabs-arrow.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><polygon points="15.4,7.4 14,6 8,12 14,18 15.4,16.6 10.8,12 "/></g></svg>'},{id:"md-close",url:"md-close.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"/></g></svg>'},{id:"md-cancel",url:"md-cancel.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M12 2c-5.53 0-10 4.47-10 10s4.47 10 10 10 10-4.47 10-10-4.47-10-10-10zm5 13.59l-1.41 1.41-3.59-3.59-3.59 3.59-1.41-1.41 3.59-3.59-3.59-3.59 1.41-1.41 3.59 3.59 3.59-3.59 1.41 1.41-3.59 3.59 3.59 3.59z"/></g></svg>'},{id:"md-menu",url:"md-menu.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>'},{id:"md-toggle-arrow",url:"md-toggle-arrow-svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 48 48"><path d="M24 16l-12 12 2.83 2.83 9.17-9.17 9.17 9.17 2.83-2.83z"/><path d="M0 0h48v48h-48z" fill="none"/></svg>'},{id:"md-calendar",url:"md-calendar.svg",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/></svg>'}];n.forEach(function(n){t.icon(n.id,n.url),e.put(n.url,n.svg)})},$get:["$http","$q","$log","$templateCache",function(e,t,n,i){return this.preloadIcons(i),r(o,e,t,n,i)}]},r.$inject=["config","$http","$q","$log","$templateCache"]}(),function(){function e(e,r,o,i,a,s,l,c){var u,d,f=this;this.nestLevel=parseInt(r.mdNestLevel,10)||0,this.init=function(n,r){r=r||{},u=n,d=o[0].querySelector("[ng-click],[ng-mouseenter]"),d.setAttribute("aria-expanded","false"),this.isInMenuBar=r.isInMenuBar,this.nestedMenus=a.nodesToArray(u[0].querySelectorAll(".md-nested-menu")),u.on("$mdInterimElementRemove",function(){f.isOpen=!1});var s="menu_container_"+a.nextUid();u.attr("id",s),t.element(d).attr({"aria-owns":s,"aria-haspopup":"true"}),i.$on("$destroy",this.disableHoverListener),u.on("$destroy",function(){e.destroy()})};var p,h,g=[];this.enableHoverListener=function(){g.push(l.$on("$mdMenuOpen",function(e,t){u[0].contains(t[0])&&(f.currentlyOpenMenu=t.controller("mdMenu"),f.isAlreadyOpening=!1,f.currentlyOpenMenu.registerContainerProxy(f.triggerContainerProxy.bind(f)))})),g.push(l.$on("$mdMenuClose",function(e,t){u[0].contains(t[0])&&(f.currentlyOpenMenu=n)})),h=t.element(a.nodesToArray(u[0].children[0].children)),h.on("mouseenter",f.handleMenuItemHover),h.on("mouseleave",f.handleMenuItemMouseLeave)},this.disableHoverListener=function(){for(;g.length;)g.shift()();h&&h.off("mouseenter",f.handleMenuItemHover),h&&h.off("mouseleave",f.handleMenuMouseLeave)},this.handleMenuItemHover=function(e){if(!f.isAlreadyOpening){var n=e.target.querySelector("md-menu")||a.getClosest(e.target,"MD-MENU");p=s(function(){if(n&&(n=t.element(n).controller("mdMenu")),f.currentlyOpenMenu&&f.currentlyOpenMenu!=n){var e=f.nestLevel+1;f.currentlyOpenMenu.close(!0,{closeTo:e})}else n&&!n.isOpen&&n.open&&(f.isAlreadyOpening=!0,n.open())},n?100:250);var r=e.currentTarget.querySelector("button:not([disabled])");r&&r.focus()}},this.handleMenuItemMouseLeave=function(){p&&(s.cancel(p),p=n)},this.open=function(t){t&&t.stopPropagation(),t&&t.preventDefault(),f.isOpen||(f.enableHoverListener(),f.isOpen=!0,d=d||(t?t.target:o[0]),d.setAttribute("aria-expanded","true"),i.$emit("$mdMenuOpen",o),e.show({scope:i,mdMenuCtrl:f,nestLevel:f.nestLevel,element:u,target:d,preserveElement:!0,parent:"body"}).finally(function(){d.setAttribute("aria-expanded","false"),f.disableHoverListener()}))},i.$mdOpenMenu=this.open,i.$watch(function(){return f.isOpen},function(e){e?(u.attr("aria-hidden","false"),o[0].classList.add("md-open"),t.forEach(f.nestedMenus,function(e){e.classList.remove("md-open")})):(u.attr("aria-hidden","true"),o[0].classList.remove("md-open")),i.$mdMenuIsOpen=f.isOpen}),this.focusMenuContainer=function(){var e=u[0].querySelector("[md-menu-focus-target]");e||(e=u[0].querySelector(".md-button")),e.focus()},this.registerContainerProxy=function(e){this.containerProxy=e},this.triggerContainerProxy=function(e){this.containerProxy&&this.containerProxy(e)},this.destroy=function(){return f.isOpen?e.destroy():c.when(!1)},this.close=function(n,r){if(f.isOpen){f.isOpen=!1;var a=t.extend({},r,{skipFocus:n});if(i.$emit("$mdMenuClose",o,a),e.hide(null,r),!n){var s=f.restoreFocusTo||o.find("button")[0];s instanceof t.element&&(s=s[0]),s&&s.focus()}}},this.positionMode=function(){var e=(r.mdPositionMode||"target").split(" ");return 1==e.length&&e.push(e[0]),{left:e[0],top:e[1]}},this.offsets=function(){var e=(r.mdOffset||"0 0").split(" ").map(parseFloat);if(2==e.length)return{left:e[0],top:e[1]};if(1==e.length)return{top:e[0],left:e[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")}}t.module("material.components.menu").controller("mdMenuCtrl",e),e.$inject=["$mdMenu","$attrs","$element","$scope","$mdUtil","$timeout","$rootScope","$q"]}(),function(){function e(e){function r(n){n.addClass("md-menu");var r=n.children()[0];if(r.hasAttribute("ng-click")||(r=r.querySelector("[ng-click],[ng-mouseenter]")||r),!r||"MD-BUTTON"!=r.nodeName&&"BUTTON"!=r.nodeName||r.hasAttribute("type")||r.setAttribute("type","button"),2!=n.children().length)throw Error(i+"Expected two children elements.");r&&r.setAttribute("aria-haspopup","true");var a=n[0].querySelectorAll("md-menu"),s=parseInt(n[0].getAttribute("md-nest-level"),10)||0;return a&&t.forEach(e.nodesToArray(a),function(e){e.hasAttribute("md-position-mode")||e.setAttribute("md-position-mode","cascade"),e.classList.add("md-nested-menu"),e.setAttribute("md-nest-level",s+1)}),o}function o(e,r,o,i){var a=i[0],s=i[1]!=n,l=t.element('<div class="md-open-menu-container md-whiteframe-z2"></div>'),c=r.children()[1];c.hasAttribute("role")||c.setAttribute("role","menu"),l.append(c),r.on("$destroy",function(){l.remove()}),r.append(l),l[0].style.display="none",a.init(l,{isInMenuBar:s})}var i="Invalid HTML for md-menu: ";
return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:r}}t.module("material.components.menu").directive("mdMenu",e),e.$inject=["$mdUtil"]}(),function(){function e(e){function r(e,r,a,s,l,c,u,d,f){function p(n,r,o){return o.nestLevel?t.noop:(o.disableParentScroll&&!e.getClosest(o.target,"MD-DIALOG")?o.restoreScroll=e.disableScrollAround(o.element,o.parent):o.disableParentScroll=!1,o.hasBackdrop&&(o.backdrop=e.createBackdrop(n,"md-menu-backdrop md-click-catcher"),f.enter(o.backdrop,s[0].body)),function(){o.backdrop&&o.backdrop.remove(),o.disableParentScroll&&o.restoreScroll()})}function h(e,t,n){function r(){return d(t,{addClass:"md-leave"}).start()}function o(){t.removeClass("md-active"),b(t,n),n.alreadyOpen=!1}return n.cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),n.$destroy===!0?o():r().then(o)}function g(n,o,i){function s(){return i.parent.append(o),o[0].style.display="",c(function(e){var t=y(o,i);o.removeClass("md-leave"),d(o,{addClass:"md-active",from:E.toCss(t),to:E.toCss({transform:""})}).start().then(e)})}function f(){if(!i.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");t.extend(i,{alreadyOpen:!1,isRemoved:!1,target:t.element(i.target),parent:t.element(i.parent),menuContentEl:t.element(o[0].querySelector("md-menu-content"))})}function h(){var e=function(e,t){return u.throttle(function(){if(!i.isRemoved){var n=y(e,t);e.css(E.toCss(n))}})}(o,i);return l.addEventListener("resize",e),l.addEventListener("orientationchange",e),function(){l.removeEventListener("resize",e),l.removeEventListener("orientationchange",e)}}function g(){function t(t){var n;switch(t.keyCode){case a.KEY_CODE.ESCAPE:i.mdMenuCtrl.close(!1,{closeAll:!0}),n=!0;break;case a.KEY_CODE.UP_ARROW:m(t,i.menuContentEl,i,-1)||i.nestLevel||i.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.DOWN_ARROW:m(t,i.menuContentEl,i,1)||i.nestLevel||i.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.LEFT_ARROW:i.nestLevel?i.mdMenuCtrl.close():i.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.RIGHT_ARROW:var r=e.getClosest(t.target,"MD-MENU");r&&r!=i.parent[0]?t.target.click():i.mdMenuCtrl.triggerContainerProxy(t),n=!0}n&&(t.preventDefault(),t.stopImmediatePropagation())}function r(e){e.preventDefault(),e.stopPropagation(),n.$apply(function(){i.mdMenuCtrl.close(!0,{closeAll:!0})})}function s(t){function r(){n.$apply(function(){i.mdMenuCtrl.close(!0,{closeAll:!0})})}function o(e,t){if(!e)return!1;for(var n,r=0;n=t[r];++r)for(var o,i=[n,"data-"+n,"x-"+n],a=0;o=i[a];++a)if(e.hasAttribute(o))return!0;return!1}var a=t.target;do{if(a==i.menuContentEl[0])return;if((o(a,["ng-click","ng-href","ui-sref"])||"BUTTON"==a.nodeName||"MD-BUTTON"==a.nodeName)&&!o(a,["md-prevent-menu-close"])){var s=e.getClosest(a,"MD-MENU");a.hasAttribute("disabled")||s&&s!=i.parent[0]||r();break}}while(a=a.parentNode)}o.addClass("md-clickable"),i.backdrop&&i.backdrop.on("click",r),i.menuContentEl.on("keydown",t),i.menuContentEl[0].addEventListener("click",s,!0);var l=i.menuContentEl[0].querySelector("[md-menu-focus-target]");if(!l){var c=i.menuContentEl[0].firstElementChild;l=c&&(c.querySelector(".md-button:not([disabled])")||c.firstElementChild)}return l&&l.focus(),function(){o.removeClass("md-clickable"),i.backdrop&&i.backdrop.off("click",r),i.menuContentEl.off("keydown",t),i.menuContentEl[0].removeEventListener("click",s,!0)}}return f(i),r.inherit(i.menuContentEl,i.target),i.cleanupResizing=h(),i.hideBackdrop=p(n,o,i),s().then(function(e){return i.alreadyOpen=!0,i.cleanupInteraction=g(),e})}function m(t,n,r,o){for(var i,a=e.getClosest(t.target,"MD-MENU-ITEM"),s=e.nodesToArray(n[0].children),l=s.indexOf(a),c=l+o;c>=0&&c<s.length;c+=o){var u=s[c].querySelector(".md-button");if(i=v(u))break}return i}function v(e){return e&&-1!=e.getAttribute("tabindex")?(e.focus(),s[0].activeElement==e):void 0}function b(e,t){t.preserveElement?o(e).style.display="none":o(e).parentNode===o(t.parent)&&o(t.parent).removeChild(o(e))}function y(t,r){function o(e){e.top=Math.max(Math.min(e.top,b.bottom-u.offsetHeight),b.top),e.left=Math.max(Math.min(e.left,b.right-u.offsetWidth),b.left)}function a(){for(var e=0;e<d.children.length;++e)if("none"!=l.getComputedStyle(d.children[e]).display)return d.children[e]}var c,u=t[0],d=t[0].firstElementChild,f=d.getBoundingClientRect(),p=s[0].body,h=p.getBoundingClientRect(),g=l.getComputedStyle(d),m=r.target[0].querySelector("[md-menu-origin]")||r.target[0],v=m.getBoundingClientRect(),b={left:h.left+i,top:Math.max(h.top,0)+i,bottom:Math.max(h.bottom,Math.max(h.top,0)+h.height)-i,right:h.right-i},y={top:0,left:0,right:0,bottom:0},E={top:0,left:0,right:0,bottom:0},_=r.mdMenuCtrl.positionMode();("target"==_.top||"target"==_.left||"target-right"==_.left)&&(c=a(),c&&(c=c.firstElementChild||c,c=c.querySelector("[md-menu-align-target]")||c,y=c.getBoundingClientRect(),E={top:parseFloat(u.style.top||0),left:parseFloat(u.style.left||0)}));var w={},C="top ";switch(_.top){case"target":w.top=E.top+v.top-y.top;break;case"cascade":w.top=v.top-parseFloat(g.paddingTop)-m.style.top;break;case"bottom":w.top=v.top+v.height;break;default:throw new Error('Invalid target mode "'+_.top+'" specified for md-menu on Y axis.')}switch(_.left){case"target":w.left=E.left+v.left-y.left,C+="left";break;case"target-right":w.left=v.right-f.width+(f.right-y.right),C+="right";break;case"cascade":var $=v.right+f.width<b.right;w.left=$?v.right-m.style.left:v.left-m.style.left-f.width,C+=$?"left":"right";break;case"left":w.left=v.left,C+="left";break;default:throw new Error('Invalid target mode "'+_.left+'" specified for md-menu on X axis.')}var A=r.mdMenuCtrl.offsets();w.top+=A.top,w.left+=A.left,o(w);var S=Math.round(100*Math.min(v.width/u.offsetWidth,1))/100,T=Math.round(100*Math.min(v.height/u.offsetHeight,1))/100;return{top:Math.round(w.top),left:Math.round(w.left),transform:r.alreadyOpen?n:e.supplant("scale({0},{1})",[S,T]),transformOrigin:C}}var E=e.dom.animator;return{parent:"body",onShow:g,onRemove:h,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,skipHide:!0,themable:!0}}function o(e){return e instanceof t.element&&(e=e[0]),e}var i=8;return r.$inject=["$mdUtil","$mdTheming","$mdConstant","$document","$window","$q","$$rAF","$animateCss","$animate"],e("$mdMenu").setDefaults({methods:["target"],options:r})}t.module("material.components.menu").provider("$mdMenu",e),e.$inject=["$$interimElementProvider"]}(),function(){function e(e,n,o,i,a,s,l,c){this.$element=o,this.$attrs=i,this.$mdConstant=a,this.$mdUtil=l,this.$document=s,this.$scope=e,this.$rootScope=n,this.$timeout=c;var u=this;t.forEach(r,function(e){u[e]=t.bind(u,u[e])})}t.module("material.components.menuBar").controller("MenuBarController",e);var r=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];e.$inject=["$scope","$rootScope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"],e.prototype.init=function(){var e=this.$element,t=this.$mdUtil,r=this.$scope,o=this,i=[];e.on("keydown",this.handleKeyDown),this.parentToolbar=t.getClosest(e,"MD-TOOLBAR"),i.push(this.$rootScope.$on("$mdMenuOpen",function(t,n){-1!=o.getMenus().indexOf(n[0])&&(e[0].classList.add("md-open"),n[0].classList.add("md-open"),o.currentlyOpenMenu=n.controller("mdMenu"),o.currentlyOpenMenu.registerContainerProxy(o.handleKeyDown),o.enableOpenOnHover())})),i.push(this.$rootScope.$on("$mdMenuClose",function(r,i,a){var s=o.getMenus();if(-1!=s.indexOf(i[0])&&(e[0].classList.remove("md-open"),i[0].classList.remove("md-open")),e[0].contains(i[0])){for(var l=i[0];l&&-1==s.indexOf(l);)l=t.getClosest(l,"MD-MENU",!0);l&&(a.skipFocus||l.querySelector("button:not([disabled])").focus(),o.currentlyOpenMenu=n,o.disableOpenOnHover(),o.setKeyboardMode(!0))}})),r.$on("$destroy",function(){for(;i.length;)i.shift()()}),this.setKeyboardMode(!0)},e.prototype.setKeyboardMode=function(e){e?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")},e.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){this.openOnHoverEnabled=!0;var e;(e=this.parentToolbar)&&(e.dataset.mdRestoreStyle=e.getAttribute("style"),e.style.position="relative",e.style.zIndex=100),t.element(this.getMenus()).on("mouseenter",this.handleMenuHover)}},e.prototype.handleMenuHover=function(e){this.setKeyboardMode(!1),this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(e)},e.prototype.disableOpenOnHover=function(){if(this.openOnHoverEnabled){this.openOnHoverEnabled=!1;var e;(e=this.parentToolbar)&&(e.style.cssText=e.dataset.mdRestoreStyle||""),t.element(this.getMenus()).off("mouseenter",this.handleMenuHover)}},e.prototype.scheduleOpenHoveredMenu=function(e){var n=t.element(e.currentTarget),r=n.controller("mdMenu");this.setKeyboardMode(!1),this.scheduleOpenMenu(r)},e.prototype.scheduleOpenMenu=function(e){var t=this,r=this.$timeout;e!=t.currentlyOpenMenu&&(r.cancel(t.pendingMenuOpen),t.pendingMenuOpen=r(function(){t.pendingMenuOpen=n,t.currentlyOpenMenu&&t.currentlyOpenMenu.close(!0,{closeAll:!0}),e.open()},200,!1))},e.prototype.handleKeyDown=function(e){var n=this.$mdConstant.KEY_CODE,r=this.currentlyOpenMenu,o=r&&r.isOpen;this.setKeyboardMode(!0);var i,a,s;switch(e.keyCode){case n.DOWN_ARROW:r?r.focusMenuContainer():this.openFocusedMenu(),i=!0;break;case n.UP_ARROW:r&&r.close(),i=!0;break;case n.LEFT_ARROW:a=this.focusMenu(-1),o&&(s=t.element(a).controller("mdMenu"),this.scheduleOpenMenu(s)),i=!0;break;case n.RIGHT_ARROW:a=this.focusMenu(1),o&&(s=t.element(a).controller("mdMenu"),this.scheduleOpenMenu(s)),i=!0}i&&(e&&e.preventDefault&&e.preventDefault(),e&&e.stopImmediatePropagation&&e.stopImmediatePropagation())},e.prototype.focusMenu=function(e){var t=this.getMenus(),n=this.getFocusedMenuIndex();-1==n&&(n=this.getOpenMenuIndex());var r=!1;return-1==n?n=0:(0>e&&n>0||e>0&&n<t.length-e)&&(n+=e,r=!0),r?(t[n].querySelector("button").focus(),t[n]):void 0},e.prototype.openFocusedMenu=function(){var e=this.getFocusedMenu();e&&t.element(e).controller("mdMenu").open()},e.prototype.getMenus=function(){var e=this.$element;return this.$mdUtil.nodesToArray(e[0].children).filter(function(e){return"MD-MENU"==e.nodeName})},e.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]},e.prototype.getFocusedMenuIndex=function(){var e=this.$mdUtil,t=e.getClosest(this.$document[0].activeElement,"MD-MENU");if(!t)return-1;var n=this.getMenus().indexOf(t);return n},e.prototype.getOpenMenuIndex=function(){for(var e=this.getMenus(),t=0;t<e.length;++t)if(e[t].classList.contains("md-open"))return t;return-1}}(),function(){function e(e,n){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(r,o){return o.ariaRole||r[0].setAttribute("role","menubar"),t.forEach(r[0].children,function(n){if("MD-MENU"==n.nodeName){n.hasAttribute("md-position-mode")||(n.setAttribute("md-position-mode","left bottom"),n.querySelector("button,a").setAttribute("role","menuitem"));var r=e.nodesToArray(n.querySelectorAll("md-menu-content"));t.forEach(r,function(e){e.classList.add("md-menu-bar-menu"),e.classList.add("md-dense"),e.hasAttribute("width")||e.setAttribute("width",5)})}}),function(e,t,r,o){n(e,t),o.init()}}}}t.module("material.components.menuBar").directive("mdMenuBar",e),e.$inject=["$mdUtil","$mdTheming"]}(),function(){function e(){return{restrict:"E",compile:function(e,t){t.role||e[0].setAttribute("role","separator")}}}t.module("material.components.menuBar").directive("mdMenuDivider",e)}(),function(){function e(e,t,n){this.$element=t,this.$attrs=n,this.$scope=e}t.module("material.components.menuBar").controller("MenuItemController",e),e.$inject=["$scope","$element","$attrs"],e.prototype.init=function(e){var t=this.$element,n=this.$attrs;this.ngModel=e,("checkbox"==n.type||"radio"==n.type)&&(this.mode=n.type,this.iconEl=t[0].children[0],this.buttonEl=t[0].children[1],e&&this.initClickListeners())},e.prototype.clearNgAria=function(){var e=this.$element[0],n=["role","tabindex","aria-invalid","aria-checked"];t.forEach(n,function(t){e.removeAttribute(t)})},e.prototype.initClickListeners=function(){function e(){if("radio"==s){var e=a.ngValue?i.$eval(a.ngValue):a.value;return o.$modelValue==e}return o.$modelValue}function n(e){e?c.off("click",u):c.on("click",u)}var r=this,o=this.ngModel,i=this.$scope,a=this.$attrs,s=(this.$element,this.mode);this.handleClick=t.bind(this,this.handleClick);var l=this.iconEl,c=t.element(this.buttonEl),u=this.handleClick;a.$observe("disabled",n),n(a.disabled),o.$render=function(){r.clearNgAria(),e()?(l.style.display="",c.attr("aria-checked","true")):(l.style.display="none",c.attr("aria-checked","false"))},i.$$postDigest(o.$render)},e.prototype.handleClick=function(){var e,t=this.mode,n=this.ngModel,r=this.$attrs;"checkbox"==t?e=!n.$modelValue:"radio"==t&&(e=r.ngValue?this.$scope.$eval(r.ngValue):r.value),n.$setViewValue(e),n.$render()}}(),function(){function e(){return{require:["mdMenuItem","?ngModel"],priority:210,compile:function(e,n){function r(n,r,o){o=o||e,o instanceof t.element&&(o=o[0]),o.hasAttribute(n)||o.setAttribute(n,r)}function o(t){if(e[0].hasAttribute(t)){var n=e[0].getAttribute(t);a[0].setAttribute(t,n),e[0].removeAttribute(t)}}if("checkbox"==n.type||"radio"==n.type){var i=e[0].textContent,a=t.element('<md-button type="button"></md-button>');a.html(i),a.attr("tabindex","0"),e.html(""),e.append(t.element('<md-icon md-svg-icon="check"></md-icon>')),e.append(a),e[0].classList.add("md-indent"),r("role","checkbox"==n.type?"menuitemcheckbox":"menuitemradio",a),t.forEach(["ng-disabled"],o)}else r("role","menuitem",e[0].querySelector("md-button,button,a"));return function(e,t,n,r){var o=r[0],i=r[1];o.init(i)}},controller:"MenuItemController"}}t.module("material.components.menuBar").directive("mdMenuItem",e)}(),function(){function e(){function e(e,r,o,i){if(i){var a=i.getTabElementIndex(r),s=n(r,"md-tab-body").remove(),l=n(r,"md-tab-label").remove(),c=i.insertTab({scope:e,parent:e.$parent,index:a,element:r,template:s.html(),label:l.html()},a);e.select=e.select||t.noop,e.deselect=e.deselect||t.noop,e.$watch("active",function(e){e&&i.select(c.getIndex())}),e.$watch("disabled",function(){i.refreshIndex()}),e.$watch(function(){return i.getTabElementIndex(r)},function(e){c.index=e,i.updateTabOrder()}),e.$on("$destroy",function(){i.removeTab(c)})}}function n(e,n){for(var r=e[0].children,o=0,i=r.length;i>o;o++){var a=r[o];if(a.tagName===n.toUpperCase())return t.element(a)}return t.element()}return{require:"^?mdTabs",terminal:!0,compile:function(r,o){var i=n(r,"md-tab-label"),a=n(r,"md-tab-body");if(0==i.length&&(i=t.element("<md-tab-label></md-tab-label>"),o.label?i.text(o.label):i.append(r.contents()),0==a.length)){var s=r.contents().detach();a=t.element("<md-tab-body></md-tab-body>"),a.append(s)}return r.append(i),a.html()&&r.append(a),e},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"}}}t.module("material.components.tabs").directive("mdTab",e)}(),function(){function e(){return{require:"^?mdTabs",link:function(e,t,n,r){r&&r.attachRipple(e,t)}}}t.module("material.components.tabs").directive("mdTabItem",e)}(),function(){function e(){return{terminal:!0}}t.module("material.components.tabs").directive("mdTabLabel",e)}(),function(){function e(e){return{restrict:"A",compile:function(t,n){var r=e(n.mdTabScroll,null,!0);return function(e,t){t.on("mousewheel",function(t){e.$apply(function(){r(e,{$event:t})})})}}}}t.module("material.components.tabs").directive("mdTabScroll",e),e.$inject=["$parse"]}(),function(){function e(e,r,o,i,a,s,l,c,u,d){function f(){lt.selectedIndex=lt.selectedIndex||0,p(),g(),h(),d(r),s.nextTick(function(){rt(),Z(),ot(),lt.tabs[lt.selectedIndex]&&lt.tabs[lt.selectedIndex].scope.select(),pt=!0,Y()})}function p(){var e=c.$mdTabsTemplate,n=t.element(ut.data);n.html(e),u(n.contents())(lt.parent),delete c.$mdTabsTemplate}function h(){t.element(o).on("resize",P),e.$on("$destroy",b)}function g(){e.$watch("$mdTabsCtrl.selectedIndex",S)}function m(e,t){var n=c.$normalize("md-"+e);t&&z(e,t),c.$observe(n,function(t){lt[e]=t})}function v(e,t){function n(t){lt[e]="false"!==t}var r=c.$normalize("md-"+e);t&&z(e,t),c.hasOwnProperty(r)&&n(c[r]),c.$observe(r,n)}function b(){ft=!0,t.element(o).off("resize",P)}function y(){t.element(ut.wrapper).toggleClass("md-stretch-tabs",U()),ot()}function E(){lt.shouldCenterTabs=B()}function _(e,n){e!==n&&(t.forEach(ut.tabs,function(t){t.style.maxWidth=e+"px"}),s.nextTick(lt.updateInkBarStyles))}function w(e,t){e!==t&&(lt.maxTabWidth=G(),lt.shouldCenterTabs=B(),s.nextTick(function(){lt.maxTabWidth=G(),Z(lt.selectedIndex)}))}function C(e){r[e?"removeClass":"addClass"]("md-no-tab-content")}function $(n){var r=lt.shouldCenterTabs?"":"-"+n+"px";t.element(ut.paging).css(i.CSS.TRANSFORM,"translate3d("+r+", 0, 0)"),e.$broadcast("$mdTabsPaginationChanged")}function A(e,t){e!==t&&ut.tabs[e]&&(Z(),J())}function S(t,n){t!==n&&(lt.selectedIndex=W(t),lt.lastSelectedIndex=n,lt.updateInkBarStyles(),rt(),Z(t),e.$broadcast("$mdTabsChanged"),lt.tabs[n]&&lt.tabs[n].scope.deselect(),lt.tabs[t]&&lt.tabs[t].scope.select())}function T(e){var t=r[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(t,e[0])}function k(){k.watcher||(k.watcher=e.$watch(function(){s.nextTick(function(){k.watcher&&r.prop("offsetParent")&&(k.watcher(),k.watcher=null,P())},!1)}))}function x(e){switch(e.keyCode){case i.KEY_CODE.LEFT_ARROW:e.preventDefault(),X(-1,!0);break;case i.KEY_CODE.RIGHT_ARROW:e.preventDefault(),X(1,!0);break;case i.KEY_CODE.SPACE:case i.KEY_CODE.ENTER:e.preventDefault(),ct||(lt.selectedIndex=lt.focusIndex)}lt.lastClick=!1}function N(e){ct||(lt.focusIndex=lt.selectedIndex=e),lt.lastClick=!0,s.nextTick(function(){lt.tabs[e].element.triggerHandler("click")},!1)}function M(e){lt.shouldPaginate&&(e.preventDefault(),lt.offsetLeft=at(lt.offsetLeft-e.wheelDelta))}function I(){var e,t,n=ut.canvas.clientWidth,r=n+lt.offsetLeft;for(e=0;e<ut.tabs.length&&(t=ut.tabs[e],!(t.offsetLeft+t.offsetWidth>r));e++);lt.offsetLeft=at(t.offsetLeft)}function O(){var e,t;for(e=0;e<ut.tabs.length&&(t=ut.tabs[e],!(t.offsetLeft+t.offsetWidth>=lt.offsetLeft));e++);lt.offsetLeft=at(t.offsetLeft+t.offsetWidth-ut.canvas.clientWidth)}function P(){lt.lastSelectedIndex=lt.selectedIndex,lt.offsetLeft=at(lt.offsetLeft),s.nextTick(function(){lt.updateInkBarStyles(),Y()})}function R(e){t.element(ut.inkBar).toggleClass("ng-hide",e)}function D(e){r.toggleClass("md-dynamic-height",e)}function L(e){if(!ft){var t=lt.selectedIndex,n=lt.tabs.splice(e.getIndex(),1)[0];nt(),lt.selectedIndex===t&&(n.scope.deselect(),lt.tabs[lt.selectedIndex]&&lt.tabs[lt.selectedIndex].scope.select()),s.nextTick(function(){Y(),lt.offsetLeft=at(lt.offsetLeft)})}}function F(e,n){var r=pt,o={getIndex:function(){return lt.tabs.indexOf(i)},isActive:function(){return this.getIndex()===lt.selectedIndex},isLeft:function(){return this.getIndex()<lt.selectedIndex},isRight:function(){return this.getIndex()>lt.selectedIndex},shouldRender:function(){return!lt.noDisconnect||this.isActive()},hasFocus:function(){return!lt.lastClick&&lt.hasFocus&&this.getIndex()===lt.focusIndex},id:s.nextUid()},i=t.extend(o,e);return t.isDefined(n)?lt.tabs.splice(n,0,i):lt.tabs.push(i),et(),tt(),s.nextTick(function(){Y(),r&&lt.autoselect&&s.nextTick(function(){s.nextTick(function(){N(lt.tabs.indexOf(i))})})}),i}function j(){var e={};return e.wrapper=r[0].getElementsByTagName("md-tabs-wrapper")[0],e.data=r[0].getElementsByTagName("md-tab-data")[0],e.canvas=e.wrapper.getElementsByTagName("md-tabs-canvas")[0],e.paging=e.canvas.getElementsByTagName("md-pagination-wrapper")[0],e.tabs=e.paging.getElementsByTagName("md-tab-item"),e.dummies=e.canvas.getElementsByTagName("md-dummy-tab"),e.inkBar=e.paging.getElementsByTagName("md-ink-bar")[0],e.contentsWrapper=r[0].getElementsByTagName("md-tabs-content-wrapper")[0],e.contents=e.contentsWrapper.getElementsByTagName("md-tab-content"),e}function H(){return lt.offsetLeft>0}function q(){var e=ut.tabs[ut.tabs.length-1];return e&&e.offsetLeft+e.offsetWidth>ut.canvas.clientWidth+lt.offsetLeft}function U(){switch(lt.stretchTabs){case"always":return!0;case"never":return!1;default:return!lt.shouldPaginate&&o.matchMedia("(max-width: 600px)").matches}}function B(){return lt.centerTabs&&!lt.shouldPaginate}function V(){if(lt.noPagination||!pt)return!1;var e=r.prop("clientWidth");return t.forEach(j().dummies,function(t){e-=t.offsetWidth}),0>e}function W(e){if(-1===e)return-1;var t,n,r=Math.max(lt.tabs.length-e,e);for(t=0;r>=t;t++){if(n=lt.tabs[e+t],n&&n.scope.disabled!==!0)return n.getIndex();if(n=lt.tabs[e-t],n&&n.scope.disabled!==!0)return n.getIndex()}return e}function z(e,t,n){Object.defineProperty(lt,e,{get:function(){return n},set:function(e){var r=n;n=e,t&&t(e,r)}})}function Y(){U()||K(),lt.maxTabWidth=G(),lt.shouldPaginate=V()}function K(){var e=1;t.forEach(j().dummies,function(t){e+=Math.ceil(t.getBoundingClientRect().width)}),t.element(ut.paging).css("width",e+"px")}function G(){return r.prop("clientWidth")}function Q(){var e=lt.tabs[lt.selectedIndex],t=lt.tabs[lt.focusIndex];lt.tabs=lt.tabs.sort(function(e,t){return e.index-t.index}),lt.selectedIndex=lt.tabs.indexOf(e),lt.focusIndex=lt.tabs.indexOf(t)}function X(e,t){var n,r=t?"focusIndex":"selectedIndex",o=lt[r];for(n=o+e;lt.tabs[n]&&lt.tabs[n].scope.disabled;n+=e);lt.tabs[n]&&(lt[r]=n)}function J(){j().dummies[lt.focusIndex].focus()}function Z(e){if(null==e&&(e=lt.focusIndex),ut.tabs[e]&&!lt.shouldCenterTabs){var t=ut.tabs[e],n=t.offsetLeft,r=t.offsetWidth+n;lt.offsetLeft=Math.max(lt.offsetLeft,at(r-ut.canvas.clientWidth+64)),lt.offsetLeft=Math.min(lt.offsetLeft,at(n))}}function et(){dt.forEach(function(e){s.nextTick(e)}),dt=[]}function tt(){var e=!1;t.forEach(lt.tabs,function(t){t.template&&(e=!0)}),lt.hasContent=e}function nt(){lt.selectedIndex=W(lt.selectedIndex),lt.focusIndex=W(lt.focusIndex)}function rt(){if(!lt.dynamicHeight)return r.css("height","");if(!lt.tabs.length)return dt.push(rt);var e=ut.contents[lt.selectedIndex],t=e?e.offsetHeight:0,o=ut.wrapper.offsetHeight,i=t+o,a=r.prop("clientHeight");if(a!==i){"bottom"===r.attr("md-align-tabs")&&(a-=o,i-=o,r.attr("md-border-bottom")!==n&&++a),ct=!0;var c={height:a+"px"},u={height:i+"px"};r.css(c),l(r,{from:c,to:u,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done(function(){r.css({transition:"none",height:""}),s.nextTick(function(){r.css("transition","")}),ct=!1})}}function ot(){if(!ut.tabs[lt.selectedIndex])return void t.element(ut.inkBar).css({left:"auto",right:"auto"});if(!lt.tabs.length)return dt.push(lt.updateInkBarStyles);if(!r.prop("offsetParent"))return k();var e,n=lt.selectedIndex,o=ut.paging.offsetWidth,i=ut.tabs[n],a=i.offsetLeft,l=o-a-i.offsetWidth;lt.shouldCenterTabs&&(e=Array.prototype.slice.call(ut.tabs).reduce(function(e,t){return e+t.offsetWidth},0),o>e&&s.nextTick(ot,!1)),it(),t.element(ut.inkBar).css({left:a+"px",right:l+"px"})}function it(){var e=lt.selectedIndex,n=lt.lastSelectedIndex,r=t.element(ut.inkBar);t.isNumber(n)&&r.toggleClass("md-left",n>e).toggleClass("md-right",e>n)}function at(e){if(!ut.tabs.length||!lt.shouldPaginate)return 0;var t=ut.tabs[ut.tabs.length-1],n=t.offsetLeft+t.offsetWidth;return e=Math.max(0,e),e=Math.min(n-ut.canvas.clientWidth,e)}function st(e,n){var r={colorElement:t.element(ut.inkBar)};a.attach(e,n,r)}var lt=this,ct=!1,ut=j(),dt=[],ft=!1,pt=!1;m("stretchTabs",y),z("focusIndex",A,lt.selectedIndex||0),z("offsetLeft",$,0),z("hasContent",C,!1),z("maxTabWidth",_,G()),z("shouldPaginate",w,!1),v("noInkBar",R),v("dynamicHeight",D),v("noPagination"),v("swipeContent"),v("noDisconnect"),v("autoselect"),v("centerTabs",E,!1),v("enableDisconnect"),lt.scope=e,lt.parent=e.$parent,lt.tabs=[],lt.lastSelectedIndex=null,lt.hasFocus=!1,lt.lastClick=!0,lt.shouldCenterTabs=B(),lt.updatePagination=s.debounce(Y,100),lt.redirectFocus=J,lt.attachRipple=st,lt.insertTab=F,lt.removeTab=L,lt.select=N,lt.scroll=M,lt.nextPage=I,lt.previousPage=O,lt.keydown=x,lt.canPageForward=q,lt.canPageBack=H,lt.refreshIndex=nt,lt.incrementIndex=X,lt.getTabElementIndex=T,lt.updateInkBarStyles=s.debounce(ot,100),lt.updateTabOrder=s.debounce(Q,100),f()}t.module("material.components.tabs").controller("MdTabsController",e),e.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animateCss","$attrs","$compile","$mdTheming"]}(),function(){function e(){return{scope:{selectedIndex:"=?mdSelected"},template:function(e,t){return t.$mdTabsTemplate=e.html(),'<md-tabs-wrapper> <md-tab-data></md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$mdTabsCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.previousPage()"> <md-icon md-svg-icon="md-tabs-arrow"></md-icon> </md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$mdTabsCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.nextPage()"> <md-icon md-svg-icon="md-tabs-arrow"></md-icon> </md-next-button> <md-tabs-canvas tabindex="{{ $mdTabsCtrl.hasFocus ? -1 : 0 }}" aria-activedescendant="tab-item-{{$mdTabsCtrl.tabs[$mdTabsCtrl.focusIndex].id}}" ng-focus="$mdTabsCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $mdTabsCtrl.shouldPaginate, \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" ng-keydown="$mdTabsCtrl.keydown($event)" role="tablist"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" md-tab-scroll="$mdTabsCtrl.scroll($event)"> <md-tab-item tabindex="-1" class="md-tab" ng-repeat="tab in $mdTabsCtrl.tabs" role="tab" aria-controls="tab-content-{{::tab.id}}" aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$mdTabsCtrl.select(tab.getIndex())" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$mdTabsCtrl.nextPage()" md-swipe-right="$mdTabsCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-tab-item> <md-ink-bar></md-ink-bar> </md-pagination-wrapper> <div class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" id="tab-item-{{::tab.id}}" role="tab" aria-controls="tab-content-{{::tab.id}}" aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-repeat="tab in $mdTabsCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-dummy-tab> </div> </md-tabs-canvas> </md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0"> <md-tab-content id="tab-content-{{::tab.id}}" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)" md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)" ng-if="$mdTabsCtrl.hasContent" ng-repeat="(index, tab) in $mdTabsCtrl.tabs" ng-class="{ \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div> </md-tab-content> </md-tabs-content-wrapper>'},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}t.module("material.components.tabs").directive("mdTabs",e)}(),function(){function e(e,t){function n(n,r,o,i){function a(){n.$watch("connected",function(e){e===!1?s():l()}),n.$on("$destroy",l)}function s(){i.enableDisconnect&&t.disconnectScope(c)}function l(){i.enableDisconnect&&t.reconnectScope(c)}if(i){var c=i.enableDisconnect?n.compileScope.$new():n.compileScope;return r.html(n.template),e(r.contents())(c),r.on("DOMSubtreeModified",function(){i.updatePagination(),i.updateInkBarStyles()}),t.nextTick(a)}}return{restrict:"A",link:n,scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}t.module("material.components.tabs").directive("mdTabsTemplate",e),e.$inject=["$compile","$mdUtil"]}(),function(){t.module("material.core").constant("$MD_THEME_CSS","md-autocomplete.md-THEME_NAME-theme {  background: '{{background-50}}'; }  md-autocomplete.md-THEME_NAME-theme[disabled] {    background: '{{background-100}}'; }  md-autocomplete.md-THEME_NAME-theme button md-icon path {    fill: '{{background-600}}'; }  md-autocomplete.md-THEME_NAME-theme button:after {    background: '{{background-600-0.3}}'; }.md-autocomplete-suggestions-container.md-THEME_NAME-theme {  background: '{{background-50}}'; }  .md-autocomplete-suggestions-container.md-THEME_NAME-theme li {    color: '{{background-900}}'; }    .md-autocomplete-suggestions-container.md-THEME_NAME-theme li .highlight {      color: '{{background-600}}'; }    .md-autocomplete-suggestions-container.md-THEME_NAME-theme li:hover, .md-autocomplete-suggestions-container.md-THEME_NAME-theme li.selected {      background: '{{background-200}}'; }md-backdrop {  background-color: '{{background-900-0.0}}'; }  md-backdrop.md-opaque.md-THEME_NAME-theme {    background-color: '{{background-900-1.0}}'; }md-bottom-sheet.md-THEME_NAME-theme {  background-color: '{{background-50}}';  border-top-color: '{{background-300}}'; }  md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item {    color: '{{foreground-1}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    background-color: '{{background-50}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    color: '{{foreground-1}}'; }a.md-button.md-THEME_NAME-theme:not([disabled]):hover,.md-button.md-THEME_NAME-theme:not([disabled]):hover {  background-color: '{{background-500-0.2}}'; }a.md-button.md-THEME_NAME-theme:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme:not([disabled]).md-focused {  background-color: '{{background-500-0.2}}'; }a.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover,.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover {  background-color: transparent; }a.md-button.md-THEME_NAME-theme.md-fab,.md-button.md-THEME_NAME-theme.md-fab {  background-color: '{{accent-color}}';  color: '{{accent-contrast}}'; }  a.md-button.md-THEME_NAME-theme.md-fab md-icon,  .md-button.md-THEME_NAME-theme.md-fab md-icon {    color: '{{accent-contrast}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {    background-color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {    background-color: '{{accent-A700}}'; }a.md-button.md-THEME_NAME-theme.md-primary,.md-button.md-THEME_NAME-theme.md-primary {  color: '{{primary-color}}'; }  a.md-button.md-THEME_NAME-theme.md-primary.md-raised, a.md-button.md-THEME_NAME-theme.md-primary.md-fab,  .md-button.md-THEME_NAME-theme.md-primary.md-raised,  .md-button.md-THEME_NAME-theme.md-primary.md-fab {    color: '{{primary-contrast}}';    background-color: '{{primary-color}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon {      color: '{{primary-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover {      background-color: '{{primary-color}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused {      background-color: '{{primary-600}}'; }  a.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon,  .md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon {    color: '{{primary-color}}'; }a.md-button.md-THEME_NAME-theme.md-fab,.md-button.md-THEME_NAME-theme.md-fab {  background-color: '{{accent-color}}';  color: '{{accent-contrast}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon {    color: '{{accent-contrast}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {    background-color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,  .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {    background-color: '{{accent-A700}}'; }a.md-button.md-THEME_NAME-theme.md-raised,.md-button.md-THEME_NAME-theme.md-raised {  color: '{{background-900}}';  background-color: '{{background-50}}'; }  a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) md-icon,  .md-button.md-THEME_NAME-theme.md-raised:not([disabled]) md-icon {    color: '{{background-900}}'; }  a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover,  .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover {    background-color: '{{background-50}}'; }  a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused,  .md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused {    background-color: '{{background-200}}'; }a.md-button.md-THEME_NAME-theme.md-warn,.md-button.md-THEME_NAME-theme.md-warn {  color: '{{warn-color}}'; }  a.md-button.md-THEME_NAME-theme.md-warn.md-raised, a.md-button.md-THEME_NAME-theme.md-warn.md-fab,  .md-button.md-THEME_NAME-theme.md-warn.md-raised,  .md-button.md-THEME_NAME-theme.md-warn.md-fab {    color: '{{warn-contrast}}';    background-color: '{{warn-color}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon {      color: '{{warn-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover {      background-color: '{{warn-color}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused {      background-color: '{{warn-700}}'; }  a.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon,  .md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon {    color: '{{warn-color}}'; }a.md-button.md-THEME_NAME-theme.md-accent,.md-button.md-THEME_NAME-theme.md-accent {  color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme.md-accent.md-raised, a.md-button.md-THEME_NAME-theme.md-accent.md-fab,  .md-button.md-THEME_NAME-theme.md-accent.md-raised,  .md-button.md-THEME_NAME-theme.md-accent.md-fab {    color: '{{accent-contrast}}';    background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon,    .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover,    .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused,    .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused {      background-color: '{{accent-700}}'; }  a.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon,  .md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon {    color: '{{accent-color}}'; }a.md-button.md-THEME_NAME-theme[disabled], a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], a.md-button.md-THEME_NAME-theme.md-accent[disabled], a.md-button.md-THEME_NAME-theme.md-warn[disabled],.md-button.md-THEME_NAME-theme[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-accent[disabled],.md-button.md-THEME_NAME-theme.md-warn[disabled] {  color: '{{foreground-3}}' !important;  cursor: default; }  a.md-button.md-THEME_NAME-theme[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon,  .md-button.md-THEME_NAME-theme[disabled] md-icon,  .md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon,  .md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon,  .md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon,  .md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon {    color: '{{foreground-3}}'; }a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled] {  background-color: '{{foreground-4}}'; }a.md-button.md-THEME_NAME-theme[disabled],.md-button.md-THEME_NAME-theme[disabled] {  background-color: transparent; }md-card.md-THEME_NAME-theme {  background-color: '{{background-color}}';  border-radius: 2px; }  md-card.md-THEME_NAME-theme .md-card-image {    border-radius: 2px 2px 0 0; }  md-card.md-THEME_NAME-theme md-card-header md-card-avatar md-icon {    color: '{{background-color}}';    background-color: '{{foreground-3}}'; }  md-card.md-THEME_NAME-theme md-card-header md-card-header-text .md-subhead {    color: '{{foreground-2}}'; }  md-card.md-THEME_NAME-theme md-card-title md-card-title-text:not(:only-child) .md-subhead {    color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme .md-ripple {  color: '{{accent-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme .md-ink-ripple {  color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon {  background-color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after {  border-color: '{{accent-contrast-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple {  color: '{{primary-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ink-ripple {  color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon {  background-color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after {  border-color: '{{primary-contrast-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple {  color: '{{warn-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ink-ripple {  color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon {  background-color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-icon {  border-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon {  background-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-label {  color: '{{foreground-3}}'; }md-chips.md-THEME_NAME-theme .md-chips {  box-shadow: 0 1px '{{background-300}}'; }  md-chips.md-THEME_NAME-theme .md-chips.md-focused {    box-shadow: 0 2px '{{primary-color}}'; }md-chips.md-THEME_NAME-theme .md-chip {  background: '{{background-300}}';  color: '{{background-800}}'; }  md-chips.md-THEME_NAME-theme .md-chip.md-focused {    background: '{{primary-color}}';    color: '{{primary-contrast}}'; }    md-chips.md-THEME_NAME-theme .md-chip.md-focused md-icon {      color: '{{primary-contrast}}'; }md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path {  fill: '{{background-500}}'; }.md-contact-suggestion span.md-contact-email {  color: '{{background-400}}'; }md-content.md-THEME_NAME-theme {  color: '{{foreground-1}}';  background-color: '{{background-color}}'; }/** Theme styles for mdCalendar. */.md-calendar.md-THEME_NAME-theme {  color: '{{foreground-1}}'; }  .md-calendar.md-THEME_NAME-theme tr:last-child td {    border-bottom-color: '{{background-200}}'; }.md-THEME_NAME-theme .md-calendar-day-header {  background: '{{background-hue-1}}';  color: '{{foreground-1}}'; }.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today .md-calendar-date-selection-indicator {  border: 1px solid '{{primary-500}}'; }.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today.md-calendar-date-disabled {  color: '{{primary-500-0.6}}'; }.md-THEME_NAME-theme .md-calendar-date.md-focus .md-calendar-date-selection-indicator {  background: '{{background-hue-1}}'; }.md-THEME_NAME-theme .md-calendar-date-selection-indicator:hover {  background: '{{background-hue-1}}'; }.md-THEME_NAME-theme .md-calendar-date.md-calendar-selected-date .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date.md-focus.md-calendar-selected-date .md-calendar-date-selection-indicator {  background: '{{primary-500}}';  color: '{{primary-500-contrast}}';  border-color: transparent; }.md-THEME_NAME-theme .md-calendar-date-disabled,.md-THEME_NAME-theme .md-calendar-month-label-disabled {  color: '{{foreground-3}}'; }/** Theme styles for mdDatepicker. */md-datepicker.md-THEME_NAME-theme {  background: '{{background-color}}'; }.md-THEME_NAME-theme .md-datepicker-input {  color: '{{background-contrast}}';  background: '{{background-color}}'; }  .md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder, .md-THEME_NAME-theme .md-datepicker-input::-moz-placeholder, .md-THEME_NAME-theme .md-datepicker-input:-moz-placeholder, .md-THEME_NAME-theme .md-datepicker-input:-ms-input-placeholder {    color: \"{{foreground-3}}\"; }.md-THEME_NAME-theme .md-datepicker-input-container {  border-bottom-color: '{{background-300}}'; }  .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused {    border-bottom-color: '{{primary-500}}'; }  .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-invalid {    border-bottom-color: '{{warn-A700}}'; }.md-THEME_NAME-theme .md-datepicker-calendar-pane {  border-color: '{{background-300}}'; }.md-THEME_NAME-theme .md-datepicker-triangle-button .md-datepicker-expand-triangle {  border-top-color: '{{foreground-3}}'; }.md-THEME_NAME-theme .md-datepicker-triangle-button:hover .md-datepicker-expand-triangle {  border-top-color: '{{foreground-2}}'; }.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon {  fill: '{{primary-500}}'; }.md-THEME_NAME-theme .md-datepicker-calendar,.md-THEME_NAME-theme .md-datepicker-input-mask-opaque {  background: '{{background-color}}'; }md-dialog.md-THEME_NAME-theme {  border-radius: 4px;  background-color: '{{background-color}}'; }  md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions, md-dialog.md-THEME_NAME-theme.md-content-overflow md-dialog-actions {    border-top-color: '{{foreground-4}}'; }md-divider.md-THEME_NAME-theme {  border-top-color: '{{foreground-4}}'; }.layout-row > md-divider.md-THEME_NAME-theme {  border-right-color: '{{foreground-4}}'; }md-icon.md-THEME_NAME-theme {  color: '{{foreground-2}}'; }  md-icon.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  md-icon.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  md-icon.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-input-container.md-THEME_NAME-theme .md-input {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}';  text-shadow: '{{foreground-shadow}}'; }  md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder, md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder {    color: \"{{foreground-3}}\"; }md-input-container.md-THEME_NAME-theme > md-icon {  color: '{{foreground-1}}'; }md-input-container.md-THEME_NAME-theme label,md-input-container.md-THEME_NAME-theme .md-placeholder {  text-shadow: '{{foreground-shadow}}';  color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme ng-messages :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [ng-messages] :not(.md-char-counter),md-input-container.md-THEME_NAME-theme ng-message :not(.md-char-counter), md-input-container.md-THEME_NAME-theme data-ng-message :not(.md-char-counter), md-input-container.md-THEME_NAME-theme x-ng-message :not(.md-char-counter),md-input-container.md-THEME_NAME-theme [ng-message] :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [data-ng-message] :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [x-ng-message] :not(.md-char-counter),md-input-container.md-THEME_NAME-theme [ng-message-exp] :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [data-ng-message-exp] :not(.md-char-counter), md-input-container.md-THEME_NAME-theme [x-ng-message-exp] :not(.md-char-counter) {  color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label {  color: '{{foreground-2}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input {  border-color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input {  border-color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label {  color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input {  border-color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label {  color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input {  border-color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid.md-input-focused label {  color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid data-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid x-ng-message,md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message],md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message-exp], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message-exp], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message-exp],md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter {  color: '{{warn-A700}}'; }md-input-container.md-THEME_NAME-theme .md-input[disabled],md-input-container.md-THEME_NAME-theme .md-input [disabled] {  border-bottom-color: transparent;  color: '{{foreground-3}}';  background-image: linear-gradient(to right, \"{{foreground-3}}\" 0%, \"{{foreground-3}}\" 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, \"{{foreground-3}}\" 100%); }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4 {  color: '{{foreground-1}}'; }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p {  color: '{{foreground-2}}'; }md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style {  background-color: '{{background-100}}'; }md-list.md-THEME_NAME-theme md-list-item > .md-avatar-icon {  background-color: '{{foreground-3}}';  color: '{{background-color}}'; }md-list.md-THEME_NAME-theme md-list-item > md-icon {  color: '{{foreground-2}}'; }  md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight {    color: '{{primary-color}}'; }    md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight.md-accent {      color: '{{accent-color}}'; }md-menu-content.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }  md-menu-content.md-THEME_NAME-theme md-menu-divider {    background-color: '{{foreground-4}}'; }md-menu-bar.md-THEME_NAME-theme > button.md-button {  color: '{{foreground-2}}';  border-radius: 2px; }md-menu-bar.md-THEME_NAME-theme md-menu.md-open > button, md-menu-bar.md-THEME_NAME-theme md-menu > button:focus {  outline: none;  background: '{{background-200}}'; }md-menu-bar.md-THEME_NAME-theme.md-open:not(.md-keyboard-mode) md-menu:hover > button {  background-color: '{{ background-500-0.2}}'; }md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:hover,md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:focus {  background: transparent; }md-menu-content.md-THEME_NAME-theme .md-menu > .md-button:after {  color: '{{foreground-2}}'; }md-menu-content.md-THEME_NAME-theme .md-menu.md-open > .md-button {  background-color: '{{ background-500-0.2}}'; }md-toolbar.md-THEME_NAME-theme.md-menu-toolbar {  background-color: '{{background-color}}';  color: '{{foreground-1}}'; }  md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler {    background-color: '{{primary-color}}';    color: '{{primary-contrast}}'; }    md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler md-icon {      color: '{{primary-contrast}}'; }md-progress-circular.md-THEME_NAME-theme {  background-color: transparent; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-gap {    border-top-color: '{{primary-color}}';    border-bottom-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-top-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-right-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle {    border-left-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-gap {    border-top-color: '{{warn-color}}';    border-bottom-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-top-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-right-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle {    border-left-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-gap {    border-top-color: '{{accent-color}}';    border-bottom-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-top-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-right-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle {    border-left-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme .md-container {  background-color: '{{primary-100}}'; }md-progress-linear.md-THEME_NAME-theme .md-bar {  background-color: '{{primary-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-container {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar {  background-color: '{{warn-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-container {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar {  background-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1 {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before {  background: radial-gradient(\"{{warn-100}}\" 0%, \"{{warn-100}}\" 16%, transparent 42%); }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1 {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before {  background: radial-gradient(\"{{accent-100}}\" 0%, \"{{accent-100}}\" 16%, transparent 42%); }md-radio-button.md-THEME_NAME-theme .md-off {  border-color: '{{foreground-2}}'; }md-radio-button.md-THEME_NAME-theme .md-on {  background-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-off {  border-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme .md-container .md-ripple {  color: '{{accent-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on {  background-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off {  border-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple {  color: '{{primary-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on {  background-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off {  border-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple {  color: '{{warn-600}}'; }md-radio-group.md-THEME_NAME-theme[disabled],md-radio-button.md-THEME_NAME-theme[disabled] {  color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off,  md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off {    border-color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on,  md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on {    border-color: '{{foreground-3}}'; }md-radio-group.md-THEME_NAME-theme .md-checked .md-ink-ripple {  color: '{{accent-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-primary .md-checked:not([disabled]) .md-ink-ripple, md-radio-group.md-THEME_NAME-theme .md-checked:not([disabled]).md-primary .md-ink-ripple {  color: '{{primary-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme .md-checked.md-primary .md-ink-ripple {  color: '{{warn-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-primary .md-checked .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-warn .md-checked .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-warn .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-select.md-THEME_NAME-theme[disabled] .md-select-value {  border-bottom-color: transparent;  background-image: linear-gradient(to right, \"{{foreground-3}}\" 0%, \"{{foreground-3}}\" 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, \"{{foreground-3}}\" 100%); }md-select.md-THEME_NAME-theme .md-select-value {  border-bottom-color: '{{foreground-4}}'; }  md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder {    color: '{{foreground-3}}'; }md-select.md-THEME_NAME-theme.ng-invalid.ng-dirty .md-select-value {  color: '{{warn-A700}}' !important;  border-bottom-color: '{{warn-A700}}' !important; }md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value {  border-bottom-color: '{{primary-color}}';  color: '{{ foreground-1 }}'; }  md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder {    color: '{{ foreground-1 }}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value {  border-bottom-color: '{{accent-color}}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value {  border-bottom-color: '{{warn-color}}'; }md-select.md-THEME_NAME-theme[disabled] .md-select-value {  color: '{{foreground-3}}'; }  md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder {    color: '{{foreground-3}}'; }md-select-menu.md-THEME_NAME-theme md-option[disabled] {  color: '{{foreground-3}}'; }md-select-menu.md-THEME_NAME-theme md-optgroup {  color: '{{foreground-2}}'; }  md-select-menu.md-THEME_NAME-theme md-optgroup md-option {    color: '{{foreground-1}}'; }md-select-menu.md-THEME_NAME-theme md-option[selected] {  color: '{{primary-500}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected]:focus {    color: '{{primary-600}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent {    color: '{{accent-500}}'; }    md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent:focus {      color: '{{accent-600}}'; }md-select-menu.md-THEME_NAME-theme md-option:focus:not([disabled]):not([selected]) {  background: '{{background-200}}'; }md-sidenav.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track {  background-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme .md-track-ticks {  background-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-focus-thumb {  background-color: '{{foreground-2}}'; }md-slider.md-THEME_NAME-theme .md-focus-ring {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-disabled-thumb {  border-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme.md-min .md-thumb:after {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track.md-track-fill {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb:after {  border-color: '{{accent-color}}';  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-sign {  background-color: '{{accent-color}}'; }  md-slider.md-THEME_NAME-theme .md-sign:after {    border-top-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb-text {  color: '{{accent-contrast}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-focus-ring {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after {  border-color: '{{warn-color}}';  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-sign {  background-color: '{{warn-color}}'; }  md-slider.md-THEME_NAME-theme.md-warn .md-sign:after {    border-top-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text {  color: '{{warn-contrast}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-focus-ring {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after {  border-color: '{{primary-color}}';  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-sign {  background-color: '{{primary-color}}'; }  md-slider.md-THEME_NAME-theme.md-primary .md-sign:after {    border-top-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text {  color: '{{primary-contrast}}'; }md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after {  border-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after {  background-color: '{{foreground-3}}'; }.md-subheader.md-THEME_NAME-theme {  color: '{{ foreground-2-0.23 }}';  background-color: '{{background-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme .md-ink-ripple {  color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme .md-thumb {  background-color: '{{background-50}}'; }md-switch.md-THEME_NAME-theme .md-bar {  background-color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-thumb {  background-color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-bar {  background-color: '{{accent-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before {  background-color: '{{accent-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-ink-ripple {  color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb {  background-color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar {  background-color: '{{primary-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before {  background-color: '{{primary-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-ink-ripple {  color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb {  background-color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar {  background-color: '{{warn-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before {  background-color: '{{warn-color-0.26}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-thumb {  background-color: '{{background-400}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-bar {  background-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: transparent;  border-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme .md-paginator md-icon {  color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{accent-color}}';  background: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme .md-tab {  color: '{{foreground-2}}'; }  md-tabs.md-THEME_NAME-theme .md-tab[disabled], md-tabs.md-THEME_NAME-theme .md-tab[disabled] md-icon {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-active, md-tabs.md-THEME_NAME-theme .md-tab.md-active md-icon, md-tabs.md-THEME_NAME-theme .md-tab.md-focused, md-tabs.md-THEME_NAME-theme .md-tab.md-focused md-icon {    color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    background: '{{primary-color-0.1}}'; }  md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container {    color: '{{accent-100}}'; }md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper {  background-color: '{{accent-color}}'; }  md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{accent-100}}'; }    md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{accent-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{accent-contrast-0.1}}'; }  md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-ink-bar {    color: '{{primary-600-1}}';    background: '{{primary-600-1}}'; }md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper {  background-color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{primary-100}}'; }    md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{primary-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{primary-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper {  background-color: '{{warn-color}}'; }  md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{warn-100}}'; }    md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{warn-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{warn-contrast-0.1}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{primary-color}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{primary-100}}'; }    md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{primary-contrast}}'; }    md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{primary-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{accent-color}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{accent-100}}'; }    md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{accent-contrast}}'; }    md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{accent-contrast-0.1}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-ink-bar {    color: '{{primary-600-1}}';    background: '{{primary-600-1}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{warn-color}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{warn-100}}'; }    md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {      color: '{{warn-contrast}}'; }    md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{warn-contrast-0.1}}'; }md-toast.md-THEME_NAME-theme .md-toast-content {  background-color: #323232;  color: '{{background-50}}'; }  md-toast.md-THEME_NAME-theme .md-toast-content .md-button {    color: '{{background-50}}'; }    md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight {      color: '{{primary-A200}}'; }      md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-accent {        color: '{{accent-A200}}'; }      md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-warn {        color: '{{warn-A200}}'; }md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) {  background-color: '{{primary-color}}';  color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent {    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }  md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-warn {    background-color: '{{warn-color}}';    color: '{{warn-contrast}}'; }md-tooltip.md-THEME_NAME-theme {  color: '{{background-A100}}'; }  md-tooltip.md-THEME_NAME-theme .md-content {    background-color: '{{foreground-2}}'; }")
}()}(window,window.angular),window.ngMaterial={version:{full:"1.0.5"}},angular.module("mediaPlayer",["mediaPlayer.helpers"]).value("mp.throttleSettings",{enabled:!0,time:1e3}).constant("mp.playerDefaults",{currentTrack:0,ended:void 0,network:void 0,playing:!1,seeking:!1,tracks:0,volume:1,formatDuration:"00:00",formatTime:"00:00",loadPercent:0}).directive("mediaPlayer",["$rootScope","$interpolate","$timeout","mp.throttle","mp.playerDefaults","mp.throttleSettings",function(e,t,n,r,o,i){function a(e){return function(t,r){var o,i=null;if(e.$attachPlaylist(t),void 0===t&&void 0!==r)return e.pause();if(e.currentTrack){o=r?r[e.currentTrack-1]:-1;for(var a=0;a<t.length;a++)if(angular.equals(t[a],o)){i=a;break}null!==i?(e.currentTrack=i+1,e.tracks=t.length):(e.pause(),t.length?n(function(){e.$clearSourceList(),e.$addSourceList(t[0]),e.load(),e.tracks=t.length}):e.reset())}else t.length?(e.$clearSourceList(),e.$addSourceList(t[0]),e.load(),e.tracks=t.length):e.reset()}}var s={load:function(e,t){"boolean"==typeof e?(t=e,e=null):"object"==typeof e&&(this.$clearSourceList(),this.$addSourceList(e)),this.$domEl.load(),this.ended=void 0,t&&this.$element.one("canplay",this.play.bind(this))},reset:function(e){angular.extend(this,o),this.$clearSourceList(),this.load(this.$playlist,e)},play:function(e,t){return"boolean"==typeof e&&(t=e,e=void 0),t&&(this.$selective=!0),this.$playlist.length>e?(this.currentTrack=e+1,this.load(this.$playlist[e],!0)):(!this.currentTrack&&this.$domEl.readyState&&this.currentTrack++,void(this.ended?this.load(!0):this.$domEl.play()))},playPause:function(e,t){"boolean"==typeof e&&(t=e,e=void 0),t&&(this.$selective=!0),"number"==typeof e&&e+1!==this.currentTrack?this.play(e):this.playing?this.pause():this.play()},pause:function(){this.$domEl.pause()},stop:function(){this.reset()},toggleMute:function(){this.muted=this.$domEl.muted=!this.$domEl.muted},next:function(e){var t=this;if(t.currentTrack&&t.currentTrack<t.tracks){var r=e||t.playing;t.pause(),n(function(){t.$clearSourceList(),t.$addSourceList(t.$playlist[t.currentTrack]),t.load(r),t.currentTrack++})}},prev:function(e){var t=this;if(t.currentTrack&&t.currentTrack-1){var r=e||t.playing;t.pause(),n(function(){t.$clearSourceList(),t.$addSourceList(t.$playlist[t.currentTrack-2]),t.load(r),t.currentTrack--})}},setPlaybackRate:function(e){this.$domEl.playbackRate=e},setVolume:function(e){this.$domEl.volume=e},seek:function(e){var t,n=0;return"string"!=typeof e?this.$domEl.currentTime=e:(t=e.split(":"),n+=parseInt(t.pop(),10),t.length&&(n+=60*parseInt(t.pop(),10)),t.length&&(n+=3600*parseInt(t.pop(),10)),isNaN(n)?void 0:this.$domEl.currentTime=n)},on:function(e,t){return this.$element.on(e,t)},off:function(e,t){return this.$element.off(e,t)},one:function(e,t){return this.$element.one(e,t)},$addSourceList:function(e){var t=this;if(angular.isArray(e))angular.forEach(e,function(e){var n=document.createElement("SOURCE");["src","type","media"].forEach(function(t){void 0!==e[t]&&n.setAttribute(t,e[t])}),t.$element.append(n)});else if(angular.isObject(e)){var n=document.createElement("SOURCE");["src","type","media"].forEach(function(t){void 0!==e[t]&&n.setAttribute(t,e[t])}),t.$element.append(n)}},$clearSourceList:function(){this.$element.contents().remove()},$formatTime:function(e){if(1/0===e)return"∞";var t,n=parseInt(e/3600,10)%24,r=parseInt(e/60,10)%60,o=parseInt(e%60,10),i=(10>r?"0"+r:r)+":"+(10>o?"0"+o:o);return t=n>0?(10>n?"0"+n:n)+":"+i:i},$attachPlaylist:function(e){void 0===e||null===e?this.playlist=[]:this.$playlist=e}},l=function(e,t,n){var o={playing:function(){e.$apply(function(e){e.playing=!0,e.ended=!1})},pause:function(){e.$apply(function(e){e.playing=!1})},ended:function(){!e.$selective&&e.currentTrack<e.tracks?e.next(!0):e.$apply(function(e){e.ended=!0,e.playing=!1})},timeupdate:function(){e.$apply(function(e){e.currentTime=t.currentTime,e.formatTime=e.$formatTime(e.currentTime)})},loadedmetadata:function(){e.$apply(function(e){e.currentTrack||e.currentTrack++,e.duration=t.duration,e.formatDuration=e.$formatTime(e.duration),t.buffered.length&&(e.loadPercent=Math.round(t.buffered.end(t.buffered.length-1)/e.duration*100))})},progress:function(){e.$domEl.buffered.length&&e.$apply(function(e){e.loadPercent=Math.round(t.buffered.end(t.buffered.length-1)/e.duration*100),e.network="progress"})},volumechange:function(){e.$apply(function(e){e.volume=t.volume,e.muted=t.muted})},seeked:function(){e.$apply(function(e){e.seeking=!1})},seeking:function(){e.$apply(function(e){e.seeking=!0})},ratechange:function(){e.$apply(function(e){e.playbackRate=t.playbackRate})},stalled:function(){e.$apply(function(e){e.network="stalled"})},suspend:function(){e.$apply(function(e){e.network="suspend"})}};i.enabled&&(o.timeupdate=r(i.time,!1,o.timeupdate)),angular.forEach(o,function(e,t){n.on(t,e)})},c=function(t){var n=angular.extend(e.$new(!0),{$element:t,$domEl:t[0],$playlist:void 0,buffered:t[0].buffered,played:t[0].played,seekable:t[0].seekable},o,s);return l(n,t[0],t),n};return{scope:!1,link:function(e,t,n){var r=n.playlist,o=n.mediaPlayer||n.playerControl,i=new c(t),s=e[r];if(s=void 0===r?[]:void 0===e[r]?e[r]=[]:e[r],void 0!==o&&(e[o]=i),"AUDIO"!==t[0].tagName&&"VIDEO"!==t[0].tagName)return new Error("player directive works only when attached to an <audio>/<video> type tag");var l=[],u=t.find("source");1===u.length?s.unshift({src:u[0].src,type:u[0].type,media:u[0].media}):u.length>1&&(angular.forEach(u,function(e){l.push({src:e.src,type:e.type,media:e.media})}),s.unshift(l)),void 0===r?i.$attachPlaylist(s):s.length?(a(i)(s,void 0,e),e.$watch(r,a(i),!0)):e.$watch(r,a(i),!0)}}}]),angular.module("mediaPlayer.helpers",[]).factory("mp.throttle",["$timeout",function(e){return function(t,n,r,o){var i,a=0;"boolean"!=typeof n&&(o=r,r=n,n=void 0);var s=function(){var s=this,l=+new Date-a,c=arguments,u=function(){a=+new Date,r.apply(s,c)},d=function(){i=void 0};o&&!i&&u(),i&&e.cancel(i),void 0===o&&l>t?u():n!==!0&&(i=e(o?d:u,void 0===o?t-l:t))};return s}}]),function(e,t){"use strict";function n(){function e(e,n){return t.extend(Object.create(e),n)}function n(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},o=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,r){var i="?"===r?r:null,a="*"===r?r:null;return o.push({name:n,optional:!!i}),t=t||"",""+(i?"":t)+"(?:"+(i?t:"")+(a&&"(.+?)"||"([^/]+)")+(i||"")+")"+(i||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",n?"i":""),r}var r={};this.when=function(e,o){var i=t.copy(o);if(t.isUndefined(i.reloadOnSearch)&&(i.reloadOnSearch=!0),t.isUndefined(i.caseInsensitiveMatch)&&(i.caseInsensitiveMatch=this.caseInsensitiveMatch),r[e]=t.extend(i,e&&n(e,i)),e){var a="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";r[a]=t.extend({redirectTo:e},n(a,i))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,o,i,a,l,c,u){function d(e,t){var n=t.keys,r={};if(!t.regexp)return null;var o=t.regexp.exec(e);if(!o)return null;for(var i=1,a=o.length;a>i;++i){var s=n[i-1],l=o[i];s&&l&&(r[s.name]=l)}return r}function f(e){var r=y.current;m=h(),v=m&&r&&m.$$route===r.$$route&&t.equals(m.pathParams,r.pathParams)&&!m.reloadOnSearch&&!b,v||!r&&!m||n.$broadcast("$routeChangeStart",m,r).defaultPrevented&&e&&e.preventDefault()}function p(){var e=y.current,r=m;v?(e.params=r.params,t.copy(e.params,i),n.$broadcast("$routeUpdate",e)):(r||e)&&(b=!1,y.current=r,r&&r.redirectTo&&(t.isString(r.redirectTo)?o.path(g(r.redirectTo,r.params)).search(r.params).replace():o.url(r.redirectTo(r.pathParams,o.path(),o.search())).replace()),a.when(r).then(function(){if(r){var e,n,o=t.extend({},r.resolve);return t.forEach(o,function(e,n){o[n]=t.isString(e)?l.get(e):l.invoke(e,null,null,n)}),t.isDefined(e=r.template)?t.isFunction(e)&&(e=e(r.params)):t.isDefined(n=r.templateUrl)&&(t.isFunction(n)&&(n=n(r.params)),t.isDefined(n)&&(r.loadedTemplateUrl=u.valueOf(n),e=c(n))),t.isDefined(e)&&(o.$template=e),a.all(o)}}).then(function(o){r==y.current&&(r&&(r.locals=o,t.copy(r.params,i)),n.$broadcast("$routeChangeSuccess",r,e))},function(t){r==y.current&&n.$broadcast("$routeChangeError",r,e,t)}))}function h(){var n,i;return t.forEach(r,function(r){!i&&(n=d(o.path(),r))&&(i=e(r,{params:t.extend({},o.search(),n),pathParams:n}),i.$$route=r)}),i||r[null]&&e(r[null],{params:{},pathParams:{}})}function g(e,n){var r=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)r.push(e);else{var o=e.match(/(\w+)(?:[?*])?(.*)/),i=o[1];r.push(n[i]),r.push(o[2]||""),delete n[i]}}),r.join("")}var m,v,b=!1,y={routes:r,reload:function(){b=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,b=!1}};n.$evalAsync(function(){f(e),e.defaultPrevented||p()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw s("norout","Tried updating route when with no current route");e=t.extend({},this.current.params,e),o.path(g(this.current.$$route.originalPath,e)),o.search(e)}};return n.$on("$locationChangeStart",f),n.$on("$locationChangeSuccess",p),y}]}function r(){this.$get=function(){return{}}}function o(e,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(o,i,a,s,l){function c(){p&&(r.cancel(p),p=null),d&&(d.$destroy(),d=null),f&&(p=r.leave(f),p.then(function(){p=null}),f=null)}function u(){var a=e.current&&e.current.locals,s=a&&a.$template;if(t.isDefined(s)){var u=o.$new(),p=e.current,m=l(u,function(e){r.enter(e,null,f||i).then(function(){!t.isDefined(h)||h&&!o.$eval(h)||n()}),c()});f=m,d=p.scope=u,d.$emit("$viewContentLoaded"),d.$eval(g)}else c()}var d,f,p,h=a.autoscroll,g=a.onload||"";o.$on("$routeChangeSuccess",u),u()}}}function i(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,o){var i=n.current,a=i.locals;o.html(a.$template);var s=e(o.contents());if(i.controller){a.$scope=r;var l=t(i.controller,a);i.controllerAs&&(r[i.controllerAs]=l),o.data("$ngControllerController",l),o.children().data("$ngControllerController",l)}r[i.resolveAs||"$resolve"]=a,s(r)}}}var a=t.module("ngRoute",["ng"]).provider("$route",n),s=t.$$minErr("ngRoute");a.provider("$routeParams",r),a.directive("ngView",o),a.directive("ngView",i),o.$inject=["$route","$anchorScroll","$animate"],i.$inject=["$compile","$controller","$route"]}(window,window.angular),function(e,t,n){"use strict";function r(){var e=!1;this.$get=["$$sanitizeUri",function(n){return e&&t.extend(C,_),function(e){var t=[];return a(e,c(t,function(e,t){return!/^unsafe:/.test(n(e,t))})),t.join("")}}],this.enableSvg=function(n){return t.isDefined(n)?(e=n,this):e}}function o(e){var n=[],r=c(n,t.noop);return r.chars(e),n.join("")}function i(e,n){var r,o={},i=e.split(",");for(r=0;r<i.length;r++)o[n?t.lowercase(i[r]):i[r]]=!0;return o}function a(e,t){null===e||e===n?e="":"string"!=typeof e&&(e=""+e),d.innerHTML=e;var r=5;do{if(0===r)throw f("uinput","Failed to sanitize html because the input is unstable");r--,document.documentMode<=11&&u(d),e=d.innerHTML,d.innerHTML=e}while(e!==d.innerHTML);for(var o=d.firstChild;o;){switch(o.nodeType){case 1:t.start(o.nodeName.toLowerCase(),s(o.attributes));break;case 3:t.chars(o.textContent)}var i;if(!(i=o.firstChild)&&(1==o.nodeType&&t.end(o.nodeName.toLowerCase()),i=o.nextSibling,!i))for(;null==i&&(o=o.parentNode,o!==d);)i=o.nextSibling,1==o.nodeType&&t.end(o.nodeName.toLowerCase());o=i}for(;o=d.firstChild;)d.removeChild(o)}function s(e){for(var t={},n=0,r=e.length;r>n;n++){var o=e[n];t[o.name]=o.value}return t}function l(e){return e.replace(/&/g,"&amp;").replace(p,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(h,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(e,n){var r=!1,o=t.bind(e,e.push);return{start:function(e,i){e=t.lowercase(e),!r&&w[e]&&(r=e),r||C[e]!==!0||(o("<"),o(e),t.forEach(i,function(r,i){var a=t.lowercase(i),s="img"===e&&"src"===a||"background"===a;T[a]!==!0||$[a]===!0&&!n(r,s)||(o(" "),o(i),o('="'),o(l(r)),o('"'))}),o(">"))},end:function(e){e=t.lowercase(e),r||C[e]!==!0||g[e]===!0||(o("</"),o(e),o(">")),e==r&&(r=!1)},chars:function(e){r||o(l(e))}}}function u(e){if(e.nodeType===Node.ELEMENT_NODE)for(var t=e.attributes,n=0,r=t.length;r>n;n++){var o=t[n],i=o.name.toLowerCase();("xmlns:ns1"===i||0===i.indexOf("ns1:"))&&(e.removeAttributeNode(o),n--,r--)}var a=e.firstChild;a&&u(a),a=e.nextSibling,a&&u(a)}var d,f=t.$$minErr("$sanitize"),p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=/([^\#-~ |!])/g,g=i("area,br,col,hr,img,wbr"),m=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=i("rp,rt"),b=t.extend({},v,m),y=t.extend({},m,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),E=t.extend({},v,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),_=i("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),w=i("script,style"),C=t.extend({},g,y,E,b),$=i("background,cite,href,longdesc,src,xlink:href"),A=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),S=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),T=t.extend({},$,S,A);!function(e){var t;if(!e.document||!e.document.implementation)throw f("noinert","Can't create an inert html document");t=e.document.implementation.createHTMLDocument("inert");var n=t.documentElement||t.getDocumentElement(),r=n.getElementsByTagName("body");if(1===r.length)d=r[0];else{var o=t.createElement("html");d=t.createElement("body"),o.appendChild(d),t.appendChild(o)}}(e),t.module("ngSanitize",[]).provider("$sanitize",r),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,i=t.$$minErr("linky"),a=t.isString;return function(s,l,c){function u(e){e&&m.push(o(e))}function d(e,n){var r;if(m.push("<a "),t.isFunction(c)&&(c=c(e)),t.isObject(c))for(r in c)m.push(r+'="'+c[r]+'" ');else c={};!t.isDefined(l)||"target"in c||m.push('target="',l,'" '),m.push('href="',e.replace(/"/g,"&quot;"),'">'),u(n),m.push("</a>")}if(null==s||""===s)return s;if(!a(s))throw i("notstring","Expected string but received: {0}",s);for(var f,p,h,g=s,m=[];f=g.match(n);)p=f[0],f[2]||f[4]||(p=(f[3]?"http://":"mailto:")+p),h=f.index,u(g.substr(0,h)),d(p,f[0].replace(r,"")),g=g.substring(h+f[0].length);return u(g),e(m.join(""))}}])}(window,window.angular),function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){"use strict";var t=e.storageKey(),n=e.storage(),r=function(){var r=e.preferredLanguage();angular.isString(r)?e.use(r):n.put(t,e.use())};r.displayName="fallbackFromIncorrectStorageValue",n?n.get(t)?e.use(n.get(t))["catch"](r):r():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function t(){"use strict";var e,t,n=null,r=!1,o=!1;t={sanitize:function(e,t){return"text"===t&&(e=a(e)),e},escape:function(e,t){return"text"===t&&(e=i(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=s(e,a)),e},escapeParameters:function(e,t){return"params"===t&&(e=s(e,i)),e}},t.escaped=t.escapeParameters,this.addStrategy=function(e,n){return t[e]=n,this},this.removeStrategy=function(e){return delete t[e],this},this.useStrategy=function(e){return r=!0,n=e,this},this.$get=["$injector","$log",function(i,a){var s={},l=function(e,n,r){return angular.forEach(r,function(r){if(angular.isFunction(r))e=r(e,n);else if(angular.isFunction(t[r]))e=t[r](e,n);else{if(!angular.isString(t[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");if(!s[t[r]])try{s[t[r]]=i.get(t[r])}catch(o){throw s[t[r]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'")}e=s[t[r]](e,n)}}),e},c=function(){r||o||(a.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),o=!0)};return i.has("$sanitize")&&(e=i.get("$sanitize")),{useStrategy:function(e){return function(t){e.useStrategy(t)}}(this),sanitize:function(e,t,r){if(n||c(),arguments.length<3&&(r=n),!r)return e;var o=angular.isArray(r)?r:[r];return l(e,t,o)}}}];var i=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},a=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return e(t)},s=function(e,t,n){if(angular.isObject(e)){var r=angular.isArray(e)?[]:{};if(n){if(n.indexOf(e)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(e),angular.forEach(e,function(e,o){r[o]=s(e,t,n)}),n.splice(-1,1),r}return angular.isNumber(e)?e:t(e)}}function n(e,t,n,r){"use strict";var o,i,a,s,l,c,u,d,f,p,h,g,m,v,b,y={},E=[],_=e,w=[],C="translate-cloak",$=!1,A=!1,S=".",T=!1,k=0,x=!0,N="default",M={"default":function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():t}},I="2.9.2",O=function(){if(angular.isFunction(r.getLocale))return r.getLocale();var e,n,o=t.$get().navigator,i=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(o.languages))for(e=0;e<o.languages.length;e++)if(n=o.languages[e],n&&n.length)return n;for(e=0;e<i.length;e++)if(n=o[i[e]],n&&n.length)return n;return null};O.displayName="angular-translate/service: getFirstBrowserLanguage";var P=function(){var e=O()||"";return M[N]&&(e=M[N](e)),e};P.displayName="angular-translate/service: getLocale";var R=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},D=function(){return this.toString().replace(/^\s+|\s+$/g,"")},L=function(e){if(e){for(var t=[],n=angular.lowercase(e),r=0,o=E.length;o>r;r++)t.push(angular.lowercase(E[r]));if(R(t,n)>-1)return e;if(i){var a;for(var s in i){var l=!1,c=Object.prototype.hasOwnProperty.call(i,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===e.slice(0,s.length-1)),(c||l)&&(a=i[s],R(t,angular.lowercase(a))>-1))return a}}var u=e.split("_");return u.length>1&&R(t,angular.lowercase(u[0]))>-1?u[0]:void 0}},F=function(e,t){if(!e&&!t)return y;if(e&&!t){if(angular.isString(e))return y[e]}else angular.isObject(y[e])||(y[e]={}),angular.extend(y[e],j(t));return this};this.translations=F,this.cloakClassName=function(e){return e?(C=e,this):C},this.nestedObjectDelimeter=function(e){return e?(S=e,this):S};var j=function(e,t,n,r){var o,i,a,s;t||(t=[]),n||(n={});for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(s=e[o],angular.isObject(s)?j(s,t.concat(o),n,o):(i=t.length?""+t.join(S)+S+o:o,t.length&&o===r&&(a=""+t.join(S),n[a]="@:"+i),n[i]=s));return n};j.displayName="flatObject",this.addInterpolation=function(e){return w.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return p=e,this},this.useSanitizeValueStrategy=function(e){return n.useStrategy(e),this},this.preferredLanguage=function(e){return e?(H(e),this):o};var H=function(e){return e&&(o=e),o};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(m=e,this):m},this.translationNotFoundIndicatorRight=function(e){return e?(v=e,this):v},this.fallbackLanguage=function(e){return q(e),this};var q=function(e){return e?(angular.isString(e)?(s=!0,a=[e]):angular.isArray(e)&&(s=!1,a=e),angular.isString(o)&&R(a,o)<0&&a.push(o),this):s?a[0]:a};this.use=function(e){if(e){if(!y[e]&&!h)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return l=e,this}return l};var U=function(e){return e?(_=e,this):d?d+_:_};this.storageKey=U,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return h=e,g=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return u=e,this},this.storagePrefix=function(e){return e?(d=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return f=e,this},this.usePostCompiling=function(e){return $=!!e,this},this.forceAsyncReload=function(e){return A=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},N=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():P();return o=E.length?L(t)||t:t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(E=e,t&&(i=t),this):E},this.useLoaderCache=function(e){return e===!1?b=void 0:e===!0?b=!0:"undefined"==typeof e?b="$translationCache":e&&(b=e),this},this.directivePriority=function(e){return void 0===e?k:(k=e,this)},this.statefulFilter=function(e){return void 0===e?x:(x=e,this)},this.$get=["$log","$injector","$rootScope","$q",function(e,t,n,r){var i,d,E,N=t.get(p||"$translateDefaultInterpolation"),M=!1,O={},P={},B=function(e,t,n,s,c){var f=c&&c!==l?L(c)||c:l;if(angular.isArray(e)){var p=function(e){for(var o={},i=[],a=function(e){var i=r.defer(),a=function(t){o[e]=t,i.resolve([e,t])};return B(e,t,n,s,c).then(a,a),i.promise},l=0,u=e.length;u>l;l++)i.push(a(e[l]));return r.all(i).then(function(){return o})};return p(e)}var h=r.defer();e&&(e=D.apply(e));var g=function(){var e=o?P[o]:P[f];if(d=0,u&&!e){var t=i.get(_);if(e=P[t],a&&a.length){var n=R(a,t);d=0===n?1:0,R(a,o)<0&&a.push(o)}}return e}();if(g){var m=function(){c||(f=l),nt(e,t,n,s,f).then(h.resolve,h.reject)};m.displayName="promiseResolved",g["finally"](m)}else nt(e,t,n,s,f).then(h.resolve,h.reject);return h.promise},V=function(e){return m&&(e=[m,e].join(" ")),v&&(e=[e,v].join(" ")),e},W=function(e){l=e,u&&i.put(B.storageKey(),l),n.$emit("$translateChangeSuccess",{language:e}),N.setLocale(l);var t=function(e,t){O[t].setLocale(l)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(O,t),n.$emit("$translateChangeEnd",{language:e})},z=function(e){if(!e)throw"No language key specified for loading.";var o=r.defer();n.$emit("$translateLoadingStart",{language:e}),M=!0;var i=b;"string"==typeof i&&(i=t.get(i));var a=angular.extend({},g,{key:e,$http:angular.extend({},{cache:i},g.$http)}),s=function(t){var r={};n.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(t)?angular.forEach(t,function(e){angular.extend(r,j(e))}):angular.extend(r,j(t)),M=!1,o.resolve({key:e,table:r}),n.$emit("$translateLoadingEnd",{language:e})};s.displayName="onLoaderSuccess";var l=function(e){n.$emit("$translateLoadingError",{language:e}),o.reject(e),n.$emit("$translateLoadingEnd",{language:e})};return l.displayName="onLoaderError",t.get(h)(a).then(s,l),o.promise};if(u&&(i=t.get(u),!i.get||!i.put))throw new Error("Couldn't use storage '"+u+"', missing get() or put() method!");if(w.length){var Y=function(e){var n=t.get(e);n.setLocale(o||l),O[n.getInterpolationIdentifier()]=n};Y.displayName="interpolationFactoryAdder",angular.forEach(w,Y)}var K=function(e){var t=r.defer();if(Object.prototype.hasOwnProperty.call(y,e))t.resolve(y[e]);else if(P[e]){var n=function(e){F(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",P[e].then(n,t.reject)}else t.reject();return t.promise},G=function(e,t,n,o){var i=r.defer(),a=function(r){if(Object.prototype.hasOwnProperty.call(r,t)){o.setLocale(e);var a=r[t];"@:"===a.substr(0,2)?G(e,a.substr(2),n,o).then(i.resolve,i.reject):i.resolve(o.interpolate(r[t],n)),o.setLocale(l)}else i.reject()};return a.displayName="fallbackTranslationResolver",K(e).then(a,i.reject),i.promise},Q=function(e,t,n,r){var o,i=y[e];if(i&&Object.prototype.hasOwnProperty.call(i,t)){if(r.setLocale(e),o=r.interpolate(i[t],n),"@:"===o.substr(0,2))return Q(e,o.substr(2),n,r);r.setLocale(l)}return o},X=function(e,n){if(f){var r=t.get(f)(e,l,n);return void 0!==r?r:e}return e},J=function(e,t,n,o,i){var s=r.defer();if(e<a.length){var l=a[e];G(l,t,n,o).then(s.resolve,function(){J(e+1,t,n,o,i).then(s.resolve)})}else s.resolve(i?i:X(t,n));return s.promise},Z=function(e,t,n,r){var o;if(e<a.length){var i=a[e];o=Q(i,t,n,r),o||(o=Z(e+1,t,n,r))}return o},et=function(e,t,n,r){return J(E>0?E:d,e,t,n,r)},tt=function(e,t,n){return Z(E>0?E:d,e,t,n)},nt=function(e,t,n,o,i){var s=r.defer(),l=i?y[i]:y,c=n?O[n]:N;if(l&&Object.prototype.hasOwnProperty.call(l,e)){var u=l[e];"@:"===u.substr(0,2)?B(u.substr(2),t,n,o,i).then(s.resolve,s.reject):s.resolve(c.interpolate(u,t))}else{var d;f&&!M&&(d=X(e,t)),i&&a&&a.length?et(e,t,c,o).then(function(e){s.resolve(e)},function(e){s.reject(V(e))}):f&&!M&&d?s.resolve(o?o:d):o?s.resolve(o):s.reject(V(e))}return s.promise},rt=function(e,t,n,r){var o,i=r?y[r]:y,s=N;if(O&&Object.prototype.hasOwnProperty.call(O,n)&&(s=O[n]),i&&Object.prototype.hasOwnProperty.call(i,e)){var l=i[e];o="@:"===l.substr(0,2)?rt(l.substr(2),t,n,r):s.interpolate(l,t)}else{var c;f&&!M&&(c=X(e,t)),r&&a&&a.length?(d=0,o=tt(e,t,s)):o=f&&!M&&c?c:V(e)}return o},ot=function(e){c===e&&(c=void 0),P[e]=void 0};B.preferredLanguage=function(e){return e&&H(e),o},B.cloakClassName=function(){return C},B.nestedObjectDelimeter=function(){return S},B.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(q(e),h&&a&&a.length)for(var t=0,n=a.length;n>t;t++)P[a[t]]||(P[a[t]]=z(a[t]));B.use(B.use())}return s?a[0]:a},B.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=R(a,e);t>-1&&(E=t)}else E=0},B.proposedLanguage=function(){return c},B.storage=function(){return i},B.negotiateLocale=L,B.use=function(e){if(!e)return l;var t=r.defer();n.$emit("$translateChangeStart",{language:e});var o=L(e);return o&&(e=o),!A&&y[e]||!h||P[e]?P[e]?P[e].then(function(e){return l||W(e.key),t.resolve(e.key),e},function(e){return!l&&a&&a.length>0?B.use(a[0]).then(t.resolve,t.reject):t.reject(e)}):(t.resolve(e),W(e)):(c=e,P[e]=z(e).then(function(n){return F(n.key,n.table),t.resolve(n.key),c===e&&W(n.key),n},function(e){return n.$emit("$translateChangeError",{language:e}),t.reject(e),n.$emit("$translateChangeEnd",{language:e}),r.reject(e)}),P[e]["finally"](function(){ot(e)})),t.promise},B.storageKey=function(){return U()},B.isPostCompilingEnabled=function(){return $},B.isForceAsyncReloadEnabled=function(){return A},B.refresh=function(e){function t(){i.resolve(),n.$emit("$translateRefreshEnd",{language:e})}function o(){i.reject(),n.$emit("$translateRefreshEnd",{language:e})}if(!h)throw new Error("Couldn't refresh translation table, no loader registered!");var i=r.defer();if(n.$emit("$translateRefreshStart",{language:e}),e)if(y[e]){var s=function(n){F(n.key,n.table),e===l&&W(l),t()};s.displayName="refreshPostProcessor",z(e).then(s,o)}else o();else{var c=[],u={};if(a&&a.length)for(var d=0,f=a.length;f>d;d++)c.push(z(a[d])),u[a[d]]=!0;l&&!u[l]&&c.push(z(l));var p=function(e){y={},angular.forEach(e,function(e){F(e.key,e.table)}),l&&W(l),t()};p.displayName="refreshPostProcessor",r.all(c).then(p,o)}return i.promise},B.instant=function(e,t,n,r){var i=r&&r!==l?L(r)||r:l;if(null===e||angular.isUndefined(e))return e;if(angular.isArray(e)){for(var s={},c=0,u=e.length;u>c;c++)s[e[c]]=B.instant(e[c],t,n,r);return s}if(angular.isString(e)&&e.length<1)return e;e&&(e=D.apply(e));var d,p=[];o&&p.push(o),i&&p.push(i),a&&a.length&&(p=p.concat(a));for(var h=0,g=p.length;g>h;h++){var b=p[h];if(y[b]&&"undefined"!=typeof y[b][e]&&(d=rt(e,t,n,i)),"undefined"!=typeof d)break}return d||""===d||(m||v?d=V(e):(d=N.interpolate(e,t),f&&!M&&(d=X(e,t)))),d},B.versionInfo=function(){return I},B.loaderCache=function(){return b},B.directivePriority=function(){return k},B.statefulFilter=function(){return x},B.isReady=function(){return T};var it=r.defer();it.promise.then(function(){T=!0}),B.onReady=function(e){var t=r.defer();return angular.isFunction(e)&&t.promise.then(e),T?t.resolve():it.promise.then(t.resolve),t.promise};var at=n.$on("$translateReady",function(){it.resolve(),at(),at=null}),st=n.$on("$translateChangeEnd",function(){it.resolve(),st(),st=null});if(h){if(angular.equals(y,{})&&B.use()&&B.use(B.use()),a&&a.length)for(var lt=function(e){return F(e.key,e.table),n.$emit("$translateChangeEnd",{language:e.key}),e},ct=0,ut=a.length;ut>ct;ct++){var dt=a[ct];(A||!y[dt])&&(P[dt]=z(dt).then(lt))}}else n.$emit("$translateReady",{language:B.use()});return B}]}function r(e,t){"use strict";var n,r={},o="default";return r.setLocale=function(e){n=e},r.getInterpolationIdentifier=function(){return o},r.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},r.interpolate=function(n,r){r=r||{},r=t.sanitize(r,"params");var o=e(n)(r);return o=t.sanitize(o,"text")},r}function o(e,t,n,r,o,a){"use strict";var s=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:e.directivePriority(),compile:function(t,l){var c=l.translateValues?l.translateValues:void 0,u=l.translateInterpolation?l.translateInterpolation:void 0,d=t[0].outerHTML.match(/translate-value-+/i),f="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",p="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(t,h,g){t.interpolateParams={},t.preText="",t.postText="",t.translateNamespace=i(t);var m={},v=function(e,n,r){if(n.translateValues&&angular.extend(e,o(n.translateValues)(t.$parent)),d)for(var i in r)if(Object.prototype.hasOwnProperty.call(n,i)&&"translateValue"===i.substr(0,14)&&"translateValues"!==i){var a=angular.lowercase(i.substr(14,1))+i.substr(15);
e[a]=r[i]}},b=function(e){if(angular.isFunction(b._unwatchOld)&&(b._unwatchOld(),b._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)){var r=s.apply(h.text()),o=r.match(f);if(angular.isArray(o)){t.preText=o[1],t.postText=o[3],m.translate=n(o[2])(t.$parent);var i=r.match(p);angular.isArray(i)&&i[2]&&i[2].length&&(b._unwatchOld=t.$watch(i[2],function(e){m.translate=e,$()}))}else m.translate=r?r:void 0}else m.translate=e;$()},y=function(e){g.$observe(e,function(t){m[e]=t,$()})};v(t.interpolateParams,g,l);var E=!0;g.$observe("translate",function(e){"undefined"==typeof e?b(""):""===e&&E||(m.translate=e,$()),E=!1});for(var _ in g)g.hasOwnProperty(_)&&"translateAttr"===_.substr(0,13)&&y(_);if(g.$observe("translateDefault",function(e){t.defaultText=e,$()}),c&&g.$observe("translateValues",function(e){e&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,o(e)(t.$parent))})}),d){var w=function(e){g.$observe(e,function(n){var r=angular.lowercase(e.substr(14,1))+e.substr(15);t.interpolateParams[r]=n})};for(var C in g)Object.prototype.hasOwnProperty.call(g,C)&&"translateValue"===C.substr(0,14)&&"translateValues"!==C&&w(C)}var $=function(){for(var e in m)m.hasOwnProperty(e)&&void 0!==m[e]&&A(e,m[e],t,t.interpolateParams,t.defaultText,t.translateNamespace)},A=function(t,n,r,o,i,a){n?(a&&"."===n.charAt(0)&&(n=a+n),e(n,o,u,i,r.translateLanguage).then(function(e){S(e,r,!0,t)},function(e){S(e,r,!1,t)})):S(n,r,!1,t)},S=function(t,n,o,i){if("translate"===i){o||"undefined"==typeof n.defaultText||(t=n.defaultText),h.empty().append(n.preText+t+n.postText);var a=e.isPostCompilingEnabled(),s="undefined"!=typeof l.translateCompile,c=s&&"false"!==l.translateCompile;(a&&!s||c)&&r(h.contents())(n)}else{o||"undefined"==typeof n.defaultText||(t=n.defaultText);var u=g.$attr[i];"data-"===u.substr(0,5)&&(u=u.substr(5)),u=u.substr(15),h.attr(u,t)}};(c||d||g.translateDefault)&&t.$watch("interpolateParams",$,!0),t.$watch("translateLanguage",$);var T=a.$on("$translateChangeSuccess",$);h.text().length?b(g.translate?g.translate:""):g.translate&&b(g.translate),$(),t.$on("$destroy",T)}}}}function i(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?i(e.$parent):void 0}function a(e,t){"use strict";return{compile:function(n){var r=function(){n.addClass(e.cloakClassName())},o=function(){n.removeClass(e.cloakClassName())};return e.onReady(function(){o()}),r(),function(n,i,a){a.translateCloak&&a.translateCloak.length&&(a.$observe("translateCloak",function(t){e(t).then(o,r)}),t.$on("$translateChangeSuccess",function(){e(a.translateCloak).then(o,r)}))}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=i(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function i(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?i(e.$parent):void 0}function l(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(e,t,n){n.$observe("translateLanguage",function(t){e.translateLanguage=t})}}}}function c(e,t){"use strict";var n=function(n,r,o,i){return angular.isObject(r)||(r=e(r)(this)),t.instant(n,r,o,i)};return t.statefulFilter()&&(n.$stateful=!0),n}function u(e){"use strict";return e("translations")}return angular.module("pascalprecht.translate",["ng"]).run(e),e.$inject=["$translate"],e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",t),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",r),r.$inject=["$interpolate","$translateSanitization"],r.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",o),o.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],o.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",a),a.$inject=["$translate","$rootScope"],a.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",s),s.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",l),l.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",c),c.$inject=["$parse","$translate"],c.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",u),u.$inject=["$cacheFactory"],u.displayName="$translationCache","pascalprecht.translate"}),function(ns){ns.wrapper=function(goog,fb){function FirebaseIFrameScriptHolder(e,t,n,r){if(this.urlFn=r,this.onDisconnect=n,this.outstandingRequests=new fb.core.util.CountedSet,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,NODE_CLIENT)this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=fb.core.util.LUIDGenerator(),window[FIREBASE_LONGPOLL_COMMAND_CB_NAME+this.uniqueCallbackIdentifier]=e,window[FIREBASE_LONGPOLL_DATA_CB_NAME+this.uniqueCallbackIdentifier]=t,this.myIFrame=this.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){var i=document.domain;o='<script>document.domain="'+i+'";</script>'}var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(s){fb.core.util.log("frame writing exception"),s.stack&&fb.core.util.log(s.stack),fb.core.util.log(s)}}}function letMeUseMapAccessors(){}var CLOSURE_NO_DEPS=!0,CLIENT_VERSION="2.4.1",COMPILED=!1,goog=goog||{};goog.global=this,goog.global.CLOSURE_UNCOMPILED_DEFINES,goog.global.CLOSURE_DEFINES,goog.isDef=function(e){return void 0!==e},goog.exportPath_=function(e,t,n){var r=e.split("."),o=n||goog.global;r[0]in o||!o.execScript||o.execScript("var "+r[0]);for(var i;r.length&&(i=r.shift());)!r.length&&goog.isDef(t)?o[i]=t:o=o[i]?o[i]:o[i]={}},goog.define=function(e,t){var n=t;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)?n=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)&&(n=goog.global.CLOSURE_DEFINES[e])),goog.exportPath_(e,n)},goog.define("goog.DEBUG",!0),goog.define("goog.LOCALE","en"),goog.define("goog.TRUSTED_SITE",!0),goog.define("goog.STRICT_MODE_COMPATIBLE",!1),goog.define("goog.DISALLOW_TEST_ONLY_CODE",COMPILED&&!goog.DEBUG),goog.provide=function(e){if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var n=e;(n=n.substring(0,n.lastIndexOf(".")))&&!goog.getObjectByName(n);)goog.implicitNamespaces_[n]=!0}goog.exportPath_(e,t)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){return COMPILED?void 0:goog.isProvided_(e)?e in goog.loadedModules_?goog.loadedModules_[e]:goog.getObjectByName(e):null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareTestMethods=function(){if(!goog.isInModuleLoader_())throw new Error("goog.module.declareTestMethods must be called from within a goog.module");goog.moduleLoaderState_.declareTestMethods=!0},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw new Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){for(var n,r=e.split("."),o=t||goog.global;n=r.shift();){if(!goog.isDefAndNotNull(o[n]))return null;o=o[n]}return o},goog.globalize=function(e,t){var n=t||goog.global;for(var r in e)n[r]=e[r]},goog.addDependency=function(e,t,n,r){if(goog.DEPENDENCIES_ENABLED){for(var o,i,a=e.replace(/\\/g,"/"),s=goog.dependencies_,l=0;o=t[l];l++)s.nameToPath[o]=a,s.pathIsModule[a]=!!r;for(var c=0;i=n[c];c++)a in s.requires||(s.requires[a]={}),s.requires[a][i]=!0}},goog.define("goog.ENABLE_DEBUG_LOADER",!0),goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(e),goog.isProvided_(e))return goog.isInModuleLoader_()?goog.module.getInternal_(e):null;if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(t)return goog.included_[t]=!0,goog.writeScripts_(),null}var n="goog.require could not find: "+e;throw goog.logToConsole_(n),Error(n)}},goog.basePath="",goog.global.CLOSURE_BASE_PATH,goog.global.CLOSURE_NO_DEPS,goog.global.CLOSURE_IMPORT_SCRIPT,goog.nullFunction=function(){},goog.identityFunction=function(e){return e},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.define("goog.LOAD_MODULE_USING_EVAL",!0),goog.define("goog.SEAL_MODULE_EXPORTS",goog.DEBUG),goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.DEPENDENCIES_ENABLED&&(goog.included_={},goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return"undefined"!=typeof e&&"write"in e},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)return void(goog.basePath=goog.global.CLOSURE_BASE_PATH);if(goog.inHtmlDocument_())for(var e=goog.global.document,t=e.getElementsByTagName("script"),n=t.length-1;n>=0;--n){var r=t[n],o=r.src,i=o.lastIndexOf("?"),a=-1==i?o.length:i;if("base.js"==o.substr(a-7,7))return void(goog.basePath=o.substr(0,a-7))}},goog.importScript_=function(e,t){var n=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;n(e,t)&&(goog.dependencies_.written[e]=!0)},goog.IS_OLD_IE_=!goog.global.atob&&goog.global.document&&goog.global.document.all,goog.importModule_=function(e){var t='goog.retrieveAndExecModule_("'+e+'");';goog.importScript_("",t)&&(goog.dependencies_.written[e]=!0)},goog.queuedModules_=[],goog.wrapModule_=function(e,t){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(t+"\n//# sourceURL="+e+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+t+"\n;return exports});\n//# sourceURL="+e+"\n"},goog.loadQueuedModules_=function(){var e=goog.queuedModules_.length;if(e>0){var t=goog.queuedModules_;goog.queuedModules_=[];for(var n=0;e>n;n++){var r=t[n];goog.maybeProcessDeferredPath_(r)}}},goog.maybeProcessDeferredDep_=function(e){if(goog.isDeferredModule_(e)&&goog.allDepsAreAvailable_(e)){var t=goog.getPathFromDeps_(e);goog.maybeProcessDeferredPath_(goog.basePath+t)}},goog.isDeferredModule_=function(e){var t=goog.getPathFromDeps_(e);if(t&&goog.dependencies_.pathIsModule[t]){var n=goog.basePath+t;return n in goog.dependencies_.deferred}return!1},goog.allDepsAreAvailable_=function(e){var t=goog.getPathFromDeps_(e);if(t&&t in goog.dependencies_.requires)for(var n in goog.dependencies_.requires[t])if(!goog.isProvided_(n)&&!goog.isDeferredModule_(n))return!1;return!0},goog.maybeProcessDeferredPath_=function(e){if(e in goog.dependencies_.deferred){var t=goog.dependencies_.deferred[e];delete goog.dependencies_.deferred[e],goog.globalEval(t)}},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:void 0,declareTestMethods:!1};var n;if(goog.isFunction(e))n=e.call(goog.global,{});else{if(!goog.isString(e))throw Error("Invalid module definition");n=goog.loadModuleFromSource_.call(goog.global,e)}var r=goog.moduleLoaderState_.moduleName;if(!goog.isString(r)||!r)throw Error('Invalid module name "'+r+'"');if(goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(r,n):goog.SEAL_MODULE_EXPORTS&&Object.seal&&Object.seal(n),goog.loadedModules_[r]=n,goog.moduleLoaderState_.declareTestMethods)for(var o in n)(0===o.indexOf("test",0)||"tearDown"==o||"setUp"==o||"setUpPage"==o||"tearDownPage"==o)&&(goog.global[o]=n[o])}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(source){var exports={};return eval(arguments[0]),exports},goog.writeScriptTag_=function(e,t){if(goog.inHtmlDocument_()){var n=goog.global.document;if("complete"==n.readyState){var r=/\bdeps.js$/.test(e);if(r)return!1;throw Error('Cannot write "'+e+'" after document load')}var o=goog.IS_OLD_IE_;if(void 0===t)if(o){var i=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";n.write('<script type="text/javascript" src="'+e+'"'+i+"></script>")}else n.write('<script type="text/javascript" src="'+e+'"></script>');else n.write('<script type="text/javascript">'+t+"</script>");return!0}return!1},goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(e,t){return"complete"==e.readyState&&goog.lastNonModuleScriptIndex_==t&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(){function e(o){if(!(o in r.written)){if(o in r.visited)return void(o in n||(n[o]=!0,t.push(o)));if(r.visited[o]=!0,o in r.requires)for(var i in r.requires[o])if(!goog.isProvided_(i)){if(!(i in r.nameToPath))throw Error("Undefined nameToPath for "+i);e(r.nameToPath[i])}o in n||(n[o]=!0,t.push(o))}}var t=[],n={},r=goog.dependencies_;for(var o in goog.included_)r.written[o]||e(o);for(var i=0;i<t.length;i++){var o=t[i];goog.dependencies_.written[o]=!0}var a=goog.moduleLoaderState_;goog.moduleLoaderState_=null;for(var s=!1,i=0;i<t.length;i++){var o=t[i];if(!o)throw goog.moduleLoaderState_=a,Error("Undefined script input");r.pathIsModule[o]?(s=!0,goog.importModule_(goog.basePath+o)):goog.importScript_(goog.basePath+o)}goog.moduleLoaderState_=a},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.normalizePath_=function(e){for(var t=e.split("/"),n=0;n<t.length;)"."==t[n]?t.splice(n,1):n&&".."==t[n]&&t[n-1]&&".."!=t[n-1]?t.splice(--n,2):n++;return t.join("/")},goog.retrieveAndExecModule_=function(e){if(!COMPILED){var t=e;e=goog.normalizePath_(e);var n=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,r=null,o=new goog.global.XMLHttpRequest;if(o.onload=function(){r=this.responseText},o.open("get",e,!1),o.send(),r=o.responseText,null==r)throw new Error("load of "+e+"failed");var i=goog.wrapModule_(e,r),a=goog.IS_OLD_IE_;a?(goog.dependencies_.deferred[t]=i,goog.queuedModules_.push(t)):n(e,i)}},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(t){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var n="array"==t?[]:{};for(var r in e)n[r]=goog.cloneObject(e[r]);return n}return e},goog.bindNative_=function(e){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t){if(!e)throw new Error;if(arguments.length>2){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}},goog.bind=function(){return goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}},goog.mixin=function(e,t){for(var n in t)e[n]=t[n]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),"undefined"!=typeof goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,n=t.createElement("script");n.type="text/javascript",n.defer=!1,n.appendChild(t.createTextNode(e)),t.body.appendChild(n),t.body.removeChild(n)}}},goog.evalWorksForGlobals_=null,goog.cssNameMapping_,goog.cssNameMappingStyle_,goog.getCssName=function(e,t){var n,r=function(e){return goog.cssNameMapping_[e]||e},o=function(e){for(var t=e.split("-"),n=[],o=0;o<t.length;o++)n.push(r(t[o]));return n.join("-")};return n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:o:function(e){return e},t?e+"-"+n(t):n(e)},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},goog.global.CLOSURE_CSS_NAME_MAPPING,!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){return t&&(e=e.replace(/\{\$([^}]+)}/g,function(e,n){return n in t?t[n]:e})),e},goog.getMsgWithFallback=function(e){return e},goog.exportSymbol=function(e,t,n){goog.exportPath_(e,t,n)},goog.exportProperty=function(e,t,n){e[t]=n},goog.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n){for(var r=new Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return t.prototype[n].apply(e,r)}},goog.base=function(e,t){var n=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!n)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(n.superClass_){for(var r=new Array(arguments.length-1),o=1;o<arguments.length;o++)r[o-1]=arguments[o];return n.superClass_.constructor.apply(e,r)}for(var i=new Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];for(var a=!1,s=e.constructor;s;s=s.superClass_&&s.superClass_.constructor)if(s.prototype[t]===n)a=!0;else if(a)return s.prototype[t].apply(e,i);if(e[t]===n)return e.constructor.prototype[t].apply(e,i);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var n=t.constructor,r=t.statics;n&&n!=Object.prototype.constructor||(n=function(){throw Error("cannot instantiate an interface (no constructor defined).")});var o=goog.defineClass.createSealingConstructor_(n,e);return e&&goog.inherits(o,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(o.prototype,t),null!=r&&(r instanceof Function?r(o):goog.defineClass.applyProperties_(o,r)),o},goog.defineClass.ClassDescriptor,goog.define("goog.defineClass.SEAL_CLASS_INSTANCES",goog.DEBUG),goog.defineClass.createSealingConstructor_=function(e,t){if(goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function){if(t&&t.prototype&&t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_])return e;var n=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===n&&Object.seal(t),t};return n}return e},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],goog.defineClass.applyProperties_=function(e,t){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);for(var r=0;r<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;r++)n=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[r],Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.provide("goog.functions"),goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=goog.functions.constant(!1),goog.functions.TRUE=goog.functions.constant(!0),goog.functions.NULL=goog.functions.constant(null),goog.functions.identity=function(e){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(n){return t?e==n:e===n}},goog.functions.compose=function(){var e=arguments,t=e.length;return function(){var n;t&&(n=e[t-1].apply(this,arguments));for(var r=t-2;r>=0;r--)n=e[r].call(this,n);return n}},goog.functions.sequence=function(){var e=arguments,t=e.length;return function(){for(var n,r=0;t>r;r++)n=e[r].apply(this,arguments);return n}},goog.functions.and=function(){var e=arguments,t=e.length;return function(){for(var n=0;t>n;n++)if(!e[n].apply(this,arguments))return!1;return!0}},goog.functions.or=function(){var e=arguments,t=e.length;return function(){for(var n=0;t>n;n++)if(e[n].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e){var t=function(){};t.prototype=e.prototype;var n=new t;return e.apply(n,Array.prototype.slice.call(arguments,1)),n},goog.define("goog.functions.CACHE_RETURN_VALUE",!0),goog.functions.cacheReturnValue=function(e){var t,n=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(n||(t=e(),n=!0),t):e()}},goog.provide("goog.debug.Error"),goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=(new Error).stack;t&&(this.stack=t)}e&&(this.message=String(e))},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.provide("goog.object"),goog.object.forEach=function(e,t,n){for(var r in e)t.call(n,e[r],r,e)},goog.object.filter=function(e,t,n){var r={};for(var o in e)t.call(n,e[o],o,e)&&(r[o]=e[o]);return r},goog.object.map=function(e,t,n){var r={};for(var o in e)r[o]=t.call(n,e[o],o,e);return r},goog.object.some=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return!0;return!1},goog.object.every=function(e,t,n){for(var r in e)if(!t.call(n,e[r],r,e))return!1;return!0},goog.object.getCount=function(e){var t=0;for(var n in e)t++;return t},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t=[],n=0;for(var r in e)t[n++]=e[r];return t},goog.object.getKeys=function(e){var t=[],n=0;for(var r in e)t[n++]=r;return t},goog.object.getValueByKeys=function(e,t){for(var n=goog.isArrayLike(t),r=n?t:arguments,o=n?0:1;o<r.length&&(e=e[r[o]],goog.isDef(e));o++);return e},goog.object.containsKey=function(e,t){return t in e},goog.object.containsValue=function(e,t){for(var n in e)if(e[n]==t)return!0;return!1},goog.object.findKey=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r;return void 0},goog.object.findValue=function(e,t,n){var r=goog.object.findKey(e,t,n);return r&&e[r]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var n;return(n=t in e)&&delete e[t],n},goog.object.add=function(e,t,n){if(t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,n)},goog.object.get=function(e,t,n){return t in e?e[t]:n},goog.object.set=function(e,t,n){e[t]=n},goog.object.setIfUndefined=function(e,t,n){return t in e?e[t]:e[t]=n},goog.object.setWithReturnValueIfNotSet=function(e,t,n){if(t in e)return e[t];var r=n();return e[t]=r,r},goog.object.equals=function(e,t){for(var n in e)if(!(n in t)||e[n]!==t[n])return!1;for(var n in t)if(!(n in e))return!1;return!0},goog.object.clone=function(e){var t={};for(var n in e)t[n]=e[n];return t},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var n="array"==t?[]:{};for(var r in e)n[r]=goog.object.unsafeClone(e[r]);return n}return e},goog.object.transpose=function(e){var t={};for(var n in e)t[e[n]]=n;return t},goog.object.PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],goog.object.extend=function(e){for(var t,n,r=1;r<arguments.length;r++){n=arguments[r];for(t in n)e[t]=n[t];for(var o=0;o<goog.object.PROTOTYPE_FIELDS_.length;o++)t=goog.object.PROTOTYPE_FIELDS_[o],Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}},goog.object.create=function(){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(e%2)throw Error("Uneven number of arguments");for(var t={},n=0;e>n;n+=2)t[arguments[n]]=arguments[n+1];return t},goog.object.createSet=function(){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var t={},n=0;e>n;n++)t[arguments[n]]=!0;return t},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.provide("goog.dom.NodeType"),goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.provide("goog.json"),goog.provide("goog.json.Replacer"),goog.provide("goog.json.Reviver"),goog.provide("goog.json.Serializer"),goog.define("goog.json.USE_NATIVE_JSON",!1),goog.json.isValid=function(e){if(/^\s*$/.test(e))return!1;var t=/\\["\\\/bfnrtu]/g,n=/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,r=/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,o=/^[\],:{}\s\u2028\u2029]*$/;return o.test(e.replace(t,"@").replace(n,"]").replace(r,""))},goog.json.parse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(s){var o=String(s);if(goog.json.isValid(o))try{return eval("("+o+")")}catch(ex){}throw Error("Invalid JSON string: "+o)},goog.json.unsafeParse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(s){return eval("("+s+")")},goog.json.Replacer,goog.json.Reviver,goog.json.serialize=goog.json.USE_NATIVE_JSON?goog.global.JSON.stringify:function(e,t){return new goog.json.Serializer(t).serialize(e)},goog.json.Serializer=function(e){this.replacer_=e},goog.json.Serializer.prototype.serialize=function(e){var t=[];return this.serializeInternal(e,t),t.join("")},goog.json.Serializer.prototype.serializeInternal=function(e,t){switch(typeof e){case"string":this.serializeString_(e,t);break;case"number":this.serializeNumber_(e,t);break;case"boolean":t.push(e);break;case"undefined":t.push("null");break;case"object":if(null==e){t.push("null");break}if(goog.isArray(e)){this.serializeArray(e,t);break}this.serializeObject_(e,t);break;case"function":break;default:throw Error("Unknown type: "+typeof e)}},goog.json.Serializer.charToJsonCharCache_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},goog.json.Serializer.charsToReplace_=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,goog.json.Serializer.prototype.serializeString_=function(e,t){t.push('"',e.replace(goog.json.Serializer.charsToReplace_,function(e){if(e in goog.json.Serializer.charToJsonCharCache_)return goog.json.Serializer.charToJsonCharCache_[e];var t=e.charCodeAt(0),n="\\u";return 16>t?n+="000":256>t?n+="00":4096>t&&(n+="0"),goog.json.Serializer.charToJsonCharCache_[e]=n+t.toString(16)}),'"')},goog.json.Serializer.prototype.serializeNumber_=function(e,t){t.push(isFinite(e)&&!isNaN(e)?e:"null")},goog.json.Serializer.prototype.serializeArray=function(e,t){var n=e.length;t.push("[");for(var r="",o=0;n>o;o++){t.push(r);var i=e[o];this.serializeInternal(this.replacer_?this.replacer_.call(e,String(o),i):i,t),r=","}t.push("]")},goog.json.Serializer.prototype.serializeObject_=function(e,t){t.push("{");var n="";for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=e[r];"function"!=typeof o&&(t.push(n),this.serializeString_(r,t),t.push(":"),this.serializeInternal(this.replacer_?this.replacer_.call(e,r,o):o,t),n=",")}t.push("}")},goog.provide("goog.string"),goog.provide("goog.string.Unicode"),goog.define("goog.string.DETECT_DOUBLE_ESCAPING",!1),goog.define("goog.string.FORCE_NON_DOM_HTML_UNESCAPING",!1),goog.string.Unicode={NBSP:" "},goog.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)
},goog.string.endsWith=function(e,t){var n=e.length-t.length;return n>=0&&e.indexOf(t,n)==n},goog.string.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.subs=function(e){for(var t=e.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&t.length>1;)n+=t.shift()+r.shift();return n+t.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&e>=" "&&"~">=e||e>=""&&"�">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(e,t){var n=String(e).toLowerCase(),r=String(t).toLowerCase();return r>n?-1:n==r?0:1},goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g,goog.string.numerateCompare=function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=e.toLowerCase().match(goog.string.numerateCompareRegExp_),r=t.toLowerCase().match(goog.string.numerateCompareRegExp_),o=Math.min(n.length,r.length),i=0;o>i;i++){var a=n[i],s=r[i];if(a!=s){var l=parseInt(a,10);if(!isNaN(l)){var c=parseInt(s,10);if(!isNaN(c)&&l-c)return l-c}return s>a?-1:1}}return n.length!=r.length?n.length-r.length:t>e?-1:1},goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.htmlEscape=function(e,t){return t?(e=e.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e):goog.string.ALL_RE_.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(goog.string.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\x00")&&(e=e.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&-1!=e.indexOf("e")&&(e=e.replace(goog.string.E_RE_,"&#101;")),e):e},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/'/g,goog.string.NULL_RE_=/\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var n,r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return n=t?t.createElement("div"):goog.global.document.createElement("div"),e.replace(goog.string.HTML_ENTITY_PATTERN_,function(e,t){var o=r[e];if(o)return o;if("#"==t.charAt(0)){var i=Number("0"+t.substr(1));isNaN(i)||(o=String.fromCharCode(i))}return o||(n.innerHTML=e+" ",o=n.firstChild.nodeValue.slice(0,-1)),r[e]=o})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==t.charAt(0)){var n=Number("0"+t.substr(1));if(!isNaN(n))return String.fromCharCode(n)}return e}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var n=t.length,r=0;n>r;r++){var o=1==n?t:t.charAt(r);if(e.charAt(0)==o&&e.charAt(e.length-1)==o)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,n){return n&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),n&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,n,r){if(n&&(e=goog.string.unescapeEntities(e)),r&&e.length>t){r>t&&(r=t);var o=e.length-r,i=t-r;e=e.substring(0,i)+"..."+e.substring(o)}else if(e.length>t){var a=Math.floor(t/2),s=e.length-a;a+=t%2,e=e.substring(0,a)+"..."+e.substring(s)}return n&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\x0B",'"':'\\"',"\\":"\\\\"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){if(e=String(e),e.quote)return e.quote();for(var t=['"'],n=0;n<e.length;n++){var r=e.charAt(n),o=r.charCodeAt(0);t[n+1]=goog.string.specialEscapeChars_[r]||(o>31&&127>o?r:goog.string.escapeChar(r))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=goog.string.escapeChar(e.charAt(n));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e,n=e.charCodeAt(0);return n>31&&127>n?t=e:(256>n?(t="\\x",(16>n||n>256)&&(t+="0")):(t="\\u",4096>n&&(t+="0")),t+=n.toString(16).toUpperCase()),goog.string.jsEscapeCache_[e]=t},goog.string.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.caseInsensitiveContains=function(e,t){return goog.string.contains(e.toLowerCase(),t.toLowerCase())},goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,n){var r=e;return t>=0&&t<e.length&&n>0&&(r=e.substr(0,t)+e.substr(t+n,e.length-t-n)),r},goog.string.remove=function(e,t){var n=new RegExp(goog.string.regExpEscape(t),"");return e.replace(n,"")},goog.string.removeAll=function(e,t){var n=new RegExp(goog.string.regExpEscape(t),"g");return e.replace(n,"")},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=function(e,t){return new Array(t+1).join(e)},goog.string.padNumber=function(e,t,n){var r=goog.isDef(n)?e.toFixed(n):String(e),o=r.indexOf(".");return-1==o&&(o=r.length),goog.string.repeat("0",Math.max(0,t-o))+r},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){var e=2147483648;return Math.floor(Math.random()*e).toString(36)+Math.abs(Math.floor(Math.random()*e)^goog.now()).toString(36)},goog.string.compareVersions=function(e,t){for(var n=0,r=goog.string.trim(String(e)).split("."),o=goog.string.trim(String(t)).split("."),i=Math.max(r.length,o.length),a=0;0==n&&i>a;a++){var s=r[a]||"",l=o[a]||"",c=new RegExp("(\\d*)(\\D*)","g"),u=new RegExp("(\\d*)(\\D*)","g");do{var d=c.exec(s)||["","",""],f=u.exec(l)||["","",""];if(0==d[0].length&&0==f[0].length)break;var p=0==d[1].length?0:parseInt(d[1],10),h=0==f[1].length?0:parseInt(f[1],10);n=goog.string.compareElements_(p,h)||goog.string.compareElements_(0==d[2].length,0==f[2].length)||goog.string.compareElements_(d[2],f[2])}while(0==n)}return n},goog.string.compareElements_=function(e,t){return t>e?-1:e>t?1:0},goog.string.HASHCODE_MAX_=4294967296,goog.string.hashCode=function(e){for(var t=0,n=0;n<e.length;++n)t=31*t+e.charCodeAt(n),t%=goog.string.HASHCODE_MAX_;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?0/0:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){var n=goog.isString(t)?goog.string.regExpEscape(t):"\\s";n=n?"|["+n+"]+":"";var r=new RegExp("(^"+n+")([a-z])","g");return e.replace(r,function(e,t,n){return t+n.toUpperCase()})},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):0/0},goog.string.splitLimit=function(e,t,n){for(var r=e.split(t),o=[];n>0&&r.length;)o.push(r.shift()),n--;return r.length&&o.push(r.join(t)),o},goog.string.editDistance=function(e,t){var n=[],r=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var o=0;o<t.length+1;o++)n[o]=o;for(var o=0;o<e.length;o++){r[0]=o+1;for(var i=0;i<t.length;i++){var a=e[o]!=t[i];r[i+1]=Math.min(r[i]+1,n[i+1]+1,n[i]+a)}for(var i=0;i<n.length;i++)n[i]=r[i]}return r[t.length]},goog.provide("goog.labs.userAgent.util"),goog.require("goog.string"),goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();if(e){var t=e.userAgent;if(t)return t}return""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,n=new RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),r=[];t=n.exec(e);)r.push([t[1],t[2],t[3]||void 0]);return r},goog.provide("goog.labs.userAgent.platform"),goog.require("goog.labs.userAgent.util"),goog.require("goog.string"),goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.getVersion=function(){var e,t=goog.labs.userAgent.util.getUserAgent(),n="";if(goog.labs.userAgent.platform.isWindows()){e=/Windows (?:NT|Phone) ([0-9.]+)/;var r=e.exec(t);n=r?r[1]:"0.0"}else if(goog.labs.userAgent.platform.isIos()){e=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/;var r=e.exec(t);n=r&&r[1].replace(/_/g,".")}else if(goog.labs.userAgent.platform.isMacintosh()){e=/Mac OS X ([0-9_.]+)/;var r=e.exec(t);n=r?r[1].replace(/_/g,"."):"10"}else if(goog.labs.userAgent.platform.isAndroid()){e=/Android\s+([^\);]+)(\)|;)/;var r=e.exec(t);n=r&&r[1]}else if(goog.labs.userAgent.platform.isChromeOS()){e=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/;var r=e.exec(t);n=r&&r[1]}return n||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)>=0},goog.provide("goog.crypt.Hash"),goog.crypt.Hash=function(){this.blockSize=-1},goog.crypt.Hash.prototype.reset=goog.abstractMethod,goog.crypt.Hash.prototype.update=goog.abstractMethod,goog.crypt.Hash.prototype.digest=goog.abstractMethod,goog.provide("goog.crypt.Sha1"),goog.require("goog.crypt.Hash"),goog.crypt.Sha1=function(){goog.crypt.Sha1.base(this,"constructor"),this.blockSize=64,this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.inbuf_=0,this.total_=0,this.reset()},goog.inherits(goog.crypt.Sha1,goog.crypt.Hash),goog.crypt.Sha1.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},goog.crypt.Sha1.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if(goog.isString(e))for(var r=0;16>r;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var r=0;16>r;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var r=16;80>r;r++){var o=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(o<<1|o>>>31)}for(var i,a,s=this.chain_[0],l=this.chain_[1],c=this.chain_[2],u=this.chain_[3],d=this.chain_[4],r=0;80>r;r++){40>r?20>r?(i=u^l&(c^u),a=1518500249):(i=l^c^u,a=1859775393):60>r?(i=l&c|u&(l|c),a=2400959708):(i=l^c^u,a=3395469782);var o=(s<<5|s>>>27)+i+d+a+n[r]&4294967295;d=u,u=c,c=4294967295&(l<<30|l>>>2),l=s,s=o}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},goog.crypt.Sha1.prototype.update=function(e,t){if(null!=e){goog.isDef(t)||(t=e.length);for(var n=t-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;t>r;){if(0==i)for(;n>=r;)this.compress_(e,r),r+=this.blockSize;if(goog.isString(e)){for(;t>r;)if(o[i]=e.charCodeAt(r),++i,++r,i==this.blockSize){this.compress_(o),i=0;break}}else for(;t>r;)if(o[i]=e[r],++i,++r,i==this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}},goog.crypt.Sha1.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,n=0;5>n;n++)for(var o=24;o>=0;o-=8)e[r]=this.chain_[n]>>o&255,++r;return e},goog.provide("goog.testing.watchers"),goog.testing.watchers.resetWatchers_=[],goog.testing.watchers.signalClockReset=function(){for(var e=goog.testing.watchers.resetWatchers_,t=0;t<e.length;t++)goog.testing.watchers.resetWatchers_[t]()},goog.testing.watchers.watchClockReset=function(e){goog.testing.watchers.resetWatchers_.push(e)},goog.provide("goog.promise.Resolver"),goog.promise.Resolver=function(){},goog.promise.Resolver.prototype.promise,goog.promise.Resolver.prototype.resolve,goog.promise.Resolver.prototype.reject,goog.provide("goog.Thenable"),goog.Thenable=function(){},goog.Thenable.prototype.then=function(){},goog.Thenable.IMPLEMENTED_BY_PROP="$goog_Thenable",goog.Thenable.addImplementation=function(e){goog.exportProperty(e.prototype,"then",e.prototype.then),COMPILED?e.prototype[goog.Thenable.IMPLEMENTED_BY_PROP]=!0:e.prototype.$goog_Thenable=!0},goog.Thenable.isImplementedBy=function(e){if(!e)return!1;try{return COMPILED?!!e[goog.Thenable.IMPLEMENTED_BY_PROP]:!!e.$goog_Thenable}catch(t){return!1}},goog.provide("goog.asserts"),goog.provide("goog.asserts.AssertionError"),goog.require("goog.debug.Error"),goog.require("goog.dom.NodeType"),goog.require("goog.string"),goog.define("goog.asserts.ENABLE_ASSERTS",goog.DEBUG),goog.asserts.AssertionError=function(e,t){t.unshift(e),goog.debug.Error.call(this,goog.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.doAssertFailure_=function(e,t,n,r){var o="Assertion failed";if(n){o+=": "+n;var i=r}else e&&(o+=": "+e,i=t);var a=new goog.asserts.AssertionError(""+o,i||[]);goog.asserts.errorHandler_(a)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,n){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],n,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.provide("goog.array"),goog.provide("goog.array.ArrayLike"),goog.require("goog.asserts"),goog.define("goog.NATIVE_ARRAY_PROTOTYPES",goog.TRUSTED_SITE),goog.define("goog.array.ASSUME_NATIVE_FUNCTIONS",!1),goog.array.ArrayLike,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.ARRAY_PROTOTYPE_=Array.prototype,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.indexOf)?function(e,t,n){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.indexOf.call(e,t,n)}:function(e,t,n){var r=null==n?0:0>n?Math.max(0,e.length+n):n;if(goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,r):-1;for(var o=r;o<e.length;o++)if(o in e&&e[o]===t)return o;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.lastIndexOf)?function(e,t,n){goog.asserts.assert(null!=e.length);var r=null==n?e.length-1:n;return goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(e,t,r)}:function(e,t,n){var r=null==n?e.length-1:n;if(0>r&&(r=Math.max(0,e.length+r)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,r):-1;for(var o=r;o>=0;o--)if(o in e&&e[o]===t)return o;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.forEach)?function(e,t,n){goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=goog.isString(e)?e.split(""):e,i=0;r>i;i++)i in o&&t.call(n,o[i],i,e)},goog.array.forEachRight=function(e,t,n){for(var r=e.length,o=goog.isString(e)?e.split(""):e,i=r-1;i>=0;--i)i in o&&t.call(n,o[i],i,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.filter)?function(e,t,n){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.filter.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=[],i=0,a=goog.isString(e)?e.split(""):e,s=0;r>s;s++)if(s in a){var l=a[s];t.call(n,l,s,e)&&(o[i++]=l)}return o},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.map)?function(e,t,n){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.map.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=new Array(r),i=goog.isString(e)?e.split(""):e,a=0;r>a;a++)a in i&&(o[a]=t.call(n,i[a],a,e));return o},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduce)?function(e,t,n,r){goog.asserts.assert(null!=e.length);for(var o=[],i=1,a=arguments.length;a>i;i++)o.push(arguments[i]);return r&&(o[0]=goog.bind(t,r)),goog.array.ARRAY_PROTOTYPE_.reduce.apply(e,o)}:function(e,t,n,r){var o=n;return goog.array.forEach(e,function(n,i){o=t.call(r,o,n,i,e)}),o},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduceRight)?function(e,t,n,r){return goog.asserts.assert(null!=e.length),r&&(t=goog.bind(t,r)),goog.array.ARRAY_PROTOTYPE_.reduceRight.call(e,t,n)}:function(e,t,n,r){var o=n;return goog.array.forEachRight(e,function(n,i){o=t.call(r,o,n,i,e)}),o},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.some)?function(e,t,n){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.some.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=goog.isString(e)?e.split(""):e,i=0;r>i;i++)if(i in o&&t.call(n,o[i],i,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.every)?function(e,t,n){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.every.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=goog.isString(e)?e.split(""):e,i=0;r>i;i++)if(i in o&&!t.call(n,o[i],i,e))return!1;return!0},goog.array.count=function(e,t,n){var r=0;return goog.array.forEach(e,function(e,o,i){t.call(n,e,o,i)&&++r},n),r},goog.array.find=function(e,t,n){var r=goog.array.findIndex(e,t,n);return 0>r?null:goog.isString(e)?e.charAt(r):e[r]},goog.array.findIndex=function(e,t,n){for(var r=e.length,o=goog.isString(e)?e.split(""):e,i=0;r>i;i++)if(i in o&&t.call(n,o[i],i,e))return i;return-1},goog.array.findRight=function(e,t,n){var r=goog.array.findIndexRight(e,t,n);return 0>r?null:goog.isString(e)?e.charAt(r):e[r]},goog.array.findIndexRight=function(e,t,n){for(var r=e.length,o=goog.isString(e)?e.split(""):e,i=r-1;i>=0;i--)if(i in o&&t.call(n,o[i],i,e))return i;return-1},goog.array.contains=function(e,t){return goog.array.indexOf(e,t)>=0},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;t>=0;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,n){goog.array.splice(e,n,0,t)},goog.array.insertArrayAt=function(e,t,n){goog.partial(goog.array.splice,e,n,0).apply(null,t)},goog.array.insertBefore=function(e,t,n){var r;2==arguments.length||(r=goog.array.indexOf(e,n))<0?e.push(t):goog.array.insertAt(e,t,r)},goog.array.remove=function(e,t){var n,r=goog.array.indexOf(e,t);return(n=r>=0)&&goog.array.removeAt(e,r),n},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==goog.array.ARRAY_PROTOTYPE_.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,n){var r=goog.array.findIndex(e,t,n);return r>=0?(goog.array.removeAt(e,r),!0):!1},goog.array.removeAllIf=function(e,t,n){var r=0;return goog.array.forEachRight(e,function(o,i){t.call(n,o,i,e)&&goog.array.removeAt(e,i)&&r++}),r},goog.array.concat=function(){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.join=function(){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.toArray=function(e){var t=e.length;if(t>0){for(var n=new Array(t),r=0;t>r;r++)n[r]=e[r];return n}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(goog.isArrayLike(n)){var r=e.length||0,o=n.length||0;e.length=r+o;for(var i=0;o>i;i++)e[r+i]=n[i]}else e.push(n)}},goog.array.splice=function(e){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,n){return goog.asserts.assert(null!=e.length),arguments.length<=2?goog.array.ARRAY_PROTOTYPE_.slice.call(e,t):goog.array.ARRAY_PROTOTYPE_.slice.call(e,t,n)},goog.array.removeDuplicates=function(e,t,n){for(var r=t||e,o=function(){return goog.isObject(c)?"o"+goog.getUid(c):(typeof c).charAt(0)+c},i=n||o,a={},s=0,l=0;l<e.length;){var c=e[l++],u=i(c);Object.prototype.hasOwnProperty.call(a,u)||(a[u]=!0,r[s++]=c)}r.length=s},goog.array.binarySearch=function(e,t,n){return goog.array.binarySearch_(e,n||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,n){return goog.array.binarySearch_(e,t,!0,void 0,n)},goog.array.binarySearch_=function(e,t,n,r,o){for(var i,a=0,s=e.length;s>a;){var l,c=a+s>>1;l=n?t.call(o,e[c],c,e):t(r,e[c]),l>0?a=c+1:(s=c,i=!l)}return i?a:~a},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){function n(e,t){return o(e.value,t.value)||e.index-t.index}for(var r=0;r<e.length;r++)e[r]={index:r,value:e[r]};var o=t||goog.array.defaultCompare;goog.array.sort(e,n);for(var r=0;r<e.length;r++)e[r]=e[r].value},goog.array.sortByKey=function(e,t,n){var r=n||goog.array.defaultCompare;goog.array.sort(e,function(e,n){return r(t(e),t(n))})},goog.array.sortObjectsByKey=function(e,t,n){goog.array.sortByKey(e,function(e){return e[t]},n)},goog.array.isSorted=function(e,t,n){for(var r=t||goog.array.defaultCompare,o=1;o<e.length;o++){var i=r(e[o-1],e[o]);if(i>0||0==i&&n)return!1}return!0},goog.array.equals=function(e,t,n){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;for(var r=e.length,o=n||goog.array.defaultCompareEquality,i=0;r>i;i++)if(!o(e[i],t[i]))return!1;return!0},goog.array.compare3=function(e,t,n){for(var r=n||goog.array.defaultCompare,o=Math.min(e.length,t.length),i=0;o>i;i++){var a=r(e[i],t[i]);if(0!=a)return a}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:t>e?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,n){var r=goog.array.binarySearch(e,t,n);return 0>r?(goog.array.insertAt(e,t,-(r+1)),!0):!1},goog.array.binaryRemove=function(e,t,n){var r=goog.array.binarySearch(e,t,n);return r>=0?goog.array.removeAt(e,r):!1},goog.array.bucket=function(e,t,n){for(var r={},o=0;o<e.length;o++){var i=e[o],a=t.call(n,i,o,e);if(goog.isDef(a)){var s=r[a]||(r[a]=[]);s.push(i)}}return r},goog.array.toObject=function(e,t,n){var r={};return goog.array.forEach(e,function(o,i){r[t.call(n,o,i,e)]=o}),r},goog.array.range=function(e,t,n){var r=[],o=0,i=e,a=n||1;if(void 0!==t&&(o=e,i=t),0>a*(i-o))return[];if(a>0)for(var s=o;i>s;s+=a)r.push(s);else for(var s=o;s>i;s+=a)r.push(s);return r},goog.array.repeat=function(e,t){for(var n=[],r=0;t>r;r++)n[r]=e;return n},goog.array.flatten=function(){for(var e=8192,t=[],n=0;n<arguments.length;n++){var r=arguments[n];if(goog.isArray(r))for(var o=0;o<r.length;o+=e)for(var i=goog.array.slice(r,o,o+e),a=goog.array.flatten.apply(null,i),s=0;s<a.length;s++)t.push(a[s]);else t.push(r)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(t%=e.length,t>0?goog.array.ARRAY_PROTOTYPE_.unshift.apply(e,e.splice(-t,t)):0>t&&goog.array.ARRAY_PROTOTYPE_.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,n){goog.asserts.assert(t>=0&&t<e.length),goog.asserts.assert(n>=0&&n<e.length);var r=goog.array.ARRAY_PROTOTYPE_.splice.call(e,t,1);goog.array.ARRAY_PROTOTYPE_.splice.call(e,n,0,r[0])},goog.array.zip=function(){if(!arguments.length)return[];for(var e=[],t=0;!0;t++){for(var n=[],r=0;r<arguments.length;r++){var o=arguments[r];if(t>=o.length)return e;n.push(o[t])}e.push(n)}},goog.array.shuffle=function(e,t){for(var n=t||Math.random,r=e.length-1;r>0;r--){var o=Math.floor(n()*(r+1)),i=e[r];e[r]=e[o],e[o]=i}},goog.array.copyByIndex=function(e,t){var n=[];return goog.array.forEach(t,function(t){n.push(e[t])}),n},goog.provide("goog.debug.EntryPointMonitor"),goog.provide("goog.debug.entryPointRegistry"),goog.require("goog.asserts"),goog.debug.EntryPointMonitor=function(){},goog.debug.EntryPointMonitor.prototype.wrap,goog.debug.EntryPointMonitor.prototype.unwrap,goog.debug.entryPointRegistry.refList_=[],goog.debug.entryPointRegistry.monitors_=[],goog.debug.entryPointRegistry.monitorsMayExist_=!1,goog.debug.entryPointRegistry.register=function(e){if(goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=e,goog.debug.entryPointRegistry.monitorsMayExist_)for(var t=goog.debug.entryPointRegistry.monitors_,n=0;n<t.length;n++)e(goog.bind(t[n].wrap,t[n]))
},goog.debug.entryPointRegistry.monitorAll=function(e){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var t=goog.bind(e.wrap,e),n=0;n<goog.debug.entryPointRegistry.refList_.length;n++)goog.debug.entryPointRegistry.refList_[n](t);goog.debug.entryPointRegistry.monitors_.push(e)},goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(e){var t=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(e==t[t.length-1],"Only the most recent monitor can be unwrapped.");for(var n=goog.bind(e.unwrap,e),r=0;r<goog.debug.entryPointRegistry.refList_.length;r++)goog.debug.entryPointRegistry.refList_[r](n);t.length--},goog.provide("goog.labs.userAgent.browser"),goog.require("goog.array"),goog.require("goog.labs.userAgent.util"),goog.require("goog.object"),goog.require("goog.string"),goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")||goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchOpera_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){var t=goog.array.find(e,o);return r[t]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);var n=goog.labs.userAgent.util.extractVersionTuples(t),r={};goog.array.forEach(n,function(e){var t=e[0],n=e[1];r[t]=n});var o=goog.partial(goog.object.containsKey,r);if(goog.labs.userAgent.browser.isOpera())return e(["Version","Opera","OPR"]);if(goog.labs.userAgent.browser.isChrome())return e(["Chrome","CriOS"]);var i=n[2];return i&&i[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),e)>=0},goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];var n="",r=/MSIE +([\d\.]+)/.exec(e);if(r&&r[1]){var o=/Trident\/(\d.\d)/.exec(e);if("7.0"==r[1])if(o&&o[1])switch(o[1]){case"4.0":n="8.0";break;case"5.0":n="9.0";break;case"6.0":n="10.0";break;case"7.0":n="11.0"}else n="7.0";else n=r[1]}return n},goog.provide("goog.labs.userAgent.engine"),goog.require("goog.array"),goog.require("goog.labs.userAgent.util"),goog.require("goog.string"),goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){var t=goog.labs.userAgent.util.extractVersionTuples(e),n=t[1];if(n)return"Gecko"==n[0]?goog.labs.userAgent.engine.getVersionForKey_(t,"Firefox"):n[1];var r,o=t[0];if(o&&(r=o[2])){var i=/Trident\/([^\s;]+)/.exec(r);if(i)return i[1]}}return""},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)>=0},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){var n=goog.array.find(e,function(e){return t==e[0]});return n&&n[1]||""},goog.provide("goog.async.nextTick"),goog.provide("goog.async.throwException"),goog.require("goog.debug.entryPointRegistry"),goog.require("goog.functions"),goog.require("goog.labs.userAgent.browser"),goog.require("goog.labs.userAgent.engine"),goog.async.throwException=function(e){goog.global.setTimeout(function(){throw e},0)},goog.async.nextTick=function(e,t,n){var r=e;return t&&(r=goog.bind(e,t)),r=goog.async.nextTick.wrapCallback_(r),!goog.isFunction(goog.global.setImmediate)||!n&&goog.global.Window&&goog.global.Window.prototype&&goog.global.Window.prototype.setImmediate==goog.global.setImmediate?(goog.async.nextTick.setImmediate_||(goog.async.nextTick.setImmediate_=goog.async.nextTick.getSetImmediateEmulator_()),void goog.async.nextTick.setImmediate_(r)):void goog.global.setImmediate(r)},goog.async.nextTick.setImmediate_,goog.async.nextTick.getSetImmediateEmulator_=function(){var e=goog.global.MessageChannel;if("undefined"==typeof e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!goog.labs.userAgent.engine.isPresto()&&(e=function(){var e=document.createElement("iframe");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow,n=t.document;n.open(),n.write(""),n.close();var r="callImmediate"+Math.random(),o="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host,i=goog.bind(function(e){"*"!=o&&e.origin!=o||e.data!=r||this.port1.onmessage()},this);t.addEventListener("message",i,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(r,o)}}}),"undefined"!=typeof e&&!goog.labs.userAgent.browser.isIE()){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(goog.isDef(n.next)){n=n.next;var e=n.cb;n.cb=null,e()}},function(e){r.next={cb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(e){var t=document.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){goog.global.setTimeout(e,0)}},goog.async.nextTick.wrapCallback_=goog.functions.identity,goog.debug.entryPointRegistry.register(function(e){goog.async.nextTick.wrapCallback_=e}),goog.provide("goog.async.run"),goog.require("goog.async.nextTick"),goog.require("goog.async.throwException"),goog.require("goog.testing.watchers"),goog.async.run=function(e,t){goog.async.run.schedule_||goog.async.run.initializeRunner_(),goog.async.run.workQueueScheduled_||(goog.async.run.schedule_(),goog.async.run.workQueueScheduled_=!0),goog.async.run.workQueue_.push(new goog.async.run.WorkItem_(e,t))},goog.async.run.initializeRunner_=function(){if(goog.global.Promise&&goog.global.Promise.resolve){var e=goog.global.Promise.resolve();goog.async.run.schedule_=function(){e.then(goog.async.run.processWorkQueue)}}else goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue)}},goog.async.run.forceNextTick=function(){goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue)}},goog.async.run.schedule_,goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=[],goog.DEBUG&&(goog.async.run.resetQueue_=function(){goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=[]},goog.testing.watchers.watchClockReset(goog.async.run.resetQueue_)),goog.async.run.processWorkQueue=function(){for(;goog.async.run.workQueue_.length;){var e=goog.async.run.workQueue_;goog.async.run.workQueue_=[];for(var t=0;t<e.length;t++){var n=e[t];try{n.fn.call(n.scope)}catch(r){goog.async.throwException(r)}}}goog.async.run.workQueueScheduled_=!1},goog.async.run.WorkItem_=function(e,t){this.fn=e,this.scope=t},goog.provide("goog.crypt"),goog.require("goog.array"),goog.require("goog.asserts"),goog.crypt.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){for(var o=e.charCodeAt(r);o>255;)t[n++]=255&o,o>>=8;t[n++]=o}return t},goog.crypt.byteArrayToString=function(e){var t=8192;if(e.length<t)return String.fromCharCode.apply(null,e);for(var n="",r=0;r<e.length;r+=t){var o=goog.array.slice(e,r,r+t);n+=String.fromCharCode.apply(null,o)}return n},goog.crypt.byteArrayToHex=function(e){return goog.array.map(e,function(e){var t=e.toString(16);return t.length>1?t:"0"+t}).join("")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(e.length%2==0,"Key string length must be multiple of 2");for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substring(n,n+2),16));return t},goog.crypt.stringToUtf8ByteArray=function(e){e=e.replace(/\r\n/g,"\n");for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);128>o?t[n++]=o:2048>o?(t[n++]=o>>6|192,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},goog.crypt.utf8ByteArrayToString=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(128>o)t[r++]=String.fromCharCode(o);else if(o>191&&224>o){var i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else{var i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return t.join("")},goog.crypt.xorByteArray=function(e,t){goog.asserts.assert(e.length==t.length,"XOR array lengths must match");for(var n=[],r=0;r<e.length;r++)n.push(e[r]^t[r]);return n},goog.provide("goog.userAgent"),goog.require("goog.labs.userAgent.browser"),goog.require("goog.labs.userAgent.engine"),goog.require("goog.labs.userAgent.platform"),goog.require("goog.labs.userAgent.util"),goog.require("goog.string"),goog.define("goog.userAgent.ASSUME_IE",!1),goog.define("goog.userAgent.ASSUME_GECKO",!1),goog.define("goog.userAgent.ASSUME_WEBKIT",!1),goog.define("goog.userAgent.ASSUME_MOBILE_WEBKIT",!1),goog.define("goog.userAgent.ASSUME_OPERA",!1),goog.define("goog.userAgent.ASSUME_ANY_VERSION",!1),goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigator=function(){return goog.global.navigator||null},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigator();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.define("goog.userAgent.ASSUME_MAC",!1),goog.define("goog.userAgent.ASSUME_WINDOWS",!1),goog.define("goog.userAgent.ASSUME_LINUX",!1),goog.define("goog.userAgent.ASSUME_X11",!1),goog.define("goog.userAgent.ASSUME_ANDROID",!1),goog.define("goog.userAgent.ASSUME_IPHONE",!1),goog.define("goog.userAgent.ASSUME_IPAD",!1),goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigator();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.determineVersion_=function(){var e,t="";if(goog.userAgent.OPERA&&goog.global.opera){var n=goog.global.opera.version;return goog.isFunction(n)?n():n}if(goog.userAgent.GECKO?e=/rv\:([^\);]+)(\)|;)/:goog.userAgent.IE?e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:goog.userAgent.WEBKIT&&(e=/WebKit\/(\S+)/),e){var r=e.exec(goog.userAgent.getUserAgentString());t=r?r[1]:""}if(goog.userAgent.IE){var o=goog.userAgent.getDocumentMode_();if(o>parseFloat(t))return String(o)}return t},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionOrHigherCache_[e]||(goog.userAgent.isVersionOrHigherCache_[e]=goog.string.compareVersions(goog.userAgent.VERSION,e)>=0)},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return goog.userAgent.IE&&goog.userAgent.DOCUMENT_MODE>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){var e=goog.global.document;if(!e||!goog.userAgent.IE)return void 0;var t=goog.userAgent.getDocumentMode_();return t||("CSS1Compat"==e.compatMode?parseInt(goog.userAgent.VERSION,10):5)}(),goog.provide("goog.crypt.base64"),goog.require("goog.crypt"),goog.require("goog.userAgent"),goog.crypt.base64.byteToCharMap_=null,goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.byteToCharMapWebSafe_=null,goog.crypt.base64.charToByteMapWebSafe_=null,goog.crypt.base64.ENCODED_VALS_BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.ENCODED_VALS_BASE+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.ENCODED_VALS_BASE+"-_.",goog.crypt.base64.HAS_NATIVE_SUPPORT=goog.userAgent.GECKO||goog.userAgent.WEBKIT||goog.userAgent.OPERA||"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(e,t){if(!goog.isArrayLike(e))throw Error("encodeByteArray takes an array as a parameter");goog.crypt.base64.init_();for(var n=t?goog.crypt.base64.byteToCharMapWebSafe_:goog.crypt.base64.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var i=e[o],a=o+1<e.length,s=a?e[o+1]:0,l=o+2<e.length,c=l?e[o+2]:0,u=i>>2,d=(3&i)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;l||(p=64,a||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},goog.crypt.base64.encodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_SUPPORT&&!t?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),t)},goog.crypt.base64.decodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_SUPPORT&&!t?goog.global.atob(e):goog.crypt.byteArrayToString(goog.crypt.base64.decodeStringToByteArray(e,t))},goog.crypt.base64.decodeStringToByteArray=function(e,t){goog.crypt.base64.init_();for(var n=t?goog.crypt.base64.charToByteMapWebSafe_:goog.crypt.base64.charToByteMap_,r=[],o=0;o<e.length;){var i=n[e.charAt(o++)],a=o<e.length,s=a?n[e.charAt(o)]:0;++o;var l=o<e.length,c=l?n[e.charAt(o)]:64;++o;var u=o<e.length,d=u?n[e.charAt(o)]:64;if(++o,null==i||null==s||null==c||null==d)throw Error();var f=i<<2|s>>4;if(r.push(f),64!=c){var p=s<<4&240|c>>2;if(r.push(p),64!=d){var h=c<<6&192|d;r.push(h)}}}return r},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.byteToCharMap_){goog.crypt.base64.byteToCharMap_={},goog.crypt.base64.charToByteMap_={},goog.crypt.base64.byteToCharMapWebSafe_={},goog.crypt.base64.charToByteMapWebSafe_={};for(var e=0;e<goog.crypt.base64.ENCODED_VALS.length;e++)goog.crypt.base64.byteToCharMap_[e]=goog.crypt.base64.ENCODED_VALS.charAt(e),goog.crypt.base64.charToByteMap_[goog.crypt.base64.byteToCharMap_[e]]=e,goog.crypt.base64.byteToCharMapWebSafe_[e]=goog.crypt.base64.ENCODED_VALS_WEBSAFE.charAt(e),goog.crypt.base64.charToByteMapWebSafe_[goog.crypt.base64.byteToCharMapWebSafe_[e]]=e,e>=goog.crypt.base64.ENCODED_VALS_BASE.length&&(goog.crypt.base64.charToByteMap_[goog.crypt.base64.ENCODED_VALS_WEBSAFE.charAt(e)]=e,goog.crypt.base64.charToByteMapWebSafe_[goog.crypt.base64.ENCODED_VALS.charAt(e)]=e)}},goog.provide("goog.Promise"),goog.require("goog.Thenable"),goog.require("goog.asserts"),goog.require("goog.async.run"),goog.require("goog.async.throwException"),goog.require("goog.debug.Error"),goog.require("goog.promise.Resolver"),goog.Promise=function(e,t){if(this.state_=goog.Promise.State_.PENDING,this.result_=void 0,this.parent_=null,this.callbackEntries_=null,this.executing_=!1,goog.Promise.UNHANDLED_REJECTION_DELAY>0?this.unhandledRejectionId_=0:0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(this.hadUnhandledRejection_=!1),goog.Promise.LONG_STACK_TRACES&&(this.stack_=[],this.addStackTrace_(new Error("created")),this.currentStep_=0),e==goog.Promise.RESOLVE_FAST_PATH_)this.resolve_(goog.Promise.State_.FULFILLED,t);else try{var n=this;e.call(t,function(e){n.resolve_(goog.Promise.State_.FULFILLED,e)},function(e){if(goog.DEBUG&&!(e instanceof goog.Promise.CancellationError))try{throw e instanceof Error?e:new Error("Promise rejected.")}catch(t){}n.resolve_(goog.Promise.State_.REJECTED,e)})}catch(r){this.resolve_(goog.Promise.State_.REJECTED,r)}},goog.define("goog.Promise.LONG_STACK_TRACES",!1),goog.define("goog.Promise.UNHANDLED_REJECTION_DELAY",0),goog.Promise.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3},goog.Promise.CallbackEntry_,goog.Promise.RESOLVE_FAST_PATH_=function(){},goog.Promise.resolve=function(e){return new goog.Promise(goog.Promise.RESOLVE_FAST_PATH_,e)},goog.Promise.reject=function(e){return new goog.Promise(function(t,n){n(e)})},goog.Promise.race=function(e){return new goog.Promise(function(t,n){e.length||t(void 0);for(var r,o=0;r=e[o];o++)r.then(t,n)})},goog.Promise.all=function(e){return new goog.Promise(function(t,n){var r=e.length,o=[];if(!r)return void t(o);for(var i,a=function(e,n){r--,o[e]=n,0==r&&t(o)},s=function(e){n(e)},l=0;i=e[l];l++)i.then(goog.partial(a,l),s)})},goog.Promise.firstFulfilled=function(e){return new goog.Promise(function(t,n){var r=e.length,o=[];if(!r)return void t(void 0);for(var i,a=function(e){t(e)},s=function(e,t){r--,o[e]=t,0==r&&n(o)},l=0;i=e[l];l++)i.then(a,goog.partial(s,l))})},goog.Promise.withResolver=function(){var e,t,n=new goog.Promise(function(n,r){e=n,t=r});return new goog.Promise.Resolver_(n,e,t)},goog.Promise.prototype.then=function(e,t,n){return null!=e&&goog.asserts.assertFunction(e,"opt_onFulfilled should be a function."),null!=t&&goog.asserts.assertFunction(t,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(new Error("then")),this.addChildPromise_(goog.isFunction(e)?e:null,goog.isFunction(t)?t:null,n)},goog.Thenable.addImplementation(goog.Promise),goog.Promise.prototype.thenAlways=function(e,t){goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(new Error("thenAlways"));var n=function(){try{e.call(t)}catch(n){goog.Promise.handleRejection_.call(null,n)}};return this.addCallbackEntry_({child:null,onRejected:n,onFulfilled:n}),this},goog.Promise.prototype.thenCatch=function(e,t){return goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(new Error("thenCatch")),this.addChildPromise_(null,e,t)},goog.Promise.prototype.cancel=function(e){this.state_==goog.Promise.State_.PENDING&&goog.async.run(function(){var t=new goog.Promise.CancellationError(e);this.cancelInternal_(t)},this)},goog.Promise.prototype.cancelInternal_=function(e){this.state_==goog.Promise.State_.PENDING&&(this.parent_?(this.parent_.cancelChild_(this,e),this.parent_=null):this.resolve_(goog.Promise.State_.REJECTED,e))},goog.Promise.prototype.cancelChild_=function(e,t){if(this.callbackEntries_){for(var n,r=0,o=-1,i=0;n=this.callbackEntries_[i];i++){var a=n.child;if(a&&(r++,a==e&&(o=i),o>=0&&r>1))break}if(o>=0)if(this.state_==goog.Promise.State_.PENDING&&1==r)this.cancelInternal_(t);else{var s=this.callbackEntries_.splice(o,1)[0];this.executeCallback_(s,goog.Promise.State_.REJECTED,t)}}},goog.Promise.prototype.addCallbackEntry_=function(e){this.callbackEntries_&&this.callbackEntries_.length||this.state_!=goog.Promise.State_.FULFILLED&&this.state_!=goog.Promise.State_.REJECTED||this.scheduleCallbacks_(),this.callbackEntries_||(this.callbackEntries_=[]),this.callbackEntries_.push(e)},goog.Promise.prototype.addChildPromise_=function(e,t,n){var r={child:null,onFulfilled:null,onRejected:null};return r.child=new goog.Promise(function(o,i){r.onFulfilled=e?function(t){try{var r=e.call(n,t);o(r)}catch(a){i(a)}}:o,r.onRejected=t?function(e){try{var r=t.call(n,e);!goog.isDef(r)&&e instanceof goog.Promise.CancellationError?i(e):o(r)}catch(a){i(a)}}:i}),r.child.parent_=this,this.addCallbackEntry_(r),r.child},goog.Promise.prototype.unblockAndFulfill_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.FULFILLED,e)},goog.Promise.prototype.unblockAndReject_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.REJECTED,e)},goog.Promise.prototype.resolve_=function(e,t){if(this.state_==goog.Promise.State_.PENDING){if(this==t)e=goog.Promise.State_.REJECTED,t=new TypeError("Promise cannot resolve to itself");else{if(goog.Thenable.isImplementedBy(t))return t=t,this.state_=goog.Promise.State_.BLOCKED,void t.then(this.unblockAndFulfill_,this.unblockAndReject_,this);if(goog.isObject(t))try{var n=t.then;if(goog.isFunction(n))return void this.tryThen_(t,n)}catch(r){e=goog.Promise.State_.REJECTED,t=r}}this.result_=t,this.state_=e,this.parent_=null,this.scheduleCallbacks_(),e!=goog.Promise.State_.REJECTED||t instanceof goog.Promise.CancellationError||goog.Promise.addUnhandledRejection_(this,t)}},goog.Promise.prototype.tryThen_=function(e,t){this.state_=goog.Promise.State_.BLOCKED;var n=this,r=!1,o=function(e){r||(r=!0,n.unblockAndFulfill_(e))},i=function(e){r||(r=!0,n.unblockAndReject_(e))};try{t.call(e,o,i)}catch(a){i(a)}},goog.Promise.prototype.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,goog.async.run(this.executeCallbacks_,this))},goog.Promise.prototype.executeCallbacks_=function(){for(;this.callbackEntries_&&this.callbackEntries_.length;){var e=this.callbackEntries_;this.callbackEntries_=null;for(var t=0;t<e.length;t++)goog.Promise.LONG_STACK_TRACES&&this.currentStep_++,this.executeCallback_(e[t],this.state_,this.result_)}this.executing_=!1},goog.Promise.prototype.executeCallback_=function(e,t,n){t==goog.Promise.State_.FULFILLED?e.onFulfilled(n):(e.child&&this.removeUnhandledRejection_(),e.onRejected(n))},goog.Promise.prototype.addStackTrace_=function(e){if(goog.Promise.LONG_STACK_TRACES&&goog.isString(e.stack)){var t=e.stack.split("\n",4)[3],n=e.message;n+=Array(11-n.length).join(" "),this.stack_.push(n+t)}},goog.Promise.prototype.appendLongStack_=function(e){if(goog.Promise.LONG_STACK_TRACES&&e&&goog.isString(e.stack)&&this.stack_.length){for(var t=["Promise trace:"],n=this;n;n=n.parent_){for(var r=this.currentStep_;r>=0;r--)t.push(n.stack_[r]);t.push("Value: ["+(n.state_==goog.Promise.State_.REJECTED?"REJECTED":"FULFILLED")+"] <"+String(n.result_)+">")}e.stack+="\n\n"+t.join("\n")}},goog.Promise.prototype.removeUnhandledRejection_=function(){if(goog.Promise.UNHANDLED_REJECTION_DELAY>0)for(var e=this;e&&e.unhandledRejectionId_;e=e.parent_)goog.global.clearTimeout(e.unhandledRejectionId_),e.unhandledRejectionId_=0;else if(0==goog.Promise.UNHANDLED_REJECTION_DELAY)for(var e=this;e&&e.hadUnhandledRejection_;e=e.parent_)e.hadUnhandledRejection_=!1},goog.Promise.addUnhandledRejection_=function(e,t){goog.Promise.UNHANDLED_REJECTION_DELAY>0?e.unhandledRejectionId_=goog.global.setTimeout(function(){e.appendLongStack_(t),goog.Promise.handleRejection_.call(null,t)},goog.Promise.UNHANDLED_REJECTION_DELAY):0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(e.hadUnhandledRejection_=!0,goog.async.run(function(){e.hadUnhandledRejection_&&(e.appendLongStack_(t),goog.Promise.handleRejection_.call(null,t))}))},goog.Promise.handleRejection_=goog.async.throwException,goog.Promise.setUnhandledRejectionHandler=function(e){goog.Promise.handleRejection_=e},goog.Promise.CancellationError=function(e){goog.Promise.CancellationError.base(this,"constructor",e)},goog.inherits(goog.Promise.CancellationError,goog.debug.Error),goog.Promise.CancellationError.prototype.name="cancel",goog.Promise.Resolver_=function(e,t,n){this.promise=e,this.resolve=t,this.reject=n},goog.provide("fb.constants");var NODE_CLIENT=!1;fb.constants.NODE_CLIENT=NODE_CLIENT;var CLIENT_VERSION_DEFINE="0.0.0",CLIENT_VERSION=CLIENT_VERSION||CLIENT_VERSION_DEFINE;fb.constants.CLIENT_VERSION=CLIENT_VERSION,goog.provide("fb.util.obj"),fb.util.obj.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},fb.util.obj.get=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},fb.util.obj.foreach=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},fb.util.obj.clone=function(e){var t={};return fb.util.obj.foreach(e,function(e,n){t[e]=n}),t},fb.util.obj.isNonNullObject=function(e){return"object"==typeof e&&null!==e},goog.provide("fb.util"),goog.require("fb.util.obj"),fb.util.querystring=function(e){var t=[];return fb.util.obj.foreach(e,function(e,n){goog.isArray(n)?goog.array.forEach(n,function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""},fb.util.querystringDecode=function(e){var t={},n=e.replace(/^\?/,"").split("&");return goog.array.forEach(n,function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t},goog.provide("fb.util.assert"),goog.provide("fb.util.assertionError"),goog.require("fb.constants"),fb.util.assert=function(e,t){if(!e)throw fb.util.assertionError(t)},fb.util.assertionError=function(e){return new Error("Firebase ("+fb.constants.CLIENT_VERSION+") INTERNAL ASSERT FAILED: "+e)},goog.provide("fb.util.promise"),goog.provide("fb.util.promise.Deferred"),goog.provide("fb.util.promise.Promise"),goog.require("goog.Promise"),goog.scope(function(){fb.util.promise.Promise=goog.global.Promise||goog.Promise,goog.exportProperty(goog.Promise.prototype,"catch",goog.Promise.prototype.thenCatch),fb.util.promise.Deferred=goog.defineClass(null,{constructor:function(){var e=this;this.resolve=null,this.reject=null,this.promise=new fb.util.promise.Promise(function(t,n){e.resolve=t,e.reject=n})},wrapCallback:function(e){function t(t,r){t?n.reject(t):n.resolve(r),goog.isFunction(e)&&(fb.util.promise.attachDummyErrorHandler(n.promise),1===e.length?e(t):e(t,r))}var n=this;return t}}),fb.util.promise.attachDummyErrorHandler=function(e){e.then(void 0,goog.nullFunction)}}),goog.provide("fb.util.utf8"),goog.require("fb.util.assert"),fb.util.utf8.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&56319>=o){var i=o-55296;r++,fb.util.assert(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;o=65536+(i<<10)+a}128>o?t[n++]=o:2048>o?(t[n++]=o>>6|192,t[n++]=63&o|128):65536>o?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},fb.util.utf8.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t++:2048>r?t+=2:r>=55296&&56319>=r?(t+=4,n++):t+=3}return t},goog.provide("fb.util.validation"),fb.util.validation.validateArgCount=function(e,t,n,r){var o;if(t>r?o="at least "+t:r>n&&(o=0===n?"none":"no more than "+n),o){var i=e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".";throw new Error(i)}},fb.util.validation.errorPrefix=function(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=e+" failed: ";return o+=r+" argument "},fb.util.validation.validateNamespace=function(e,t,n,r){if((!r||goog.isDef(n))&&!goog.isString(n))throw new Error(fb.util.validation.errorPrefix(e,t,r)+"must be a valid firebase namespace.")},fb.util.validation.validateCallback=function(e,t,n,r){if((!r||goog.isDef(n))&&!goog.isFunction(n))throw new Error(fb.util.validation.errorPrefix(e,t,r)+"must be a valid function.")},fb.util.validation.validateContextObject=function(e,t,n,r){if(!(r&&!goog.isDef(n)||goog.isObject(n)&&null!==n))throw new Error(fb.util.validation.errorPrefix(e,t,r)+"must be a valid context object.")},goog.provide("fb.util.json"),goog.require("goog.json"),fb.util.json.eval=function(e){return"undefined"!=typeof JSON&&goog.isDef(JSON.parse)?JSON.parse(e):goog.json.parse(e)},fb.util.json.stringify=function(e){return"undefined"!=typeof JSON&&goog.isDef(JSON.stringify)?JSON.stringify(e):goog.json.serialize(e)},goog.provide("fb.core.SnapshotHolder"),fb.core.SnapshotHolder=function(){this.rootNode_=fb.core.snap.EMPTY_NODE},fb.core.SnapshotHolder.prototype.getNode=function(e){return this.rootNode_.getChild(e)},fb.core.SnapshotHolder.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},goog.DEBUG&&(fb.core.SnapshotHolder.prototype.toString=function(){return this.rootNode_.toString()}),goog.provide("fb.core.view.CompleteChildSource"),fb.core.view.CompleteChildSource=function(){},fb.core.view.CompleteChildSource.prototype.getCompleteChild=function(){},fb.core.view.CompleteChildSource.prototype.getChildAfterChild=function(){},fb.core.view.NoCompleteChildSource_=function(){},fb.core.view.NoCompleteChildSource_.prototype.getCompleteChild=function(){return null
},fb.core.view.NoCompleteChildSource_.prototype.getChildAfterChild=function(){return null},fb.core.view.NO_COMPLETE_CHILD_SOURCE=new fb.core.view.NoCompleteChildSource_,fb.core.view.WriteTreeCompleteChildSource=function(e,t,n){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n},fb.core.view.WriteTreeCompleteChildSource.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new fb.core.view.CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},fb.core.view.WriteTreeCompleteChildSource.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),o=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===o.length?null:o[0]},goog.provide("fb.core.view.EventQueue"),fb.core.view.EventQueue=function(){this.eventLists_=[],this.recursionDepth_=0},fb.core.view.EventQueue.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],o=r.getPath();null===t||o.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new fb.core.view.EventList(o)),t.add(r)}t&&this.eventLists_.push(t)},fb.core.view.EventQueue.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.equals(e)})},fb.core.view.EventQueue.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.contains(e)||e.contains(t)})},fb.core.view.EventQueue.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r){var o=r.getPath();e(o)?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1}}t&&(this.eventLists_=[]),this.recursionDepth_--},fb.core.view.EventList=function(e){this.path_=e,this.events_=[]},fb.core.view.EventList.prototype.add=function(e){this.events_.push(e)},fb.core.view.EventList.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();fb.core.util.logger&&fb.core.util.log("event: "+t.toString()),fb.core.util.exceptionGuard(n)}}},fb.core.view.EventList.prototype.getPath=function(){return this.path_},goog.provide("fb.core.view.Change"),goog.provide("fb.core.view.Change.CHILD_ADDED"),goog.provide("fb.core.view.Change.CHILD_CHANGED"),goog.provide("fb.core.view.Change.CHILD_MOVED"),goog.provide("fb.core.view.Change.CHILD_REMOVED"),goog.provide("fb.core.view.Change.VALUE"),fb.core.view.Change=function(e,t,n,r,o){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=o},fb.core.view.Change.valueChange=function(e){return new fb.core.view.Change(fb.core.view.Change.VALUE,e)},fb.core.view.Change.childAddedChange=function(e,t){return new fb.core.view.Change(fb.core.view.Change.CHILD_ADDED,t,e)},fb.core.view.Change.childRemovedChange=function(e,t){return new fb.core.view.Change(fb.core.view.Change.CHILD_REMOVED,t,e)},fb.core.view.Change.childChangedChange=function(e,t,n){return new fb.core.view.Change(fb.core.view.Change.CHILD_CHANGED,t,e,n)},fb.core.view.Change.childMovedChange=function(e,t){return new fb.core.view.Change(fb.core.view.Change.CHILD_MOVED,t,e)},fb.core.view.Change.prototype.changeWithPrevName=function(e){return new fb.core.view.Change(this.type,this.snapshotNode,this.childName,this.oldSnap,e)},fb.core.view.Change.CHILD_ADDED="child_added",fb.core.view.Change.CHILD_REMOVED="child_removed",fb.core.view.Change.CHILD_CHANGED="child_changed",fb.core.view.Change.CHILD_MOVED="child_moved",fb.core.view.Change.VALUE="value",goog.provide("fb.core.view.CancelEvent"),goog.provide("fb.core.view.DataEvent"),goog.provide("fb.core.view.Event"),goog.require("fb.util.json"),fb.core.view.Event=function(){},fb.core.view.Event.prototype.getPath=goog.abstractMethod,fb.core.view.Event.prototype.getEventType=goog.abstractMethod,fb.core.view.Event.prototype.getEventRunner=goog.abstractMethod,fb.core.view.Event.prototype.toString=goog.abstractMethod,fb.core.view.DataEvent=function(e,t,n,r){this.eventRegistration=t,this.snapshot=n,this.prevName=r,this.eventType=e},fb.core.view.DataEvent.prototype.getPath=function(){var e=this.snapshot.ref();return"value"===this.eventType?e.path:e.parent().path},fb.core.view.DataEvent.prototype.getEventType=function(){return this.eventType},fb.core.view.DataEvent.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},fb.core.view.DataEvent.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+fb.util.json.stringify(this.snapshot.exportVal())},fb.core.view.CancelEvent=function(e,t,n){this.eventRegistration=e,this.error=t,this.path=n},fb.core.view.CancelEvent.prototype.getPath=function(){return this.path},fb.core.view.CancelEvent.prototype.getEventType=function(){return"cancel"},fb.core.view.CancelEvent.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},fb.core.view.CancelEvent.prototype.toString=function(){return this.path.toString()+":cancel"},goog.provide("fb.core.view.CacheNode"),fb.core.view.CacheNode=function(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n},fb.core.view.CacheNode.prototype.isFullyInitialized=function(){return this.fullyInitialized_},fb.core.view.CacheNode.prototype.isFiltered=function(){return this.filtered_},fb.core.view.CacheNode.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},fb.core.view.CacheNode.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},fb.core.view.CacheNode.prototype.getNode=function(){return this.node_},goog.provide("fb.core.stats.StatsListener"),fb.core.stats.StatsListener=function(e){this.collection_=e,this.last_=null},fb.core.stats.StatsListener.prototype.get=function(){var e=this.collection_.get(),t=goog.object.clone(e);if(this.last_)for(var n in this.last_)t[n]=t[n]-this.last_[n];return this.last_=e,t},goog.provide("fb.core.stats.StatsReporter");var FIRST_STATS_MIN_TIME=1e4,FIRST_STATS_MAX_TIME=3e4,REPORT_STATS_INTERVAL=3e5;fb.core.stats.StatsReporter=function(e,t){this.statsToReport_={},this.statsListener_=new fb.core.stats.StatsListener(e),this.server_=t;var n=FIRST_STATS_MIN_TIME+(FIRST_STATS_MAX_TIME-FIRST_STATS_MIN_TIME)*Math.random();setTimeout(goog.bind(this.reportStats_,this),Math.floor(n))},fb.core.stats.StatsReporter.prototype.includeStat=function(e){this.statsToReport_[e]=!0},fb.core.stats.StatsReporter.prototype.reportStats_=function(){var e=this.statsListener_.get(),t={},n=!1;for(var r in e)e[r]>0&&fb.util.obj.contains(this.statsToReport_,r)&&(t[r]=e[r],n=!0);n&&this.server_.reportStats(t),setTimeout(goog.bind(this.reportStats_,this),Math.floor(2*Math.random()*REPORT_STATS_INTERVAL))},goog.provide("fb.core.stats.StatsCollection"),goog.require("fb.util.obj"),goog.require("goog.array"),goog.require("goog.object"),fb.core.stats.StatsCollection=function(){this.counters_={}},fb.core.stats.StatsCollection.prototype.incrementCounter=function(e,t){goog.isDef(t)||(t=1),fb.util.obj.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},fb.core.stats.StatsCollection.prototype.get=function(){return goog.object.clone(this.counters_)},goog.provide("fb.core.stats.StatsManager"),goog.require("fb.core.stats.StatsCollection"),goog.require("fb.core.stats.StatsListener"),goog.require("fb.core.stats.StatsReporter"),fb.core.stats.StatsManager={},fb.core.stats.StatsManager.collections_={},fb.core.stats.StatsManager.reporters_={},fb.core.stats.StatsManager.getCollection=function(e){var t=e.toString();return fb.core.stats.StatsManager.collections_[t]||(fb.core.stats.StatsManager.collections_[t]=new fb.core.stats.StatsCollection),fb.core.stats.StatsManager.collections_[t]},fb.core.stats.StatsManager.getOrCreateReporter=function(e,t){var n=e.toString();return fb.core.stats.StatsManager.reporters_[n]||(fb.core.stats.StatsManager.reporters_[n]=t()),fb.core.stats.StatsManager.reporters_[n]},goog.provide("fb.core.ServerActions"),fb.core.ServerActions=goog.defineClass(null,{listen:goog.abstractMethod,unlisten:goog.abstractMethod,put:goog.abstractMethod,merge:goog.abstractMethod,auth:goog.abstractMethod,unauth:goog.abstractMethod,onDisconnectPut:goog.abstractMethod,onDisconnectMerge:goog.abstractMethod,onDisconnectCancel:goog.abstractMethod,reportStats:goog.abstractMethod}),goog.provide("fb.core.snap.Node"),goog.provide("fb.core.snap.NamedNode"),fb.core.snap.Node=function(){},fb.core.snap.Node.prototype.isLeafNode,fb.core.snap.Node.prototype.getPriority,fb.core.snap.Node.prototype.updatePriority,fb.core.snap.Node.prototype.getImmediateChild,fb.core.snap.Node.prototype.getChild,fb.core.snap.Node.prototype.getPredecessorChildName,fb.core.snap.Node.prototype.updateImmediateChild,fb.core.snap.Node.prototype.updateChild,fb.core.snap.Node.prototype.hasChild,fb.core.snap.Node.prototype.isEmpty,fb.core.snap.Node.prototype.numChildren,fb.core.snap.Node.prototype.forEachChild,fb.core.snap.Node.prototype.val,fb.core.snap.Node.prototype.hash,fb.core.snap.Node.prototype.compareTo,fb.core.snap.Node.prototype.equals,fb.core.snap.Node.prototype.withIndex,fb.core.snap.Node.prototype.isIndexed,fb.core.snap.NamedNode=function(e,t){this.name=e,this.node=t},fb.core.snap.NamedNode.Wrap=function(e,t){return new fb.core.snap.NamedNode(e,t)},goog.provide("fb.core.snap.comparators"),fb.core.snap.NAME_ONLY_COMPARATOR=function(e,t){return fb.core.util.nameCompare(e.name,t.name)},fb.core.snap.NAME_COMPARATOR=function(e,t){return fb.core.util.nameCompare(e,t)},goog.provide("fb.core.operation.Overwrite"),fb.core.operation.Overwrite=function(e,t,n){this.type=fb.core.OperationType.OVERWRITE,this.source=e,this.path=t,this.snap=n},fb.core.operation.Overwrite.prototype.operationForChild=function(e){return this.path.isEmpty()?new fb.core.operation.Overwrite(this.source,fb.core.util.Path.Empty,this.snap.getImmediateChild(e)):new fb.core.operation.Overwrite(this.source,this.path.popFront(),this.snap)},goog.DEBUG&&(fb.core.operation.Overwrite.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.snap.toString()+")"}),goog.provide("fb.core.operation.ListenComplete"),fb.core.operation.ListenComplete=function(e,t){this.type=fb.core.OperationType.LISTEN_COMPLETE,this.source=e,this.path=t},fb.core.operation.ListenComplete.prototype.operationForChild=function(){return this.path.isEmpty()?new fb.core.operation.ListenComplete(this.source,fb.core.util.Path.Empty):new fb.core.operation.ListenComplete(this.source,this.path.popFront())},goog.DEBUG&&(fb.core.operation.ListenComplete.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"}),goog.provide("fb.core.util.SortedMap"),goog.require("goog.array"),fb.Comparator,fb.core.util.SortedMap=goog.defineClass(null,{constructor:function(e,t){this.comparator_=e,this.root_=t?t:fb.core.util.SortedMap.EMPTY_NODE_},insert:function(e,t){return new fb.core.util.SortedMap(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,fb.LLRBNode.BLACK,null,null))},remove:function(e){return new fb.core.util.SortedMap(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,fb.LLRBNode.BLACK,null,null))},get:function(e){for(var t,n=this.root_;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;0>t?n=n.left:t>0&&(n=n.right)}return null},getPredecessorKey:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}0>t?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},isEmpty:function(){return this.root_.isEmpty()},count:function(){return this.root_.count()},minKey:function(){return this.root_.minKey()},maxKey:function(){return this.root_.maxKey()},inorderTraversal:function(e){return this.root_.inorderTraversal(e)},reverseTraversal:function(e){return this.root_.reverseTraversal(e)},getIterator:function(e){return new fb.core.util.SortedMapIterator(this.root_,null,this.comparator_,!1,e)},getIteratorFrom:function(e,t){return new fb.core.util.SortedMapIterator(this.root_,e,this.comparator_,!1,t)},getReverseIteratorFrom:function(e,t){return new fb.core.util.SortedMapIterator(this.root_,e,this.comparator_,!0,t)},getReverseIterator:function(e){return new fb.core.util.SortedMapIterator(this.root_,null,this.comparator_,!0,e)}}),fb.core.util.SortedMapIterator=goog.defineClass(null,{constructor:function(e,t,n,r,o){this.resultGenerator_=o||null,this.isReverse_=r,this.nodeStack_=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),0>i)e=this.isReverse_?e.left:e.right;else{if(0===i){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}},getNext:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},hasNext:function(){return this.nodeStack_.length>0},peek:function(){if(0===this.nodeStack_.length)return null;var e=goog.array.peek(this.nodeStack_);return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}),fb.LLRBNode=goog.defineClass(null,{constructor:function(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:fb.LLRBNode.RED,this.left=null!=r?r:fb.core.util.SortedMap.EMPTY_NODE_,this.right=null!=o?o:fb.core.util.SortedMap.EMPTY_NODE_},statics:{RED:!0,BLACK:!1},copy:function(e,t,n,r,o){return new fb.LLRBNode(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)},count:function(){return this.left.count()+1+this.right.count()},isEmpty:function(){return!1},inorderTraversal:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},reverseTraversal:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},min_:function(){return this.left.isEmpty()?this:this.left.min_()},minKey:function(){return this.min_().key},maxKey:function(){return this.right.isEmpty()?this.key:this.right.maxKey()},insert:function(e,t,n){var r,o;return o=this,r=n(e,o.key),o=0>r?o.copy(null,null,null,o.left.insert(e,t,n),null):0===r?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,n)),o.fixUp_()},removeMin_:function(){var e;return this.left.isEmpty()?fb.core.util.SortedMap.EMPTY_NODE_:(e=this,e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_())},remove:function(e,t){var n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return fb.core.util.SortedMap.EMPTY_NODE_;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},isRed_:function(){return this.color},fixUp_:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},moveRedLeft_:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},moveRedRight_:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},rotateLeft_:function(){var e;return e=this.copy(null,null,fb.LLRBNode.RED,null,this.right.left),this.right.copy(null,null,this.color,e,null)},rotateRight_:function(){var e;return e=this.copy(null,null,fb.LLRBNode.RED,this.left.right,null),this.left.copy(null,null,this.color,null,e)},colorFlip_:function(){var e,t;return e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null),this.copy(null,null,!this.color,e,t)},checkMaxDepth_:function(){var e;return e=this.check_(),Math.pow(2,e)<=this.count()+1?!0:!1},check_:function(){var e;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if(e=this.left.check_(),e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}),fb.LLRBEmptyNode=goog.defineClass(null,{constructor:function(){},copy:function(){return this},insert:function(e,t){return new fb.LLRBNode(e,t,null)},remove:function(){return this},count:function(){return 0},isEmpty:function(){return!0},inorderTraversal:function(){return!1},reverseTraversal:function(){return!1},minKey:function(){return null},maxKey:function(){return null},check_:function(){return 0},isRed_:function(){return!1}}),fb.core.util.SortedMap.EMPTY_NODE_=new fb.LLRBEmptyNode,goog.provide("fb.core.util.NodePatches"),function(){function e(e,t,n){var r=new Error("write after end");e.emit("error",r),process.nextTick(function(){n(r)})}function t(e,t,n,r){var o=!0;if(!Buffer.isBuffer(n)&&"string"!=typeof n&&null!==n&&void 0!==n&&!t.objectMode){var i=new TypeError("Invalid non-string/buffer chunk");e.emit("error",i),process.nextTick(function(){r(i)}),o=!1}return o}function n(e,t,n,a,s){n=r(t,n,a),Buffer.isBuffer(n)&&(a="buffer");var l=t.objectMode?1:n.length;t.length+=l;var c=t.length<t.highWaterMark;return c||(t.needDrain=!0),t.writing?t.buffer.push(new o(n,a,s)):i(e,t,l,n,a,s),c}function r(e,t,n){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=new Buffer(t,n)),t}function o(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function i(e,t,n,r,o,i){t.writelen=n,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,o,t.onwrite),t.sync=!1}if(NODE_CLIENT){var a=process.version;if("v0.10.22"===a||"v0.10.23"===a||"v0.10.24"===a){var s=require("_stream_writable");s.prototype.write=function(r,o,i){var a=this._writableState,s=!1;return"function"==typeof o&&(i=o,o=null),Buffer.isBuffer(r)?o="buffer":o||(o=a.defaultEncoding),"function"!=typeof i&&(i=function(){}),a.ended?e(this,a,i):t(this,a,r,i)&&(s=n(this,a,r,o,i)),s};var l=require("_stream_duplex");l.prototype.write=s.prototype.write}}}(),goog.provide("fb.core.util.ServerValues"),fb.core.util.ServerValues.generateWithValues=function(e){return e=e||{},e.timestamp=e.timestamp||(new Date).getTime(),e},fb.core.util.ServerValues.resolveDeferredValue=function(e,t){return e&&"object"==typeof e?(fb.core.util.assert(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e},fb.core.util.ServerValues.resolveDeferredValueTree=function(e,t){var n=new fb.core.SparseSnapshotTree;return e.forEachTree(new fb.core.util.Path(""),function(e,r){n.remember(e,fb.core.util.ServerValues.resolveDeferredValueSnapshot(r,t))}),n},fb.core.util.ServerValues.resolveDeferredValueSnapshot=function(e,t){var n,r=e.getPriority().val(),o=fb.core.util.ServerValues.resolveDeferredValue(r,t);if(e.isLeafNode()){var i=e,a=fb.core.util.ServerValues.resolveDeferredValue(i.getValue(),t);return a!==i.getValue()||o!==i.getPriority().val()?new fb.core.snap.LeafNode(a,fb.core.snap.NodeFromJSON(o)):e}var s=e;return n=s,o!==s.getPriority().val()&&(n=n.updatePriority(new fb.core.snap.LeafNode(o))),s.forEachChild(fb.core.snap.PriorityIndex,function(e,r){var o=fb.core.util.ServerValues.resolveDeferredValueSnapshot(r,t);o!==r&&(n=n.updateImmediateChild(e,o))}),n},goog.provide("fb.core.storage.MemoryStorage"),goog.require("fb.util.obj"),goog.scope(function(){var e=fb.util.obj;fb.core.storage.MemoryStorage=function(){this.cache_={}};var t=fb.core.storage.MemoryStorage;t.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},t.prototype.get=function(t){return e.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(e){delete this.cache_[e]},t.prototype.isInMemoryStorage=!0}),goog.provide("fb.core.storage.DOMStorageWrapper"),goog.require("fb.util.obj"),goog.scope(function(){fb.core.storage.DOMStorageWrapper=function(e){this.domStorage_=e,this.prefix_="firebase:"};var e=fb.core.storage.DOMStorageWrapper;e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),fb.util.json.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:fb.util.json.eval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.isInMemoryStorage=!1,e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()}}),goog.provide("fb.core.storage"),goog.provide("fb.core.storage.PersistentStorage"),goog.provide("fb.core.storage.SessionStorage"),goog.require("fb.core.storage.DOMStorageWrapper"),goog.require("fb.core.storage.MemoryStorage"),fb.core.storage.createStoragefor=function(e){try{if("undefined"!=typeof window&&"undefined"!=typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new fb.core.storage.DOMStorageWrapper(t)}}catch(n){}return new fb.core.storage.MemoryStorage},fb.core.storage.PersistentStorage=fb.core.storage.createStoragefor("localStorage"),fb.core.storage.SessionStorage=fb.core.storage.createStoragefor("sessionStorage"),goog.provide("fb.core.RepoInfo"),goog.require("fb.core.storage"),fb.core.RepoInfo=function(e,t,n,r,o){this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=o||"",this.internalHost=fb.core.storage.PersistentStorage.get("host:"+e)||this.host},fb.core.RepoInfo.prototype.needsQueryParam=function(){return this.host!==this.internalHost},fb.core.RepoInfo.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},fb.core.RepoInfo.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},fb.core.RepoInfo.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},fb.core.RepoInfo.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fb.core.storage.PersistentStorage.set("host:"+this.host,this.internalHost))},fb.core.RepoInfo.prototype.connectionURL=function(e,t){fb.core.util.assert("string"==typeof e,"typeof type must == string"),fb.core.util.assert("object"==typeof t,"typeof params must == object");var n;if(e===fb.realtime.Constants.WEBSOCKET)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==fb.realtime.Constants.LONG_POLLING)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var r=[];return goog.object.forEach(t,function(e,t){r.push(t+"="+e)}),n+r.join("&")},fb.core.RepoInfo.prototype.toString=function(){var e=(this.secure?"https://":"http://")+this.host;return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},goog.provide("fb.core.util"),goog.provide("fb.core.util.LUIDGenerator"),goog.provide("fb.core.util.ObjectToUniqueKey"),goog.provide("fb.core.util.enableLogging"),goog.require("fb.constants"),goog.require("fb.core.RepoInfo"),goog.require("fb.core.storage.SessionStorage"),goog.require("fb.util.assert"),goog.require("fb.util.assertionError"),goog.require("fb.util.json"),goog.require("fb.util.utf8"),goog.require("goog.crypt.Sha1"),goog.require("goog.crypt.base64"),goog.require("goog.object"),goog.require("goog.string"),goog.forwardDeclare("fb.core.util.Path"),fb.core.util.LUIDGenerator=function(){var e=1;return function(){return e++}}(),fb.core.util.assert=fb.util.assert,fb.core.util.assertionError=fb.util.assertionError,fb.core.util.assertWeak=function(e,t){e||fb.core.util.error(t)},fb.core.util.base64Encode=function(e){var t=fb.util.utf8.stringToByteArray(e);return goog.crypt.base64.encodeByteArray(t,!0)},fb.core.util.base64Decode=function(e){try{return fb.constants.NODE_CLIENT?new Buffer(e,"base64").toString("utf8"):"undefined"!=typeof atob?atob(e):goog.crypt.base64.decodeString(e,!0)}catch(t){fb.core.util.log("base64Decode failed: ",t)}return null},fb.core.util.sha1=function(e){var t=fb.util.utf8.stringToByteArray(e),n=new goog.crypt.Sha1;n.update(t);var r=n.digest();return goog.crypt.base64.encodeByteArray(r)},fb.core.util.buildLogMessage_=function(){for(var e="",t=0;t<arguments.length;t++)e+=goog.isArrayLike(arguments[t])?fb.core.util.buildLogMessage_.apply(null,arguments[t]):"object"==typeof arguments[t]?fb.util.json.stringify(arguments[t]):arguments[t],e+=" ";return e},fb.core.util.logger=null,fb.core.util.firstLog_=!0,fb.core.util.enableLogging=function(e,t){fb.util.assert(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?("undefined"!=typeof console&&("function"==typeof console.log?fb.core.util.logger=goog.bind(console.log,console):"object"==typeof console.log&&(fb.core.util.logger=function(e){console.log(e)})),t&&fb.core.storage.SessionStorage.set("logging_enabled",!0)):goog.isFunction(e)?fb.core.util.logger=e:(fb.core.util.logger=null,fb.core.storage.SessionStorage.remove("logging_enabled"))},fb.core.util.log=function(){if(fb.core.util.firstLog_===!0&&(fb.core.util.firstLog_=!1,null===fb.core.util.logger&&fb.core.storage.SessionStorage.get("logging_enabled")===!0&&fb.core.util.enableLogging(!0)),fb.core.util.logger){var e=fb.core.util.buildLogMessage_.apply(null,arguments);fb.core.util.logger(e)}},fb.core.util.logWrapper=function(e){return function(){fb.core.util.log(e,arguments)}},fb.core.util.error=function(){if("undefined"!=typeof console){var e="FIREBASE INTERNAL ERROR: "+fb.core.util.buildLogMessage_.apply(null,arguments);"undefined"!=typeof console.error?console.error(e):console.log(e)}},fb.core.util.fatal=function(){var e=fb.core.util.buildLogMessage_.apply(null,arguments);throw new Error("FIREBASE FATAL ERROR: "+e)},fb.core.util.warn=function(){if("undefined"!=typeof console){var e="FIREBASE WARNING: "+fb.core.util.buildLogMessage_.apply(null,arguments);"undefined"!=typeof console.warn?console.warn(e):console.log(e)}},fb.core.util.warnIfPageIsSecure=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&fb.core.util.warn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fb.core.util.warnAboutUnsupportedMethod=function(e){fb.core.util.warn(e+" is unsupported and will likely change soon.  Please do not use.")},fb.core.util.parseRepoInfo=function(e){var t=fb.core.util.parseURL(e),n=t.subdomain;"firebase"===t.domain&&fb.core.util.fatal(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||fb.core.util.fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||fb.core.util.warnIfPageIsSecure();var r="ws"===t.scheme||"wss"===t.scheme;return{repoInfo:new fb.core.RepoInfo(t.host,t.secure,n,r),path:new fb.core.util.Path(t.pathString)}},fb.core.util.parseURL=function(e){var t="",n="",r="",o="",i=!0,a="https",s=443;if(goog.isString(e)){var l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length),t=e.substring(0,c),o=fb.core.util.decodePath(e.substring(c));var u=t.split(".");3===u.length?(n=u[1],r=u[0].toLowerCase()):2===u.length&&(n=u[0]),l=t.indexOf(":"),l>=0&&(i="https"===a||"wss"===a,s=goog.string.parseInt(t.substring(l+1)))}return{host:t,port:s,domain:n,subdomain:r,secure:i,scheme:a,pathString:o}},fb.core.util.decodePath=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var o=n[r];try{o=goog.string.urlDecode(o)}catch(i){}t+="/"+o}return t},fb.core.util.isInvalidJSONNumber=function(e){return goog.isNumber(e)&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)},fb.core.util.executeWhenDOMReady=function(e){if(NODE_CLIENT||"complete"===document.readyState)e();else{var t=!1,n=function(){return document.body?void(t||(t=!0,e())):void setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},fb.core.util.MIN_NAME="[MIN_NAME]",fb.core.util.MAX_NAME="[MAX_NAME]",fb.core.util.nameCompare=function(e,t){if(e===t)return 0;if(e===fb.core.util.MIN_NAME||t===fb.core.util.MAX_NAME)return-1;if(t===fb.core.util.MIN_NAME||e===fb.core.util.MAX_NAME)return 1;var n=fb.core.util.tryParseInt(e),r=fb.core.util.tryParseInt(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:t>e?-1:1},fb.core.util.stringCompare=function(e,t){return e===t?0:t>e?-1:1},fb.core.util.requireKey=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+fb.util.json.stringify(t))},fb.core.util.ObjectToUniqueKey=function(e){if("object"!=typeof e||null===e)return fb.util.json.stringify(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",o=0;o<t.length;o++)0!==o&&(r+=","),r+=fb.util.json.stringify(t[o]),r+=":",r+=fb.core.util.ObjectToUniqueKey(e[t[o]]);return r+="}"},fb.core.util.splitStringBySize=function(e,t){if(e.length<=t)return[e];for(var n=[],r=0;r<e.length;r+=t)n.push(r+t>e?e.substring(r,e.length):e.substring(r,r+t));return n},fb.core.util.each=function(e,t){if(goog.isArray(e))for(var n=0;n<e.length;++n)t(n,e[n]);else goog.object.forEach(e,t)},fb.core.util.bindCallback=function(e,t){return t?goog.bind(e,t):e},fb.core.util.doubleToIEEE754String=function(e){fb.core.util.assert(!fb.core.util.isInvalidJSONNumber(e),"Invalid JSON number");var t,n,r,o,i,a,s,l=11,c=52,u=(1<<l-1)-1;for(0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=0>e,e=Math.abs(e),e>=Math.pow(2,1-u)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),u),n=o+u,r=Math.round(e*Math.pow(2,c-o)-Math.pow(2,c))):(n=0,r=Math.round(e/Math.pow(2,1-u-c)))),a=[],i=c;i;i-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(i=l;i;i-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse(),s=a.join("");var d="";for(i=0;64>i;i+=8){var f=parseInt(s.substr(i,8),2).toString(16);1===f.length&&(f="0"+f),d+=f}return d.toLowerCase()},fb.core.util.isChromeExtensionContentScript=function(){return!("object"!=typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},fb.core.util.isWindowsStoreApp=function(){return"object"==typeof Windows&&"object"==typeof Windows.UI},fb.core.util.errorForServerCode=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?n="Client doesn't have permission to access the desired data.":"unavailable"==e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r},fb.core.util.INTEGER_REGEXP_=new RegExp("^-?\\d{1,10}$"),fb.core.util.tryParseInt=function(e){if(fb.core.util.INTEGER_REGEXP_.test(e)){var t=Number(e);if(t>=-2147483648&&2147483647>=t)return t}return null},fb.core.util.exceptionGuard=function(e){try{e()}catch(t){setTimeout(function(){var e=t.stack||"";throw fb.core.util.warn("Exception was thrown by user callback.",e),t
},Math.floor(0))}},fb.core.util.callUserCallback=function(e){if(goog.isFunction(e)){var t=Array.prototype.slice.call(arguments,1),n=t.slice();fb.core.util.exceptionGuard(function(){e.apply(null,n)})}},fb.core.util.beingCrawled=function(){var e="object"==typeof window&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},goog.provide("fb.util.jwt"),goog.require("fb.core.util"),goog.require("fb.util.json"),goog.require("fb.util.obj"),goog.require("goog.crypt.base64"),goog.require("goog.json"),fb.util.jwt.decode=function(e){var t={},n={},r={},o="";try{var i=e.split(".");t=fb.util.json.eval(fb.core.util.base64Decode(i[0])||""),n=fb.util.json.eval(fb.core.util.base64Decode(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:o}},fb.util.jwt.isValidTimestamp=function(e){var t,n,r=fb.util.jwt.decode(e).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?t=fb.util.obj.get(r,"nbf"):r.hasOwnProperty("iat")&&(t=fb.util.obj.get(r,"iat")),n=r.hasOwnProperty("exp")?fb.util.obj.get(r,"exp"):t+86400),o&&t&&n&&o>=t&&n>=o},fb.util.jwt.issuedAtTime=function(e){var t=fb.util.jwt.decode(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?fb.util.obj.get(t,"iat"):null},fb.util.jwt.isValidFormat=function(e){var t=fb.util.jwt.decode(e),n=t.claims;return!!t.signature&&!!n&&"object"==typeof n&&n.hasOwnProperty("iat")},fb.util.jwt.isAdmin=function(e){var t=fb.util.jwt.decode(e).claims;return"object"==typeof t&&fb.util.obj.get(t,"admin")===!0},goog.provide("fb.core.view.EventGenerator"),goog.require("fb.core.snap.NamedNode"),goog.require("fb.core.util"),fb.core.view.EventGenerator=function(e){this.query_=e,this.index_=e.getQueryParams().getIndex()},fb.core.view.EventGenerator.prototype.generateEventsForChanges=function(e,t,n){var r=[],o=this,i=[];return goog.array.forEach(e,function(e){e.type===fb.core.view.Change.CHILD_CHANGED&&o.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&i.push(fb.core.view.Change.childMovedChange(e.childName,e.snapshotNode))}),this.generateEventsForType_(r,fb.core.view.Change.CHILD_REMOVED,e,n,t),this.generateEventsForType_(r,fb.core.view.Change.CHILD_ADDED,e,n,t),this.generateEventsForType_(r,fb.core.view.Change.CHILD_MOVED,i,n,t),this.generateEventsForType_(r,fb.core.view.Change.CHILD_CHANGED,e,n,t),this.generateEventsForType_(r,fb.core.view.Change.VALUE,e,n,t),r},fb.core.view.EventGenerator.prototype.generateEventsForType_=function(e,t,n,r,o){var i=goog.array.filter(n,function(e){return e.type===t}),a=this;goog.array.sort(i,goog.bind(this.compareChanges_,this)),goog.array.forEach(i,function(t){var n=a.materializeSingleChange_(t,o);goog.array.forEach(r,function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,a.query_))})})},fb.core.view.EventGenerator.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_),e)},fb.core.view.EventGenerator.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw fb.core.util.assertionError("Should only compare child_ events.");var n=new fb.core.snap.NamedNode(e.childName,e.snapshotNode),r=new fb.core.snap.NamedNode(t.childName,t.snapshotNode);return this.index_.compare(n,r)},goog.provide("fb.core.view.ChildChangeAccumulator"),goog.require("fb.core.util"),goog.require("fb.core.view.Change"),goog.require("fb.util.obj"),goog.require("goog.object"),fb.core.view.ChildChangeAccumulator=function(){this.changeMap_={}},fb.core.view.ChildChangeAccumulator.prototype.trackChildChange=function(e){var t=fb.core.view.Change,n=e.type,r=e.childName;fb.core.util.assert(n==fb.core.view.Change.CHILD_ADDED||n==fb.core.view.Change.CHILD_CHANGED||n==fb.core.view.Change.CHILD_REMOVED,"Only child changes supported for tracking"),fb.core.util.assert(".priority"!==r,"Only non-priority child changes can be tracked.");var o=fb.util.obj.get(this.changeMap_,r);if(o){var i=o.type;if(n==t.CHILD_ADDED&&i==t.CHILD_REMOVED)this.changeMap_[r]=t.childChangedChange(r,e.snapshotNode,o.snapshotNode);else if(n==t.CHILD_REMOVED&&i==t.CHILD_ADDED)delete this.changeMap_[r];else if(n==t.CHILD_REMOVED&&i==t.CHILD_CHANGED)this.changeMap_[r]=t.childRemovedChange(r,o.oldSnap);else if(n==t.CHILD_CHANGED&&i==t.CHILD_ADDED)this.changeMap_[r]=t.childAddedChange(r,e.snapshotNode);else{if(n!=t.CHILD_CHANGED||i!=t.CHILD_CHANGED)throw fb.core.util.assertionError("Illegal combination of changes: "+e+" occurred after "+o);this.changeMap_[r]=t.childChangedChange(r,e.snapshotNode,o.oldSnap)}}else this.changeMap_[r]=e},fb.core.view.ChildChangeAccumulator.prototype.getChanges=function(){return goog.object.getValues(this.changeMap_)},goog.provide("fb.core.view.filter.IndexedFilter"),goog.require("fb.core.util"),fb.core.view.filter.IndexedFilter=function(e){this.index_=e},fb.core.view.filter.IndexedFilter.prototype.updateChild=function(e,t,n,r,o,i){var a=fb.core.view.Change;fb.core.util.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()==n.isEmpty()?e:(null!=i&&(n.isEmpty()?e.hasChild(t)?i.trackChildChange(a.childRemovedChange(t,s)):fb.core.util.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):i.trackChildChange(s.isEmpty()?a.childAddedChange(t,n):a.childChangedChange(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},fb.core.view.filter.IndexedFilter.prototype.updateFullNode=function(e,t,n){var r=fb.core.view.Change;return null!=n&&(e.isLeafNode()||e.forEachChild(fb.core.snap.PriorityIndex,function(e,o){t.hasChild(e)||n.trackChildChange(r.childRemovedChange(e,o))}),t.isLeafNode()||t.forEachChild(fb.core.snap.PriorityIndex,function(t,o){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(o)||n.trackChildChange(r.childChangedChange(t,o,i))}else n.trackChildChange(r.childAddedChange(t,o))})),t.withIndex(this.index_)},fb.core.view.filter.IndexedFilter.prototype.updatePriority=function(e,t){return e.isEmpty()?fb.core.snap.EMPTY_NODE:e.updatePriority(t)},fb.core.view.filter.IndexedFilter.prototype.filtersNodes=function(){return!1},fb.core.view.filter.IndexedFilter.prototype.getIndexedFilter=function(){return this},fb.core.view.filter.IndexedFilter.prototype.getIndex=function(){return this.index_},goog.provide("fb.core.view.filter.RangedFilter"),goog.require("fb.core.view.filter.IndexedFilter"),fb.core.view.filter.RangedFilter=function(e){this.indexedFilter_=new fb.core.view.filter.IndexedFilter(e.getIndex()),this.index_=e.getIndex(),this.startPost_=this.getStartPost_(e),this.endPost_=this.getEndPost_(e)},fb.core.view.filter.RangedFilter.prototype.getStartPost=function(){return this.startPost_},fb.core.view.filter.RangedFilter.prototype.getEndPost=function(){return this.endPost_},fb.core.view.filter.RangedFilter.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},fb.core.view.filter.RangedFilter.prototype.updateChild=function(e,t,n,r,o,i){return this.matches(new fb.core.snap.NamedNode(t,n))||(n=fb.core.snap.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,o,i)},fb.core.view.filter.RangedFilter.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=fb.core.snap.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(fb.core.snap.EMPTY_NODE);var o=this;return t.forEachChild(fb.core.snap.PriorityIndex,function(e,t){o.matches(new fb.core.snap.NamedNode(e,t))||(r=r.updateImmediateChild(e,fb.core.snap.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)},fb.core.view.filter.RangedFilter.prototype.updatePriority=function(e){return e},fb.core.view.filter.RangedFilter.prototype.filtersNodes=function(){return!0},fb.core.view.filter.RangedFilter.prototype.getIndexedFilter=function(){return this.indexedFilter_},fb.core.view.filter.RangedFilter.prototype.getIndex=function(){return this.index_},fb.core.view.filter.RangedFilter.prototype.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},fb.core.view.filter.RangedFilter.prototype.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},goog.provide("fb.core.view.filter.NodeFilter"),goog.require("fb.core.view.ChildChangeAccumulator"),goog.require("fb.core.view.CompleteChildSource"),fb.core.view.filter.NodeFilter=function(){},fb.core.view.filter.NodeFilter.prototype.updateChild=function(){},fb.core.view.filter.NodeFilter.prototype.updateFullNode=function(){},fb.core.view.filter.NodeFilter.prototype.updatePriority=function(){},fb.core.view.filter.NodeFilter.prototype.filtersNodes=function(){},fb.core.view.filter.NodeFilter.prototype.getIndexedFilter=function(){},fb.core.view.filter.NodeFilter.prototype.getIndex=function(){},goog.provide("fb.core.view.filter.LimitedFilter"),goog.require("fb.core.snap.NamedNode"),goog.require("fb.core.view.filter.RangedFilter"),goog.require("fb.core.util"),fb.core.view.filter.LimitedFilter=function(e){this.rangedFilter_=new fb.core.view.filter.RangedFilter(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()},fb.core.view.filter.LimitedFilter.prototype.updateChild=function(e,t,n,r,o,i){return this.rangedFilter_.matches(new fb.core.snap.NamedNode(t,n))||(n=fb.core.snap.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,o,i):this.fullLimitUpdateChild_(e,t,n,o,i)},fb.core.view.filter.LimitedFilter.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=fb.core.snap.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=fb.core.snap.EMPTY_NODE.withIndex(this.index_);var o;t=t,o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var i=0;o.hasNext()&&i<this.limit_;){var a,s=o.getNext();if(a=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0,!a)break;r=r.updateImmediateChild(s.name,s.node),i++}}else{r=t.withIndex(this.index_),r=r.updatePriority(fb.core.snap.EMPTY_NODE);var l,c,u;if(this.reverse_){o=r.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var d=this.index_.getCompare();u=function(e,t){return d(t,e)}}else o=r.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();i=0;for(var f=!1;o.hasNext();)s=o.getNext(),!f&&u(l,s)<=0&&(f=!0),a=f&&i<this.limit_&&u(s,c)<=0,a?i++:r=r.updateImmediateChild(s.name,fb.core.snap.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},fb.core.view.filter.LimitedFilter.prototype.updatePriority=function(e){return e},fb.core.view.filter.LimitedFilter.prototype.filtersNodes=function(){return!0},fb.core.view.filter.LimitedFilter.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},fb.core.view.filter.LimitedFilter.prototype.getIndex=function(){return this.index_},fb.core.view.filter.LimitedFilter.prototype.fullLimitUpdateChild_=function(e,t,n,r,o){var i,a=fb.core.view.Change;if(this.reverse_){var s=this.index_.getCompare();i=function(e,t){return s(t,e)}}else i=this.index_.getCompare();var l=e;fb.core.util.assert(l.numChildren()==this.limit_,"");var c=new fb.core.snap.NamedNode(t,n),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(c);if(l.hasChild(t)){for(var f=l.getImmediateChild(t),p=r.getChildAfterChild(this.index_,u,this.reverse_);null!=p&&(p.name==t||l.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var h=null==p?1:i(p,c),g=d&&!n.isEmpty()&&h>=0;if(g)return null!=o&&o.trackChildChange(a.childChangedChange(t,n,f)),l.updateImmediateChild(t,n);null!=o&&o.trackChildChange(a.childRemovedChange(t,f));var m=l.updateImmediateChild(t,fb.core.snap.EMPTY_NODE),v=null!=p&&this.rangedFilter_.matches(p);return v?(null!=o&&o.trackChildChange(a.childAddedChange(p.name,p.node)),m.updateImmediateChild(p.name,p.node)):m}return n.isEmpty()?e:d&&i(u,c)>=0?(null!=o&&(o.trackChildChange(a.childRemovedChange(u.name,u.node)),o.trackChildChange(a.childAddedChange(t,n))),l.updateImmediateChild(t,n).updateImmediateChild(u.name,fb.core.snap.EMPTY_NODE)):e},goog.provide("fb.core.view.ViewProcessor"),goog.require("fb.core.view.CompleteChildSource"),goog.require("fb.core.util"),fb.core.view.ProcessorResult=function(e,t){this.viewCache=e,this.changes=t},fb.core.view.ViewProcessor=function(e){this.filter_=e},fb.core.view.ViewProcessor.prototype.assertIndexed=function(e){fb.core.util.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),fb.core.util.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},fb.core.view.ViewProcessor.prototype.applyOperation=function(e,t,n,r){var o,i,a=new fb.core.view.ChildChangeAccumulator;if(t.type===fb.core.OperationType.OVERWRITE){var s=t;s.source.fromUser?o=this.applyUserOverwrite_(e,s.path,s.snap,n,r,a):(fb.core.util.assert(s.source.fromServer,"Unknown source."),i=s.source.tagged||e.getServerCache().isFiltered()&&!s.path.isEmpty(),o=this.applyServerOverwrite_(e,s.path,s.snap,n,r,i,a))}else if(t.type===fb.core.OperationType.MERGE){var l=t;l.source.fromUser?o=this.applyUserMerge_(e,l.path,l.children,n,r,a):(fb.core.util.assert(l.source.fromServer,"Unknown source."),i=l.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,l.path,l.children,n,r,i,a))}else if(t.type===fb.core.OperationType.ACK_USER_WRITE){var c=t;o=c.revert?this.revertUserWrite_(e,c.path,n,r,a):this.ackUserWrite_(e,c.path,c.affectedTree,n,r,a)}else{if(t.type!==fb.core.OperationType.LISTEN_COMPLETE)throw fb.core.util.assertionError("Unknown operation type: "+t.type);o=this.listenComplete_(e,t.path,n,r,a)}var u=a.getChanges();return this.maybeAddValueEvent_(e,o,u),new fb.core.view.ProcessorResult(o,u)},fb.core.view.ViewProcessor.prototype.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(fb.core.view.Change.valueChange(t.getCompleteEventSnap()))}},fb.core.view.ViewProcessor.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,o){var i=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var a,s;if(t.isEmpty())if(fb.core.util.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var l=e.getCompleteServerSnap(),c=l instanceof fb.core.snap.ChildrenNode?l:fb.core.snap.EMPTY_NODE,u=n.calcCompleteEventChildren(c);a=this.filter_.updateFullNode(e.getEventCache().getNode(),u,o)}else{var d=n.calcCompleteEventCache(e.getCompleteServerSnap());a=this.filter_.updateFullNode(e.getEventCache().getNode(),d,o)}else{var f=t.getFront();if(".priority"==f){fb.core.util.assert(1==t.getLength(),"Can't have a priority with additional path components");var p=i.getNode();s=e.getServerCache().getNode();var h=n.calcEventCacheAfterServerOverwrite(t,p,s);a=null!=h?this.filter_.updatePriority(p,h):i.getNode()}else{var g,m=t.popFront();if(i.isCompleteForChild(f)){s=e.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(t,i.getNode(),s);g=null!=v?i.getNode().getImmediateChild(f).updateChild(m,v):i.getNode().getImmediateChild(f)}else g=n.calcCompleteChild(f,e.getServerCache());a=null!=g?this.filter_.updateChild(i.getNode(),f,g,m,r,o):i.getNode()}}return e.updateEventSnap(a,i.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},fb.core.view.ViewProcessor.prototype.applyServerOverwrite_=function(e,t,n,r,o,i,a){var s,l=e.getServerCache(),c=i?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())s=c.updateFullNode(l.getNode(),n,null);else if(c.filtersNodes()&&!l.isFiltered()){var u=l.getNode().updateChild(t,n);s=c.updateFullNode(l.getNode(),u,null)}else{var d=t.getFront();if(!l.isCompleteForPath(t)&&t.getLength()>1)return e;var f=t.popFront(),p=l.getNode().getImmediateChild(d),h=p.updateChild(f,n);s=".priority"==d?c.updatePriority(l.getNode(),h):c.updateChild(l.getNode(),d,h,f,fb.core.view.NO_COMPLETE_CHILD_SOURCE,null)}var g=e.updateServerSnap(s,l.isFullyInitialized()||t.isEmpty(),c.filtersNodes()),m=new fb.core.view.WriteTreeCompleteChildSource(r,g,o);return this.generateEventCacheAfterServerEvent_(g,t,r,m,a)},fb.core.view.ViewProcessor.prototype.applyUserOverwrite_=function(e,t,n,r,o,i){var a,s,l=e.getEventCache(),c=new fb.core.view.WriteTreeCompleteChildSource(r,e,o);if(t.isEmpty())s=this.filter_.updateFullNode(e.getEventCache().getNode(),n,i),a=e.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var u=t.getFront();if(".priority"===u)s=this.filter_.updatePriority(e.getEventCache().getNode(),n),a=e.updateEventSnap(s,l.isFullyInitialized(),l.isFiltered());else{var d,f=t.popFront(),p=l.getNode().getImmediateChild(u);if(f.isEmpty())d=n;else{var h=c.getCompleteChild(u);d=null!=h?".priority"===f.getBack()&&h.getChild(f.parent()).isEmpty()?h:h.updateChild(f,n):fb.core.snap.EMPTY_NODE}if(p.equals(d))a=e;else{var g=this.filter_.updateChild(l.getNode(),u,d,f,c,i);a=e.updateEventSnap(g,l.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},fb.core.view.ViewProcessor.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},fb.core.view.ViewProcessor.prototype.applyUserMerge_=function(e,t,n,r,o,i){var a=this,s=e;return n.foreach(function(n,l){var c=t.child(n);fb.core.view.ViewProcessor.cacheHasChild_(e,c.getFront())&&(s=a.applyUserOverwrite_(s,c,l,r,o,i))}),n.foreach(function(n,l){var c=t.child(n);fb.core.view.ViewProcessor.cacheHasChild_(e,c.getFront())||(s=a.applyUserOverwrite_(s,c,l,r,o,i))}),s},fb.core.view.ViewProcessor.prototype.applyMerge_=function(e,t){return t.foreach(function(t,n){e=e.updateChild(t,n)}),e},fb.core.view.ViewProcessor.prototype.applyServerMerge_=function(e,t,n,r,o,i,a){if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var s,l=e;s=t.isEmpty()?n:fb.core.util.ImmutableTree.Empty.setTree(t,n);var c=e.getServerCache().getNode(),u=this;return s.children.inorderTraversal(function(t,n){if(c.hasChild(t)){var s=e.getServerCache().getNode().getImmediateChild(t),d=u.applyMerge_(s,n);l=u.applyServerOverwrite_(l,new fb.core.util.Path(t),d,r,o,i,a)}}),s.children.inorderTraversal(function(t,n){var s=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!c.hasChild(t)&&!s){var d=e.getServerCache().getNode().getImmediateChild(t),f=u.applyMerge_(d,n);l=u.applyServerOverwrite_(l,new fb.core.util.Path(t),f,r,o,i,a)}}),l},fb.core.view.ViewProcessor.prototype.ackUserWrite_=function(e,t,n,r,o,i){if(null!=r.shadowingWrite(t))return e;var a=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,s.getNode().getChild(t),r,o,a,i);if(t.isEmpty()){var l=fb.core.util.ImmutableTree.Empty;return s.getNode().forEachChild(fb.core.snap.KeyIndex,function(e,t){l=l.set(new fb.core.util.Path(e),t)}),this.applyServerMerge_(e,t,l,r,o,a,i)}return e}var l=fb.core.util.ImmutableTree.Empty;return n.foreach(function(e){var n=t.child(e);s.isCompleteForPath(n)&&(l=l.set(e,s.getNode().getChild(n)))}),this.applyServerMerge_(e,t,l,r,o,a,i)},fb.core.view.ViewProcessor.prototype.revertUserWrite_=function(e,t,n,r,o){var i;if(null!=n.shadowingWrite(t))return e;var a,s=new fb.core.view.WriteTreeCompleteChildSource(n,e,r),l=e.getEventCache().getNode();if(t.isEmpty()||".priority"===t.getFront()){var c;if(e.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var u=e.getServerCache().getNode();fb.core.util.assert(u instanceof fb.core.snap.ChildrenNode,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(u)}c=c,a=this.filter_.updateFullNode(l,c,o)}else{var d=t.getFront(),f=n.calcCompleteChild(d,e.getServerCache());null==f&&e.getServerCache().isCompleteForChild(d)&&(f=l.getImmediateChild(d)),a=null!=f?this.filter_.updateChild(l,d,f,t.popFront(),s,o):e.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(l,d,fb.core.snap.EMPTY_NODE,t.popFront(),s,o):l,a.isEmpty()&&e.getServerCache().isFullyInitialized()&&(i=n.calcCompleteEventCache(e.getCompleteServerSnap()),i.isLeafNode()&&(a=this.filter_.updateFullNode(a,i,o)))}return i=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(fb.core.util.Path.Empty),e.updateEventSnap(a,i,this.filter_.filtersNodes())},fb.core.view.ViewProcessor.prototype.listenComplete_=function(e,t,n,r,o){var i=e.getServerCache(),a=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(a,t,n,fb.core.view.NO_COMPLETE_CHILD_SOURCE,o)},goog.provide("fb.core.snap.Index"),goog.provide("fb.core.snap.KeyIndex"),goog.provide("fb.core.snap.PathIndex"),goog.provide("fb.core.snap.PriorityIndex"),goog.provide("fb.core.snap.ValueIndex"),goog.require("fb.core.util"),fb.core.snap.Index=function(){},fb.core.snap.Index.FallbackType,fb.core.snap.Index.Fallback={},fb.core.snap.Index.prototype.compare=goog.abstractMethod,fb.core.snap.Index.prototype.isDefinedOn=goog.abstractMethod,fb.core.snap.Index.prototype.getCompare=function(){return goog.bind(this.compare,this)},fb.core.snap.Index.prototype.indexedValueChanged=function(e,t){var n=new fb.core.snap.NamedNode(fb.core.util.MIN_NAME,e),r=new fb.core.snap.NamedNode(fb.core.util.MIN_NAME,t);return 0!==this.compare(n,r)},fb.core.snap.Index.prototype.minPost=function(){return fb.core.snap.NamedNode.MIN},fb.core.snap.Index.prototype.maxPost=goog.abstractMethod,fb.core.snap.Index.prototype.makePost=goog.abstractMethod,fb.core.snap.Index.prototype.toString=goog.abstractMethod,fb.core.snap.PathIndex=function(e){fb.core.snap.Index.call(this),fb.core.util.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),this.indexPath_=e},goog.inherits(fb.core.snap.PathIndex,fb.core.snap.Index),fb.core.snap.PathIndex.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},fb.core.snap.PathIndex.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},fb.core.snap.PathIndex.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),o=n.compareTo(r);return 0===o?fb.core.util.nameCompare(e.name,t.name):o},fb.core.snap.PathIndex.prototype.makePost=function(e,t){var n=fb.core.snap.NodeFromJSON(e),r=fb.core.snap.EMPTY_NODE.updateChild(this.indexPath_,n);return new fb.core.snap.NamedNode(t,r)},fb.core.snap.PathIndex.prototype.maxPost=function(){var e=fb.core.snap.EMPTY_NODE.updateChild(this.indexPath_,fb.core.snap.MAX_NODE);return new fb.core.snap.NamedNode(fb.core.util.MAX_NAME,e)},fb.core.snap.PathIndex.prototype.toString=function(){return this.indexPath_.slice().join("/")},fb.core.snap.PriorityIndex_=function(){fb.core.snap.Index.call(this)},goog.inherits(fb.core.snap.PriorityIndex_,fb.core.snap.Index),fb.core.snap.PriorityIndex_.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),o=n.compareTo(r);return 0===o?fb.core.util.nameCompare(e.name,t.name):o},fb.core.snap.PriorityIndex_.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},fb.core.snap.PriorityIndex_.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},fb.core.snap.PriorityIndex_.prototype.minPost=function(){return fb.core.snap.NamedNode.MIN},fb.core.snap.PriorityIndex_.prototype.maxPost=function(){return new fb.core.snap.NamedNode(fb.core.util.MAX_NAME,new fb.core.snap.LeafNode("[PRIORITY-POST]",fb.core.snap.MAX_NODE))},fb.core.snap.PriorityIndex_.prototype.makePost=function(e,t){var n=fb.core.snap.NodeFromJSON(e);return new fb.core.snap.NamedNode(t,new fb.core.snap.LeafNode("[PRIORITY-POST]",n))},fb.core.snap.PriorityIndex_.prototype.toString=function(){return".priority"},fb.core.snap.PriorityIndex=new fb.core.snap.PriorityIndex_,fb.core.snap.KeyIndex_=function(){fb.core.snap.Index.call(this)},goog.inherits(fb.core.snap.KeyIndex_,fb.core.snap.Index),fb.core.snap.KeyIndex_.prototype.compare=function(e,t){return fb.core.util.nameCompare(e.name,t.name)},fb.core.snap.KeyIndex_.prototype.isDefinedOn=function(){throw fb.core.util.assertionError("KeyIndex.isDefinedOn not expected to be called.")},fb.core.snap.KeyIndex_.prototype.indexedValueChanged=function(){return!1},fb.core.snap.KeyIndex_.prototype.minPost=function(){return fb.core.snap.NamedNode.MIN},fb.core.snap.KeyIndex_.prototype.maxPost=function(){return new fb.core.snap.NamedNode(fb.core.util.MAX_NAME,fb.core.snap.EMPTY_NODE)},fb.core.snap.KeyIndex_.prototype.makePost=function(e){return fb.core.util.assert(goog.isString(e),"KeyIndex indexValue must always be a string."),new fb.core.snap.NamedNode(e,fb.core.snap.EMPTY_NODE)},fb.core.snap.KeyIndex_.prototype.toString=function(){return".key"},fb.core.snap.KeyIndex=new fb.core.snap.KeyIndex_,fb.core.snap.ValueIndex_=function(){fb.core.snap.Index.call(this)},goog.inherits(fb.core.snap.ValueIndex_,fb.core.snap.Index),fb.core.snap.ValueIndex_.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?fb.core.util.nameCompare(e.name,t.name):n},fb.core.snap.ValueIndex_.prototype.isDefinedOn=function(){return!0},fb.core.snap.ValueIndex_.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},fb.core.snap.ValueIndex_.prototype.minPost=function(){return fb.core.snap.NamedNode.MIN},fb.core.snap.ValueIndex_.prototype.maxPost=function(){return fb.core.snap.NamedNode.MAX},fb.core.snap.ValueIndex_.prototype.makePost=function(e,t){var n=fb.core.snap.NodeFromJSON(e);return new fb.core.snap.NamedNode(t,n)},fb.core.snap.ValueIndex_.prototype.toString=function(){return".value"},fb.core.snap.ValueIndex=new fb.core.snap.ValueIndex_,goog.provide("fb.core.view.QueryParams"),goog.require("fb.core.snap.Index"),goog.require("fb.core.snap.PriorityIndex"),goog.require("fb.core.util"),goog.require("fb.core.view.filter.IndexedFilter"),goog.require("fb.core.view.filter.LimitedFilter"),goog.require("fb.core.view.filter.NodeFilter"),goog.require("fb.core.view.filter.RangedFilter"),fb.core.view.QueryParams=function(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fb.core.snap.PriorityIndex},fb.core.view.QueryParams.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},fb.core.view.QueryParams.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},fb.core.view.QueryParams.DEFAULT=new fb.core.view.QueryParams,fb.core.view.QueryParams.prototype.hasStart=function(){return this.startSet_},fb.core.view.QueryParams.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===fb.core.view.QueryParams.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},fb.core.view.QueryParams.prototype.getIndexStartValue=function(){return fb.core.util.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},fb.core.view.QueryParams.prototype.getIndexStartName=function(){return fb.core.util.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fb.core.util.MIN_NAME},fb.core.view.QueryParams.prototype.hasEnd=function(){return this.endSet_},fb.core.view.QueryParams.prototype.getIndexEndValue=function(){return fb.core.util.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},fb.core.view.QueryParams.prototype.getIndexEndName=function(){return fb.core.util.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fb.core.util.MAX_NAME},fb.core.view.QueryParams.prototype.hasLimit=function(){return this.limitSet_},fb.core.view.QueryParams.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},fb.core.view.QueryParams.prototype.getLimit=function(){return fb.core.util.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},fb.core.view.QueryParams.prototype.getIndex=function(){return this.index_},fb.core.view.QueryParams.prototype.copy_=function(){var e=new fb.core.view.QueryParams;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e},fb.core.view.QueryParams.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},fb.core.view.QueryParams.prototype.limitToFirst=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_=fb.core.view.QueryParams.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,t},fb.core.view.QueryParams.prototype.limitToLast=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_=fb.core.view.QueryParams.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,t},fb.core.view.QueryParams.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,goog.isDef(e)||(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},fb.core.view.QueryParams.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,goog.isDef(e)||(e=null),n.indexEndValue_=e,goog.isDef(t)?(n.endNameSet_=!0,n.indexEndName_=t):(n.startEndSet_=!1,n.indexEndName_=""),n},fb.core.view.QueryParams.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},fb.core.view.QueryParams.prototype.getQueryObject=function(){var e=fb.core.view.QueryParams.WIRE_PROTOCOL_CONSTANTS_,t={};if(this.startSet_&&(t[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(t[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(t[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(t[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){t[e.LIMIT]=this.limit_;var n=this.viewFrom_;""===n&&(n=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),t[e.VIEW_FROM]=n}return this.index_!==fb.core.snap.PriorityIndex&&(t[e.INDEX]=this.index_.toString()),t},fb.core.view.QueryParams.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},fb.core.view.QueryParams.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==fb.core.snap.PriorityIndex},fb.core.view.QueryParams.prototype.getNodeFilter=function(){return this.loadsAllData()?new fb.core.view.filter.IndexedFilter(this.getIndex()):this.hasLimit()?new fb.core.view.filter.LimitedFilter(this):new fb.core.view.filter.RangedFilter(this)},fb.core.view.QueryParams.prototype.toRestQueryStringParameters=function(){var e=fb.core.view.QueryParams.REST_QUERY_CONSTANTS_,t={};if(this.isDefault())return t;var n;return this.index_===fb.core.snap.PriorityIndex?n=e.PRIORITY_INDEX:this.index_===fb.core.snap.ValueIndex?n=e.VALUE_INDEX:this.index_===fb.core.snap.KeyIndex?n=e.KEY_INDEX:(fb.core.util.assert(this.index_ instanceof fb.core.snap.PathIndex,"Unrecognized index type!"),n=this.index_.toString()),t[e.ORDER_BY]=fb.util.json.stringify(n),this.startSet_&&(t[e.START_AT]=fb.util.json.stringify(this.indexStartValue_),this.startNameSet_&&(t[e.START_AT]+=","+fb.util.json.stringify(this.indexStartName_))),this.endSet_&&(t[e.END_AT]=fb.util.json.stringify(this.indexEndValue_),this.endNameSet_&&(t[e.END_AT]+=","+fb.util.json.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?t[e.LIMIT_TO_FIRST]=this.limit_:t[e.LIMIT_TO_LAST]=this.limit_),t
},goog.DEBUG&&(fb.core.view.QueryParams.prototype.toString=function(){return fb.util.json.stringify(this.getQueryObject())}),goog.provide("fb.core.snap.IndexMap"),goog.require("fb.core.snap.Index"),goog.require("fb.core.util"),fb.core.snap.IndexMap=function(e,t){this.indexes_=e,this.indexSet_=t},fb.core.snap.IndexMap.prototype.get=function(e){var t=fb.util.obj.get(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t===fb.core.snap.Index.Fallback?null:t},fb.core.snap.IndexMap.prototype.hasIndex=function(e){return goog.object.contains(this.indexSet_,e.toString())},fb.core.snap.IndexMap.prototype.addIndex=function(e,t){fb.core.util.assert(e!==fb.core.snap.KeyIndex,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n=[],r=!1,o=t.getIterator(fb.core.snap.NamedNode.Wrap),i=o.getNext();i;)r=r||e.isDefinedOn(i.node),n.push(i),i=o.getNext();var a;a=r?fb.core.snap.buildChildSet(n,e.getCompare()):fb.core.snap.Index.Fallback;var s=e.toString(),l=goog.object.clone(this.indexSet_);l[s]=e;var c=goog.object.clone(this.indexes_);return c[s]=a,new fb.core.snap.IndexMap(c,l)},fb.core.snap.IndexMap.prototype.addToIndexes=function(e,t){var n=this,r=goog.object.map(this.indexes_,function(r,o){var i=fb.util.obj.get(n.indexSet_,o);if(fb.core.util.assert(i,"Missing index implementation for "+o),r===fb.core.snap.Index.Fallback){if(i.isDefinedOn(e.node)){for(var a=[],s=t.getIterator(fb.core.snap.NamedNode.Wrap),l=s.getNext();l;)l.name!=e.name&&a.push(l),l=s.getNext();return a.push(e),fb.core.snap.buildChildSet(a,i.getCompare())}return fb.core.snap.Index.Fallback}var c=t.get(e.name),u=r;return c&&(u=u.remove(new fb.core.snap.NamedNode(e.name,c))),u.insert(e,e.node)});return new fb.core.snap.IndexMap(r,this.indexSet_)},fb.core.snap.IndexMap.prototype.removeFromIndexes=function(e,t){var n=goog.object.map(this.indexes_,function(n){if(n===fb.core.snap.Index.Fallback)return n;var r=t.get(e.name);return r?n.remove(new fb.core.snap.NamedNode(e.name,r)):n});return new fb.core.snap.IndexMap(n,this.indexSet_)},fb.core.snap.IndexMap.Default=new fb.core.snap.IndexMap({".priority":fb.core.snap.Index.Fallback},{".priority":fb.core.snap.PriorityIndex}),goog.provide("fb.core.snap.LeafNode"),goog.require("fb.core.snap.Node"),goog.require("fb.core.util"),fb.core.snap.LeafNode=goog.defineClass(null,{constructor:function(e,t){this.value_=e,fb.core.util.assert(goog.isDef(this.value_)&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),this.priorityNode_=t||fb.core.snap.EMPTY_NODE,fb.core.snap.validatePriorityNode(this.priorityNode_),this.lazyHash_=null},statics:{VALUE_TYPE_ORDER:["object","boolean","number","string"]},isLeafNode:function(){return!0},getPriority:function(){return this.priorityNode_},updatePriority:function(e){return new fb.core.snap.LeafNode(this.value_,e)},getImmediateChild:function(e){return".priority"===e?this.priorityNode_:fb.core.snap.EMPTY_NODE},getChild:function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:fb.core.snap.EMPTY_NODE},hasChild:function(){return!1},getPredecessorChildName:function(){return null},updateImmediateChild:function(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:fb.core.snap.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)},updateChild:function(e,t){var n=e.getFront();return null===n?t:t.isEmpty()&&".priority"!==n?this:(fb.core.util.assert(".priority"!==n||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(n,fb.core.snap.EMPTY_NODE.updateChild(e.popFront(),t)))},isEmpty:function(){return!1},numChildren:function(){return 0},forEachChild:function(){return!1},val:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},hash:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+fb.core.snap.priorityHashText(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?fb.core.util.doubleToIEEE754String(this.value_):this.value_,this.lazyHash_=fb.core.util.sha1(e)}return this.lazyHash_},getValue:function(){return this.value_},compareTo:function(e){return e===fb.core.snap.EMPTY_NODE?1:e instanceof fb.core.snap.ChildrenNode?-1:(fb.core.util.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},compareToLeafNode_:function(e){var t=typeof e.value_,n=typeof this.value_,r=goog.array.indexOf(fb.core.snap.LeafNode.VALUE_TYPE_ORDER,t),o=goog.array.indexOf(fb.core.snap.LeafNode.VALUE_TYPE_ORDER,n);return fb.core.util.assert(r>=0,"Unknown leaf type: "+t),fb.core.util.assert(o>=0,"Unknown leaf type: "+n),r===o?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r},withIndex:function(){return this},isIndexed:function(){return!0},equals:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}),goog.DEBUG&&(fb.core.snap.LeafNode.prototype.toString=function(){return fb.util.json.stringify(this.val(!0))}),goog.provide("fb.core.snap.ChildrenNode"),goog.require("fb.core.snap.IndexMap"),goog.require("fb.core.snap.LeafNode"),goog.require("fb.core.snap.NamedNode"),goog.require("fb.core.snap.Node"),goog.require("fb.core.snap.PriorityIndex"),goog.require("fb.core.snap.comparators"),goog.require("fb.core.util"),goog.require("fb.core.util.SortedMap"),fb.core.snap.ChildrenNode=function(e,t,n){this.children_=e,this.priorityNode_=t,this.priorityNode_&&fb.core.snap.validatePriorityNode(this.priorityNode_),e.isEmpty()&&fb.core.util.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority"),this.indexMap_=n,this.lazyHash_=null},fb.core.snap.ChildrenNode.prototype.isLeafNode=function(){return!1},fb.core.snap.ChildrenNode.prototype.getPriority=function(){return this.priorityNode_||fb.core.snap.EMPTY_NODE},fb.core.snap.ChildrenNode.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new fb.core.snap.ChildrenNode(this.children_,e,this.indexMap_)},fb.core.snap.ChildrenNode.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?fb.core.snap.EMPTY_NODE:t},fb.core.snap.ChildrenNode.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},fb.core.snap.ChildrenNode.prototype.hasChild=function(e){return null!==this.children_.get(e)},fb.core.snap.ChildrenNode.prototype.updateImmediateChild=function(e,t){if(fb.core.util.assert(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);var n,r,o,i=new fb.core.snap.NamedNode(e,t);return t.isEmpty()?(n=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(n=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(i,this.children_)),o=n.isEmpty()?fb.core.snap.EMPTY_NODE:this.priorityNode_,new fb.core.snap.ChildrenNode(n,o,r)},fb.core.snap.ChildrenNode.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;fb.core.util.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},fb.core.snap.ChildrenNode.prototype.isEmpty=function(){return this.children_.isEmpty()},fb.core.snap.ChildrenNode.prototype.numChildren=function(){return this.children_.count()},fb.core.snap.ChildrenNode.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,fb.core.snap.ChildrenNode.prototype.val=function(e){if(this.isEmpty())return null;var t={},n=0,r=0,o=!0;if(this.forEachChild(fb.core.snap.PriorityIndex,function(i,a){t[i]=a.val(e),n++,o&&fb.core.snap.ChildrenNode.INTEGER_REGEXP_.test(i)?r=Math.max(r,Number(i)):o=!1}),!e&&o&&2*n>r){var i=[];for(var a in t)i[a]=t[a];return i}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t},fb.core.snap.ChildrenNode.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+fb.core.snap.priorityHashText(this.getPriority().val())+":"),this.forEachChild(fb.core.snap.PriorityIndex,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":fb.core.util.sha1(e)}return this.lazyHash_},fb.core.snap.ChildrenNode.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var o=r.getPredecessorKey(new fb.core.snap.NamedNode(e,t));return o?o.name:null}return this.children_.getPredecessorKey(e)},fb.core.snap.ChildrenNode.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},fb.core.snap.ChildrenNode.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new fb.core.snap.NamedNode(t,this.children_.get(t)):null},fb.core.snap.ChildrenNode.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},fb.core.snap.ChildrenNode.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new fb.core.snap.NamedNode(t,this.children_.get(t)):null},fb.core.snap.ChildrenNode.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},fb.core.snap.ChildrenNode.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},fb.core.snap.ChildrenNode.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,fb.core.snap.NamedNode.Wrap),o=r.peek();null!=o&&t.compare(o,e)<0;)r.getNext(),o=r.peek();return r},fb.core.snap.ChildrenNode.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},fb.core.snap.ChildrenNode.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,fb.core.snap.NamedNode.Wrap),o=r.peek();null!=o&&t.compare(o,e)>0;)r.getNext(),o=r.peek();return r},fb.core.snap.ChildrenNode.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===fb.core.snap.MAX_NODE?-1:0},fb.core.snap.ChildrenNode.prototype.withIndex=function(e){if(e===fb.core.snap.KeyIndex||this.indexMap_.hasIndex(e))return this;var t=this.indexMap_.addIndex(e,this.children_);return new fb.core.snap.ChildrenNode(this.children_,this.priorityNode_,t)},fb.core.snap.ChildrenNode.prototype.isIndexed=function(e){return e===fb.core.snap.KeyIndex||this.indexMap_.hasIndex(e)},fb.core.snap.ChildrenNode.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(fb.core.snap.PriorityIndex),r=t.getIterator(fb.core.snap.PriorityIndex),o=n.getNext(),i=r.getNext();o&&i;){if(o.name!==i.name||!o.node.equals(i.node))return!1;o=n.getNext(),i=r.getNext()}return null===o&&null===i}return!1}return!1},fb.core.snap.ChildrenNode.prototype.resolveIndex_=function(e){return e===fb.core.snap.KeyIndex?null:this.indexMap_.get(e.toString())},goog.DEBUG&&(fb.core.snap.ChildrenNode.prototype.toString=function(){return fb.util.json.stringify(this.val(!0))}),goog.provide("fb.core.snap"),goog.require("fb.core.snap.ChildrenNode"),goog.require("fb.core.snap.IndexMap"),goog.require("fb.core.snap.LeafNode"),goog.require("fb.core.util");var USE_HINZE=!0;fb.core.snap.NodeFromJSON=function(e,t){if(null===e)return fb.core.snap.EMPTY_NODE;var n=null;if("object"==typeof e&&".priority"in e?n=e[".priority"]:"undefined"!=typeof t&&(n=t),fb.core.util.assert(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e){var r=e;return new fb.core.snap.LeafNode(r,fb.core.snap.NodeFromJSON(n))}if(e instanceof Array||!USE_HINZE){var o=fb.core.snap.EMPTY_NODE,i=e;return goog.object.forEach(i,function(e,t){if(fb.util.obj.contains(i,t)&&"."!==t.substring(0,1)){var n=fb.core.snap.NodeFromJSON(e);(n.isLeafNode()||!n.isEmpty())&&(o=o.updateImmediateChild(t,n))}}),o.updatePriority(fb.core.snap.NodeFromJSON(n))}var a=[],s=!1,l=e;if(fb.util.obj.foreach(l,function(e){if("string"!=typeof e||"."!==e.substring(0,1)){var t=fb.core.snap.NodeFromJSON(l[e]);t.isEmpty()||(s=s||!t.getPriority().isEmpty(),a.push(new fb.core.snap.NamedNode(e,t)))}}),0==a.length)return fb.core.snap.EMPTY_NODE;var c=fb.core.snap.buildChildSet(a,fb.core.snap.NAME_ONLY_COMPARATOR,function(e){return e.name},fb.core.snap.NAME_COMPARATOR);if(s){var u=fb.core.snap.buildChildSet(a,fb.core.snap.PriorityIndex.getCompare());return new fb.core.snap.ChildrenNode(c,fb.core.snap.NodeFromJSON(n),new fb.core.snap.IndexMap({".priority":u},{".priority":fb.core.snap.PriorityIndex}))}return new fb.core.snap.ChildrenNode(c,fb.core.snap.NodeFromJSON(n),fb.core.snap.IndexMap.Default)};var LOG_2=Math.log(2);fb.core.snap.Base12Num=function(e){var t=function(e){return parseInt(Math.log(e)/LOG_2,10)},n=function(e){return parseInt(Array(e+1).join("1"),2)};this.count=t(e+1),this.current_=this.count-1;var r=n(this.count);this.bits_=e+1&r},fb.core.snap.Base12Num.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},fb.core.snap.buildChildSet=function(e,t,n,r){e.sort(t);var o=function(t,r){var i=r-t;if(0==i)return null;if(1==i){var a=e[t],s=n?n(a):a;return new fb.LLRBNode(s,a.node,fb.LLRBNode.BLACK,null,null)}var l=parseInt(i/2,10)+t,c=o(t,l),u=o(l+1,r);return a=e[l],s=n?n(a):a,new fb.LLRBNode(s,a.node,fb.LLRBNode.BLACK,c,u)},i=function(t){for(var r=null,i=null,a=e.length,s=function(t,r){var i=a-t,s=a;a-=t;var c=o(i+1,s),u=e[i],d=n?n(u):u;l(new fb.LLRBNode(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(i=e,r=e)},c=0;c<t.count;++c){var u=t.nextBitIsOne(),d=Math.pow(2,t.count-(c+1));u?s(d,fb.LLRBNode.BLACK):(s(d,fb.LLRBNode.BLACK),s(d,fb.LLRBNode.RED))}return i},a=new fb.core.snap.Base12Num(e.length),s=i(a);return null!==s?new fb.core.util.SortedMap(r||t,s):new fb.core.util.SortedMap(r||t)},fb.core.snap.priorityHashText=function(e){return"number"==typeof e?"number:"+fb.core.util.doubleToIEEE754String(e):"string:"+e},fb.core.snap.validatePriorityNode=function(e){if(e.isLeafNode()){var t=e.val();fb.core.util.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&fb.util.obj.contains(t,".sv"),"Priority must be a string or number.")}else fb.core.util.assert(e===fb.core.snap.MAX_NODE||e.isEmpty(),"priority of unexpected type.");fb.core.util.assert(e===fb.core.snap.MAX_NODE||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},fb.core.snap.EMPTY_NODE=new fb.core.snap.ChildrenNode(new fb.core.util.SortedMap(fb.core.snap.NAME_COMPARATOR),null,fb.core.snap.IndexMap.Default),fb.core.snap.MAX_NODE_=function(){fb.core.snap.ChildrenNode.call(this,new fb.core.util.SortedMap(fb.core.snap.NAME_COMPARATOR),fb.core.snap.EMPTY_NODE,fb.core.snap.IndexMap.Default)},goog.inherits(fb.core.snap.MAX_NODE_,fb.core.snap.ChildrenNode),fb.core.snap.MAX_NODE_.prototype.compareTo=function(e){return e===this?0:1},fb.core.snap.MAX_NODE_.prototype.equals=function(e){return e===this},fb.core.snap.MAX_NODE_.prototype.getPriority=function(){return this},fb.core.snap.MAX_NODE_.prototype.getImmediateChild=function(){return fb.core.snap.EMPTY_NODE},fb.core.snap.MAX_NODE_.prototype.isEmpty=function(){return!1},fb.core.snap.MAX_NODE=new fb.core.snap.MAX_NODE_,fb.core.snap.NamedNode.MIN=new fb.core.snap.NamedNode(fb.core.util.MIN_NAME,fb.core.snap.EMPTY_NODE),fb.core.snap.NamedNode.MAX=new fb.core.snap.NamedNode(fb.core.util.MAX_NAME,fb.core.snap.MAX_NODE),goog.provide("fb.core.view.ViewCache"),goog.require("fb.core.view.CacheNode"),goog.require("fb.core.snap"),fb.core.view.ViewCache=function(e,t){this.eventCache_=e,this.serverCache_=t},fb.core.view.ViewCache.Empty=new fb.core.view.ViewCache(new fb.core.view.CacheNode(fb.core.snap.EMPTY_NODE,!1,!1),new fb.core.view.CacheNode(fb.core.snap.EMPTY_NODE,!1,!1)),fb.core.view.ViewCache.prototype.updateEventSnap=function(e,t,n){return new fb.core.view.ViewCache(new fb.core.view.CacheNode(e,t,n),this.serverCache_)},fb.core.view.ViewCache.prototype.updateServerSnap=function(e,t,n){return new fb.core.view.ViewCache(this.eventCache_,new fb.core.view.CacheNode(e,t,n))},fb.core.view.ViewCache.prototype.getEventCache=function(){return this.eventCache_},fb.core.view.ViewCache.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},fb.core.view.ViewCache.prototype.getServerCache=function(){return this.serverCache_},fb.core.view.ViewCache.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},goog.provide("fb.core.view.View"),goog.require("fb.core.view.EventGenerator"),goog.require("fb.core.view.ViewCache"),goog.require("fb.core.view.ViewProcessor"),goog.require("fb.core.util"),fb.core.view.View=function(e,t){this.query_=e;var n=e.getQueryParams(),r=new fb.core.view.filter.IndexedFilter(n.getIndex()),o=n.getNodeFilter();this.processor_=new fb.core.view.ViewProcessor(o);var i=t.getServerCache(),a=t.getEventCache(),s=r.updateFullNode(fb.core.snap.EMPTY_NODE,i.getNode(),null),l=o.updateFullNode(fb.core.snap.EMPTY_NODE,a.getNode(),null),c=new fb.core.view.CacheNode(s,i.isFullyInitialized(),r.filtersNodes()),u=new fb.core.view.CacheNode(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=new fb.core.view.ViewCache(u,c),this.eventRegistrations_=[],this.eventGenerator_=new fb.core.view.EventGenerator(e)},fb.core.view.View.prototype.getQuery=function(){return this.query_},fb.core.view.View.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},fb.core.view.View.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},fb.core.view.View.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},fb.core.view.View.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},fb.core.view.View.prototype.removeEventRegistration=function(e,t){var n=[];if(t){fb.core.util.assert(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;goog.array.forEach(this.eventRegistrations_,function(e){t=t;var o=e.createCancelEvent(t,r);o&&n.push(o)})}if(e){for(var o=[],i=0;i<this.eventRegistrations_.length;++i){var a=this.eventRegistrations_[i];if(a.matches(e)){if(e.hasAnyCallback()){o=o.concat(this.eventRegistrations_.slice(i+1));break}}else o.push(a)}this.eventRegistrations_=o}else this.eventRegistrations_=[];return n},fb.core.view.View.prototype.applyOperation=function(e,t,n){e.type===fb.core.OperationType.MERGE&&null!==e.source.queryId&&(fb.core.util.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),fb.core.util.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,o=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(o.viewCache),fb.core.util.assert(o.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=o.viewCache,this.generateEventsForChanges_(o.changes,o.viewCache.getEventCache().getNode(),null)},fb.core.view.View.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];if(!t.getNode().isLeafNode()){var r=t.getNode();r.forEachChild(fb.core.snap.PriorityIndex,function(e,t){n.push(fb.core.view.Change.childAddedChange(e,t))})}return t.isFullyInitialized()&&n.push(fb.core.view.Change.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},fb.core.view.View.prototype.generateEventsForChanges_=function(e,t,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,r)},goog.provide("fb.core.operation.Merge"),goog.require("fb.core.util"),fb.core.operation.Merge=function(e,t,n){this.type=fb.core.OperationType.MERGE,this.source=e,this.path=t,this.children=n},fb.core.operation.Merge.prototype.operationForChild=function(e){if(this.path.isEmpty()){var t=this.children.subtree(new fb.core.util.Path(e));return t.isEmpty()?null:t.value?new fb.core.operation.Overwrite(this.source,fb.core.util.Path.Empty,t.value):new fb.core.operation.Merge(this.source,fb.core.util.Path.Empty,t)}return fb.core.util.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new fb.core.operation.Merge(this.source,this.path.popFront(),this.children)},goog.DEBUG&&(fb.core.operation.Merge.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}),goog.provide("fb.core.ReadonlyRestClient"),goog.require("fb.core.util"),goog.require("fb.util"),goog.require("fb.util.json"),goog.require("fb.util.jwt"),goog.require("fb.util.obj"),fb.core.ReadonlyRestClient=goog.defineClass(null,{constructor:function(e,t){this.log_=fb.core.util.logWrapper("p:rest:"),this.repoInfo_=e,this.onDataUpdate_=t,this.credential_=null,this.listens_={}},listen:function(e,t,n,r){var o=e.path.toString();this.log_("Listen called for "+o+" "+e.queryIdentifier());var i=fb.core.ReadonlyRestClient.getListenId_(e,n),a=new Object;this.listens_[i]=a;var s=e.getQueryParams().toRestQueryStringParameters(),l=this;this.restRequest_(o+".json",s,function(e,t){var s=t;if(404===e&&(s=null,e=null),null===e&&l.onDataUpdate_(o,s,!1,n),fb.util.obj.get(l.listens_,i)===a){var c;c=e?401==e?"permission_denied":"rest_error:"+e:"ok",r(c,null)}})},unlisten:function(e,t){var n=fb.core.ReadonlyRestClient.getListenId_(e,t);delete this.listens_[n]},auth:function(e,t){this.credential_=e;var n=fb.util.jwt.decode(e),r=n.data,o=n.claims&&n.claims.exp;t&&t("ok",{auth:r,expires:o})},unauth:function(e){this.credential_=null,e("ok",null)},onDisconnectPut:function(){},onDisconnectMerge:function(){},onDisconnectCancel:function(){},put:function(){},merge:function(){},reportStats:function(){},restRequest_:function(e,t,n){t=t||{},t.format="export",this.credential_&&(t.auth=this.credential_);var r=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?"+fb.util.querystring(t);this.log_("Sending REST request for "+r);var o=new XMLHttpRequest,i=this;o.onreadystatechange=function(){if(n&&4===o.readyState){i.log_("REST Response for "+r+" received. status:",o.status,"response:",o.responseText);var e=null;if(o.status>=200&&o.status<300){try{e=fb.util.json.eval(o.responseText)}catch(t){fb.core.util.warn("Failed to parse JSON response for "+r+": "+o.responseText)}n(null,e)}else 401!==o.status&&404!==o.status&&fb.core.util.warn("Got unsuccessful REST response for "+r+" Status: "+o.status),n(o.status);n=null}},o.open("GET",r,!0),o.send()},statics:{getListenId_:function(e,t){return goog.isDef(t)?"tag$"+t:(fb.core.util.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())}}}),goog.provide("fb.core.util.EventEmitter"),goog.require("fb.core.util"),goog.require("goog.array"),fb.core.util.EventEmitter=goog.defineClass(null,{constructor:function(e){fb.core.util.assert(goog.isArray(e)&&e.length>0,"Requires a non-empty array"),this.allowedEvents_=e,this.listeners_={}},getInitialEvent:goog.abstractMethod,trigger:function(e){for(var t=goog.array.clone(this.listeners_[e]||[]),n=0;n<t.length;n++)t[n].callback.apply(t[n].context,Array.prototype.slice.call(arguments,1))},on:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},off:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],o=0;o<r.length;o++)if(r[o].callback===t&&(!n||n===r[o].context))return void r.splice(o,1)},validateEventType_:function(e){fb.core.util.assert(goog.array.find(this.allowedEvents_,function(t){return t===e}),"Unknown event: "+e)}}),goog.provide("fb.core.util.nextPushId"),goog.require("fb.core.util"),fb.core.util.nextPushId=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=0,n=[];return function(r){var o=r===t;t=r;for(var i=new Array(8),a=7;a>=0;a--)i[a]=e.charAt(r%64),r=Math.floor(r/64);fb.core.util.assert(0===r,"Cannot push at time == 0");var s=i.join("");if(o){for(a=11;a>=0&&63===n[a];a--)n[a]=0;n[a]++}else for(a=0;12>a;a++)n[a]=Math.floor(64*Math.random());for(a=0;12>a;a++)s+=e.charAt(n[a]);return fb.core.util.assert(20===s.length,"nextPushId: Length should be 20."),s}}(),goog.provide("fb.core.util.OnlineMonitor"),goog.require("fb.core.util"),goog.require("fb.core.util.EventEmitter"),fb.core.util.OnlineMonitor=goog.defineClass(fb.core.util.EventEmitter,{constructor:function(){if(fb.core.util.EventEmitter.call(this,["online"]),this.online_=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var e=this;window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)}},getInitialEvent:function(e){return fb.core.util.assert("online"===e,"Unknown event type: "+e),[this.online_]},currentlyOnline:function(){return this.online_}}),goog.addSingletonGetter(fb.core.util.OnlineMonitor),goog.provide("fb.core.util.VisibilityMonitor"),goog.require("fb.core.util"),goog.require("fb.core.util.EventEmitter"),fb.core.util.VisibilityMonitor=goog.defineClass(fb.core.util.EventEmitter,{constructor:function(){fb.core.util.EventEmitter.call(this,["visible"]);var e,t;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!=typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!=typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!=typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t){var n=this;document.addEventListener(t,function(){var t=!document[e];t!==n.visible_&&(n.visible_=t,n.trigger("visible",t))},!1)}},getInitialEvent:function(e){return fb.core.util.assert("visible"===e,"Unknown event type: "+e),[this.visible_]}}),goog.addSingletonGetter(fb.core.util.VisibilityMonitor),goog.provide("fb.core.util.Path"),goog.provide("fb.core.util.ValidationPath"),goog.require("fb.core.util"),goog.require("fb.util.utf8"),goog.require("goog.string"),fb.core.util.Path=goog.defineClass(null,{constructor:function(e,t){if(1==arguments.length){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t},getFront:function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},getLength:function(){return this.pieces_.length-this.pieceNum_},popFront:function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new fb.core.util.Path(this.pieces_,e)},getBack:function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},toString:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},toUrlEncodedString:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+goog.string.urlEncode(this.pieces_[t]));return e||"/"},slice:function(e){var t=e||0;return this.pieces_.slice(this.pieceNum_+t)},parent:function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],t=this.pieceNum_;t<this.pieces_.length-1;t++)e.push(this.pieces_[t]);return new fb.core.util.Path(e,0)},child:function(e){for(var t=[],n=this.pieceNum_;n<this.pieces_.length;n++)t.push(this.pieces_[n]);if(e instanceof fb.core.util.Path)for(n=e.pieceNum_;n<e.pieces_.length;n++)t.push(e.pieces_[n]);else{var r=e.split("/");for(n=0;n<r.length;n++)r[n].length>0&&t.push(r[n])}return new fb.core.util.Path(t,0)},isEmpty:function(){return this.pieceNum_>=this.pieces_.length},statics:{relativePath:function(e,t){var n=e.getFront(),r=t.getFront();if(null===n)return t;if(n===r)return fb.core.util.Path.relativePath(e.popFront(),t.popFront());throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")},comparePaths:function(e,t){for(var n=e.slice(),r=t.slice(),o=0;o<n.length&&o<r.length;o++){var i=fb.core.util.nameCompare(n[o],r[o]);if(0!==i)return i}return n.length===r.length?0:n.length<r.length?-1:1}},equals:function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},contains:function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0}}),fb.core.util.Path.Empty=new fb.core.util.Path(""),fb.core.util.ValidationPath=goog.defineClass(null,{constructor:function(e,t){this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length),this.errorPrefix_=t;for(var n=0;n<this.parts_.length;n++)this.byteLength_+=fb.util.utf8.stringLength(this.parts_[n]);this.checkValid_()},statics:{MAX_PATH_DEPTH:32,MAX_PATH_LENGTH_BYTES:768},push:function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=fb.util.utf8.stringLength(e),this.checkValid_()},pop:function(){var e=this.parts_.pop();this.byteLength_-=fb.util.utf8.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},checkValid_:function(){if(this.byteLength_>fb.core.util.ValidationPath.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+fb.core.util.ValidationPath.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>fb.core.util.ValidationPath.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+fb.core.util.ValidationPath.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},toErrorString:function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"}}),goog.provide("fb.core.util.ImmutableTree"),goog.require("fb.core.util"),goog.require("fb.core.util.Path"),goog.require("fb.core.util.SortedMap"),goog.require("fb.util.json"),goog.require("fb.util.obj"),goog.require("goog.object"),fb.core.util.ImmutableTree=goog.defineClass(null,{constructor:function(e,t){this.value=e,this.children=t||fb.core.util.ImmutableTree.EmptyChildren_},statics:{EmptyChildren_:new fb.core.util.SortedMap(fb.core.util.stringCompare),fromObject:function(e){var t=fb.core.util.ImmutableTree.Empty;return goog.object.forEach(e,function(e,n){t=t.set(new fb.core.util.Path(n),e)}),t}},isEmpty:function(){return null===this.value&&this.children.isEmpty()},findRootMostMatchingPathAndValue:function(e,t){if(null!=this.value&&t(this.value))return{path:fb.core.util.Path.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null!==r){var o=r.findRootMostMatchingPathAndValue(e.popFront(),t);if(null!=o){var i=new fb.core.util.Path(n).child(o.path);return{path:i,value:o.value}}return null}return null},findRootMostValueAndPath:function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},subtree:function(e){if(e.isEmpty())return this;
var t=e.getFront(),n=this.children.get(t);return null!==n?n.subtree(e.popFront()):fb.core.util.ImmutableTree.Empty},set:function(e,t){if(e.isEmpty())return new fb.core.util.ImmutableTree(t,this.children);var n=e.getFront(),r=this.children.get(n)||fb.core.util.ImmutableTree.Empty,o=r.set(e.popFront(),t),i=this.children.insert(n,o);return new fb.core.util.ImmutableTree(this.value,i)},remove:function(e){if(e.isEmpty())return this.children.isEmpty()?fb.core.util.ImmutableTree.Empty:new fb.core.util.ImmutableTree(null,this.children);var t=e.getFront(),n=this.children.get(t);if(n){var r,o=n.remove(e.popFront());return r=o.isEmpty()?this.children.remove(t):this.children.insert(t,o),null===this.value&&r.isEmpty()?fb.core.util.ImmutableTree.Empty:new fb.core.util.ImmutableTree(this.value,r)}return this},get:function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},setTree:function(e,t){if(e.isEmpty())return t;var n,r=e.getFront(),o=this.children.get(r)||fb.core.util.ImmutableTree.Empty,i=o.setTree(e.popFront(),t);return n=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new fb.core.util.ImmutableTree(this.value,n)},fold:function(e){return this.fold_(fb.core.util.Path.Empty,e)},fold_:function(e,t){var n={};return this.children.inorderTraversal(function(r,o){n[r]=o.fold_(e.child(r),t)}),t(e,this.value,n)},findOnPath:function(e,t){return this.findOnPath_(e,fb.core.util.Path.Empty,t)},findOnPath_:function(e,t,n){var r=this.value?n(t,this.value):!1;if(r)return r;if(e.isEmpty())return null;var o=e.getFront(),i=this.children.get(o);return i?i.findOnPath_(e.popFront(),t.child(o),n):null},foreachOnPath:function(e,t){return this.foreachOnPath_(e,fb.core.util.Path.Empty,t)},foreachOnPath_:function(e,t,n){if(e.isEmpty())return this;this.value&&n(t,this.value);var r=e.getFront(),o=this.children.get(r);return o?o.foreachOnPath_(e.popFront(),t.child(r),n):fb.core.util.ImmutableTree.Empty},foreach:function(e){this.foreach_(fb.core.util.Path.Empty,e)},foreach_:function(e,t){this.children.inorderTraversal(function(n,r){r.foreach_(e.child(n),t)}),this.value&&t(e,this.value)},foreachChild:function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})}}),fb.core.util.ImmutableTree.Empty=new fb.core.util.ImmutableTree(null),goog.DEBUG&&(fb.core.util.ImmutableTree.prototype.toString=function(){var e={};return this.foreach(function(t,n){var r=t.toString();e[r]=n.toString()}),fb.util.json.stringify(e)}),goog.provide("fb.core.operation.AckUserWrite"),goog.require("fb.core.util.ImmutableTree"),fb.core.operation.AckUserWrite=function(e,t,n){this.type=fb.core.OperationType.ACK_USER_WRITE,this.source=fb.core.OperationSource.User,this.path=e,this.affectedTree=t,this.revert=n},fb.core.operation.AckUserWrite.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return fb.core.util.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var t=this.affectedTree.subtree(new fb.core.util.Path(e));return new fb.core.operation.AckUserWrite(fb.core.util.Path.Empty,t,this.revert)}return fb.core.util.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new fb.core.operation.AckUserWrite(this.path.popFront(),this.affectedTree,this.revert)},goog.DEBUG&&(fb.core.operation.AckUserWrite.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.revert+" affectedTree="+this.affectedTree+")"}),goog.provide("fb.core.Operation"),goog.require("fb.core.operation.AckUserWrite"),goog.require("fb.core.operation.Merge"),goog.require("fb.core.operation.Overwrite"),goog.require("fb.core.operation.ListenComplete"),goog.require("fb.core.util"),fb.core.OperationType={OVERWRITE:0,MERGE:1,ACK_USER_WRITE:2,LISTEN_COMPLETE:3},fb.core.Operation=function(){},fb.core.Operation.prototype.source,fb.core.Operation.prototype.type,fb.core.Operation.prototype.path,fb.core.Operation.prototype.operationForChild=goog.abstractMethod,fb.core.OperationSource=function(e,t,n,r){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=r,fb.core.util.assert(!r||t,"Tagged queries must be from server.")},fb.core.OperationSource.User=new fb.core.OperationSource(!0,!1,null,!1),fb.core.OperationSource.Server=new fb.core.OperationSource(!1,!0,null,!1),fb.core.OperationSource.forServerTaggedQuery=function(e){return new fb.core.OperationSource(!1,!0,e,!0)},goog.DEBUG&&(fb.core.OperationSource.prototype.toString=function(){return this.fromUser?"user":this.tagged?"server(queryID="+this.queryId+")":"server"}),goog.provide("fb.core.CompoundWrite"),goog.require("fb.core.snap.Node"),goog.require("fb.core.util"),goog.require("fb.core.util.ImmutableTree"),fb.core.CompoundWrite=function(e){this.writeTree_=e},fb.core.CompoundWrite.Empty=new fb.core.CompoundWrite(new fb.core.util.ImmutableTree(null)),fb.core.CompoundWrite.prototype.addWrite=function(e,t){if(e.isEmpty())return new fb.core.CompoundWrite(new fb.core.util.ImmutableTree(t));var n=this.writeTree_.findRootMostValueAndPath(e);if(null!=n){var r=n.path,o=n.value,i=fb.core.util.Path.relativePath(r,e);return o=o.updateChild(i,t),new fb.core.CompoundWrite(this.writeTree_.set(r,o))}var a=new fb.core.util.ImmutableTree(t),s=this.writeTree_.setTree(e,a);return new fb.core.CompoundWrite(s)},fb.core.CompoundWrite.prototype.addWrites=function(e,t){var n=this;return fb.util.obj.foreach(t,function(t,r){n=n.addWrite(e.child(t),r)}),n},fb.core.CompoundWrite.prototype.removeWrite=function(e){if(e.isEmpty())return fb.core.CompoundWrite.Empty;var t=this.writeTree_.setTree(e,fb.core.util.ImmutableTree.Empty);return new fb.core.CompoundWrite(t)},fb.core.CompoundWrite.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},fb.core.CompoundWrite.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(fb.core.util.Path.relativePath(t.path,e)):null},fb.core.CompoundWrite.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||(t=t,t.forEachChild(fb.core.snap.PriorityIndex,function(t,n){e.push(new fb.core.snap.NamedNode(t,n))})):this.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new fb.core.snap.NamedNode(t,n.value))}),e},fb.core.CompoundWrite.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var t=this.getCompleteNode(e);return new fb.core.CompoundWrite(null!=t?new fb.core.util.ImmutableTree(t):this.writeTree_.subtree(e))},fb.core.CompoundWrite.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},fb.core.CompoundWrite.prototype.apply=function(e){return fb.core.CompoundWrite.applySubtreeWrite_(fb.core.util.Path.Empty,this.writeTree_,e)},fb.core.CompoundWrite.applySubtreeWrite_=function(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(t,o){".priority"===t?(fb.core.util.assert(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=fb.core.CompoundWrite.applySubtreeWrite_(e.child(t),o,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(e.child(".priority"),r)),n},goog.provide("fb.core.WriteTree"),goog.require("fb.core.CompoundWrite"),goog.require("fb.core.util"),goog.require("fb.core.view.CacheNode"),fb.core.WriteRecord,fb.core.WriteTree=function(){this.visibleWrites_=fb.core.CompoundWrite.Empty,this.allWrites_=[],this.lastWriteId_=-1},fb.core.WriteTree.prototype.childWrites=function(e){return new fb.core.WriteTreeRef(e,this)},fb.core.WriteTree.prototype.addOverwrite=function(e,t,n,r){fb.core.util.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),goog.isDef(r)||(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},fb.core.WriteTree.prototype.addMerge=function(e,t,n){fb.core.util.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},fb.core.WriteTree.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},fb.core.WriteTree.prototype.removeWrite=function(e){var t=goog.array.findIndex(this.allWrites_,function(t){return t.writeId===e});fb.core.util.assert(t>=0,"removeWrite called with nonexistent writeId.");var n=this.allWrites_[t];this.allWrites_.splice(t,1);for(var r=n.visible,o=!1,i=this.allWrites_.length-1;r&&i>=0;){var a=this.allWrites_[i];a.visible&&(i>=t&&this.recordContainsPath_(a,n.path)?r=!1:n.path.contains(a.path)&&(o=!0)),i--}if(r){if(o)return this.resetTree_(),!0;if(n.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(n.path);else{var s=n.children,l=this;goog.object.forEach(s,function(e,t){l.visibleWrites_=l.visibleWrites_.removeWrite(n.path.child(t))})}return!0}return!1},fb.core.WriteTree.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},fb.core.WriteTree.prototype.calcCompleteEventCache=function(e,t,n,r){if(n||r){var o=this.visibleWrites_.childCompoundWrite(e);if(!r&&o.isEmpty())return t;if(r||null!=t||o.hasCompleteWrite(fb.core.util.Path.Empty)){var i=function(t){return!(!t.visible&&!r||n&&goog.array.contains(n,t.writeId)||!t.path.contains(e)&&!e.contains(t.path))},a=fb.core.WriteTree.layerTree_(this.allWrites_,i,e);return c=t||fb.core.snap.EMPTY_NODE,a.apply(c)}return null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var l=this.visibleWrites_.childCompoundWrite(e);if(l.isEmpty())return t;if(null!=t||l.hasCompleteWrite(fb.core.util.Path.Empty)){var c=t||fb.core.snap.EMPTY_NODE;return l.apply(c)}return null},fb.core.WriteTree.prototype.calcCompleteEventChildren=function(e,t){var n=fb.core.snap.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(fb.core.snap.PriorityIndex,function(e,t){n=n.updateImmediateChild(e,t)}),n;if(t){var o=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(fb.core.snap.PriorityIndex,function(e,t){var r=o.childCompoundWrite(new fb.core.util.Path(e)).apply(t);n=n.updateImmediateChild(e,r)}),goog.array.forEach(o.getCompleteChildren(),function(e){n=n.updateImmediateChild(e.name,e.node)}),n}return o=this.visibleWrites_.childCompoundWrite(e),goog.array.forEach(o.getCompleteChildren(),function(e){n=n.updateImmediateChild(e.name,e.node)}),n},fb.core.WriteTree.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){fb.core.util.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var o=e.child(t);if(this.visibleWrites_.hasCompleteWrite(o))return null;var i=this.visibleWrites_.childCompoundWrite(o);return i.isEmpty()?r.getChild(t):i.apply(r.getChild(t))},fb.core.WriteTree.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),o=this.visibleWrites_.getCompleteNode(r);if(null!=o)return o;if(n.isCompleteForChild(t)){var i=this.visibleWrites_.childCompoundWrite(r);return i.apply(n.getNode().getImmediateChild(t))}return null},fb.core.WriteTree.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},fb.core.WriteTree.prototype.calcIndexedSlice=function(e,t,n,r,o,i){var a,s=this.visibleWrites_.childCompoundWrite(e),l=s.getCompleteNode(fb.core.util.Path.Empty);if(null!=l)a=l;else{if(null==t)return[];a=s.apply(t)}if(a=a.withIndex(i),a.isEmpty()||a.isLeafNode())return[];for(var c=[],u=i.getCompare(),d=o?a.getReverseIteratorFrom(n,i):a.getIteratorFrom(n,i),f=d.getNext();f&&c.length<r;)0!==u(f,n)&&c.push(f),f=d.getNext();return c},fb.core.WriteTree.prototype.recordContainsPath_=function(e,t){return e.snap?e.path.contains(t):!!goog.object.findKey(e.children,function(n,r){return e.path.child(r).contains(t)})},fb.core.WriteTree.prototype.resetTree_=function(){this.visibleWrites_=fb.core.WriteTree.layerTree_(this.allWrites_,fb.core.WriteTree.DefaultFilter_,fb.core.util.Path.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},fb.core.WriteTree.DefaultFilter_=function(e){return e.visible},fb.core.WriteTree.layerTree_=function(e,t,n){for(var r=fb.core.CompoundWrite.Empty,o=0;o<e.length;++o){var i=e[o];if(t(i)){var a,s=i.path;if(i.snap)n.contains(s)?(a=fb.core.util.Path.relativePath(n,s),r=r.addWrite(a,i.snap)):s.contains(n)&&(a=fb.core.util.Path.relativePath(s,n),r=r.addWrite(fb.core.util.Path.Empty,i.snap.getChild(a)));else{if(!i.children)throw fb.core.util.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))a=fb.core.util.Path.relativePath(n,s),r=r.addWrites(a,i.children);else if(s.contains(n))if(a=fb.core.util.Path.relativePath(s,n),a.isEmpty())r=r.addWrites(fb.core.util.Path.Empty,i.children);else{var l=fb.util.obj.get(i.children,a.getFront());if(l){var c=l.getChild(a.popFront());r=r.addWrite(fb.core.util.Path.Empty,c)}}}}}return r},fb.core.WriteTreeRef=function(e,t){this.treePath_=e,this.writeTree_=t},fb.core.WriteTreeRef.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},fb.core.WriteTreeRef.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},fb.core.WriteTreeRef.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},fb.core.WriteTreeRef.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},fb.core.WriteTreeRef.prototype.calcIndexedSlice=function(e,t,n,r,o){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,o)},fb.core.WriteTreeRef.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},fb.core.WriteTreeRef.prototype.child=function(e){return new fb.core.WriteTreeRef(this.treePath_.child(e),this.writeTree_)},goog.provide("fb.core.util.Tree"),goog.require("fb.core.util"),goog.require("fb.core.util.Path"),goog.require("fb.util.obj"),goog.require("goog.object"),fb.core.util.TreeNode=goog.defineClass(null,{constructor:function(){this.children={},this.childCount=0,this.value=null}}),fb.core.util.Tree=goog.defineClass(null,{constructor:function(e,t,n){this.name_=e?e:"",this.parent_=t?t:null,this.node_=n?n:new fb.core.util.TreeNode},subTree:function(e){for(var t,n=e instanceof fb.core.util.Path?e:new fb.core.util.Path(e),r=this;null!==(t=n.getFront());){var o=fb.util.obj.get(r.node_.children,t)||new fb.core.util.TreeNode;r=new fb.core.util.Tree(t,r,o),n=n.popFront()}return r},getValue:function(){return this.node_.value},setValue:function(e){fb.core.util.assert("undefined"!=typeof e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},clear:function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},hasChildren:function(){return this.node_.childCount>0},isEmpty:function(){return null===this.getValue()&&!this.hasChildren()},forEachChild:function(e){var t=this;goog.object.forEach(this.node_.children,function(n,r){e(new fb.core.util.Tree(r,t,n))})},forEachDescendant:function(e,t,n){t&&!n&&e(this),this.forEachChild(function(t){t.forEachDescendant(e,!0,n)}),t&&n&&e(this)},forEachAncestor:function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},forEachImmediateDescendantWithValue:function(e){this.forEachChild(function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)})},path:function(){return new fb.core.util.Path(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},name:function(){return this.name_},parent:function(){return this.parent_},updateParents_:function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},updateChild_:function(e,t){var n=t.isEmpty(),r=fb.util.obj.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())}}),goog.provide("fb.core.util.validation"),goog.require("fb.core.util"),goog.require("fb.core.util.Path"),goog.require("fb.core.util.ValidationPath"),goog.require("fb.util.obj"),goog.require("fb.util.utf8"),goog.require("fb.util.validation"),fb.core.util.validation={INVALID_KEY_REGEX_:/[\[\].#$\/\u0000-\u001F\u007F]/,INVALID_PATH_REGEX_:/[\[\].#$\u0000-\u001F\u007F]/,VALID_AUTH_PROVIDER:/^[a-zA-Z][a-zA-Z._\-+]+$/,MAX_LEAF_SIZE_:10485760,isValidKey:function(e){return goog.isString(e)&&0!==e.length&&!fb.core.util.validation.INVALID_KEY_REGEX_.test(e)},isValidPathString:function(e){return goog.isString(e)&&0!==e.length&&!fb.core.util.validation.INVALID_PATH_REGEX_.test(e)},isValidRootPathString:function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),fb.core.util.validation.isValidPathString(e)},isValidPriority:function(e){return null===e||goog.isString(e)||goog.isNumber(e)&&!fb.core.util.isInvalidJSONNumber(e)||goog.isObject(e)&&fb.util.obj.contains(e,".sv")},validateFirebaseDataArg:function(e,t,n,r,o){(!o||goog.isDef(n))&&fb.core.util.validation.validateFirebaseData(fb.util.validation.errorPrefix(e,t,o),n,r)},validateFirebaseData:function(e,t,n){if(n instanceof fb.core.util.Path&&(n=new fb.core.util.ValidationPath(n,e)),!goog.isDef(t))throw new Error(e+"contains undefined "+n.toErrorString());if(goog.isFunction(t))throw new Error(e+"contains a function "+n.toErrorString()+" with contents: "+t.toString());if(fb.core.util.isInvalidJSONNumber(t))throw new Error(e+"contains "+t.toString()+" "+n.toErrorString());if(goog.isString(t)&&t.length>fb.core.util.validation.MAX_LEAF_SIZE_/3&&fb.util.utf8.stringLength(t)>fb.core.util.validation.MAX_LEAF_SIZE_)throw new Error(e+"contains a string greater than "+fb.core.util.validation.MAX_LEAF_SIZE_+" utf8 bytes "+n.toErrorString()+" ('"+t.substring(0,50)+"...')");if(goog.isObject(t)){var r=!1,o=!1;if(fb.util.obj.foreach(t,function(t,i){if(".value"===t)r=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!fb.core.util.validation.isValidKey(t)))throw new Error(e+" contains an invalid key ("+t+") "+n.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');n.push(t),fb.core.util.validation.validateFirebaseData(e,i,n),n.pop()}),r&&o)throw new Error(e+' contains ".value" child '+n.toErrorString()+" in addition to actual children.")}},validateFirebaseMergePaths:function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var o=r.slice(),i=0;i<o.length;i++)if(".priority"===o[i]&&i===o.length-1);else if(!fb.core.util.validation.isValidKey(o[i]))throw new Error(e+"contains an invalid key ("+o[i]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(fb.core.util.Path.comparePaths);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&a.contains(r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},validateFirebaseMergeDataArg:function(e,t,n,r,o){if(!o||goog.isDef(n)){var i=fb.util.validation.errorPrefix(e,t,o);if(!goog.isObject(n)||goog.isArray(n))throw new Error(i+" must be an object containing the children to replace.");var a=[];fb.util.obj.foreach(n,function(e,t){var n=new fb.core.util.Path(e);if(fb.core.util.validation.validateFirebaseData(i,t,r.child(n)),".priority"===n.getBack()&&!fb.core.util.validation.isValidPriority(t))throw new Error(i+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),fb.core.util.validation.validateFirebaseMergePaths(i,a)}},validatePriority:function(e,t,n,r){if(!r||goog.isDef(n)){if(fb.core.util.isInvalidJSONNumber(n))throw new Error(fb.util.validation.errorPrefix(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fb.core.util.validation.isValidPriority(n))throw new Error(fb.util.validation.errorPrefix(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},validateEventType:function(e,t,n,r){if(!r||goog.isDef(n))switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(fb.util.validation.errorPrefix(e,t,r)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},validateKey:function(e,t,n,r){if((!r||goog.isDef(n))&&!fb.core.util.validation.isValidKey(n))throw new Error(fb.util.validation.errorPrefix(e,t,r)+'was an invalid key: "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},validatePathString:function(e,t,n,r){if((!r||goog.isDef(n))&&!fb.core.util.validation.isValidPathString(n))throw new Error(fb.util.validation.errorPrefix(e,t,r)+'was an invalid path: "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},validateRootPathString:function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fb.core.util.validation.validatePathString(e,t,n,r)},validateWritablePath:function(e,t){if(".info"===t.getFront())throw new Error(e+" failed: Can't modify data under /.info/")},validateUrl:function(e,t,n){var r=n.path.toString();if(!goog.isString(n.repoInfo.host)||0===n.repoInfo.host.length||!fb.core.util.validation.isValidKey(n.repoInfo.namespace)||0!==r.length&&!fb.core.util.validation.isValidRootPathString(r))throw new Error(fb.util.validation.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},validateCredential:function(e,t,n,r){if((!r||goog.isDef(n))&&!goog.isString(n))throw new Error(fb.util.validation.errorPrefix(e,t,r)+"must be a valid credential (a string).")},validateBoolean:function(e,t,n,r){if((!r||goog.isDef(n))&&!goog.isBoolean(n))throw new Error(fb.util.validation.errorPrefix(e,t,r)+"must be a boolean.")},validateString:function(e,t,n,r){if((!r||goog.isDef(n))&&!goog.isString(n))throw new Error(fb.util.validation.errorPrefix(e,t,r)+"must be a valid string.")},validateAuthProvider:function(e,t,n,r){if((!r||goog.isDef(n))&&(fb.core.util.validation.validateString(e,t,n,r),!fb.core.util.validation.VALID_AUTH_PROVIDER.test(n)))throw new Error(fb.util.validation.errorPrefix(e,t,r)+"'"+n+"' is not a valid authentication provider.")},validateObject:function(e,t,n,r){if(!(r&&!goog.isDef(n)||goog.isObject(n)&&null!==n))throw new Error(fb.util.validation.errorPrefix(e,t,r)+"must be a valid object.")},validateObjectContainsKey:function(e,t,n,r,o,i){var a=goog.isObject(n)&&fb.util.obj.contains(n,r);if(!a){if(o)return;throw new Error(fb.util.validation.errorPrefix(e,t,o)+'must contain the key "'+r+'"')}if(i){var s=fb.util.obj.get(n,r);if("number"===i&&!goog.isNumber(s)||"string"===i&&!goog.isString(s)||"boolean"===i&&!goog.isBoolean(s)||"function"===i&&!goog.isFunction(s)||"object"===i&&!goog.isObject(s))throw new Error(o?fb.util.validation.errorPrefix(e,t,o)+'contains invalid value for key "'+r+'" (must be of type "'+i+'")':fb.util.validation.errorPrefix(e,t,o)+'must contain the key "'+r+'" with type "'+i+'"')}}},goog.provide("fb.core.util.CountedSet"),goog.require("fb.core.util"),goog.require("fb.util.obj"),goog.require("goog.object"),fb.core.util.CountedSet=goog.defineClass(null,{constructor:function(){this.set={}},add:function(e,t){this.set[e]=null!==t?t:!0},contains:function(e){return fb.util.obj.contains(this.set,e)},get:function(e){return this.contains(e)?this.set[e]:void 0},remove:function(e){delete this.set[e]},clear:function(){this.set={}},isEmpty:function(){return goog.object.isEmpty(this.set)},count:function(){return goog.object.getCount(this.set)},each:function(e){goog.object.forEach(this.set,function(t,n){e(n,t)})},keys:function(){var e=[];return goog.object.forEach(this.set,function(t,n){e.push(n)}),e}}),goog.provide("fb.core.SparseSnapshotTree"),goog.require("fb.core.snap.Node"),goog.require("fb.core.snap.PriorityIndex"),goog.require("fb.core.util.CountedSet"),goog.require("fb.core.util.Path"),fb.core.SparseSnapshotTree=function(){this.value_=null,this.children_=null},fb.core.SparseSnapshotTree.prototype.find=function(e){if(null!=this.value_)return this.value_.getChild(e);if(e.isEmpty()||null==this.children_)return null;var t=e.getFront();if(e=e.popFront(),this.children_.contains(t)){var n=this.children_.get(t);return n.find(e)}return null},fb.core.SparseSnapshotTree.prototype.remember=function(e,t){if(e.isEmpty())this.value_=t,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,t);else{null==this.children_&&(this.children_=new fb.core.util.CountedSet);var n=e.getFront();this.children_.contains(n)||this.children_.add(n,new fb.core.SparseSnapshotTree);var r=this.children_.get(n);e=e.popFront(),r.remember(e,t)}},fb.core.SparseSnapshotTree.prototype.forget=function(e){if(e.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var t=this.value_;this.value_=null;var n=this;return t.forEachChild(fb.core.snap.PriorityIndex,function(e,t){n.remember(new fb.core.util.Path(e),t)}),this.forget(e)}if(null!==this.children_){var r=e.getFront();if(e=e.popFront(),this.children_.contains(r)){var o=this.children_.get(r).forget(e);o&&this.children_.remove(r)}return this.children_.isEmpty()?(this.children_=null,!0):!1}return!0},fb.core.SparseSnapshotTree.prototype.forEachTree=function(e,t){null!==this.value_?t(e,this.value_):this.forEachChild(function(n,r){var o=new fb.core.util.Path(e.toString()+"/"+n);r.forEachTree(o,t)})},fb.core.SparseSnapshotTree.prototype.forEachChild=function(e){null!==this.children_&&this.children_.each(function(t,n){e(t,n)})},goog.provide("fb.login.Constants"),fb.login.Constants={SESSION_PERSISTENCE_KEY_PREFIX:"session",DEFAULT_SERVER_HOST:"auth.firebase.com",SERVER_HOST:"auth.firebase.com",API_VERSION:"v2",POPUP_PATH_TO_CHANNEL:"/auth/channel",POPUP_RELAY_FRAME_NAME:"__winchan_relay_frame",POPUP_CLOSE_CMD:"die",JSONP_CALLBACK_NAMESPACE:"__firebase_auth_jsonp",REDIR_REQUEST_ID_KEY:"redirect_request_id",REDIR_REQUEST_COMPLETION_KEY:"__firebase_request_key",REDIR_CLIENT_OPTIONS_KEY:"redirect_client_options",INTERNAL_REDIRECT_SENTINAL_PATH:"/blank/page.html",CLIENT_OPTION_SESSION_PERSISTENCE:"remember",CLIENT_OPTION_REDIRECT_TO:"redirectTo"},goog.provide("fb.login.RequestInfo"),goog.require("fb.login.Constants"),fb.login.RequestInfo=function(e,t,n){this.clientOptions=e||{},this.transportOptions=t||{},this.serverParams=n||{},this.clientOptions[fb.login.Constants.CLIENT_OPTION_SESSION_PERSISTENCE]||(this.clientOptions[fb.login.Constants.CLIENT_OPTION_SESSION_PERSISTENCE]="default")},fb.login.RequestInfo.CLIENT_OPTIONS=[fb.login.Constants.CLIENT_OPTION_SESSION_PERSISTENCE,fb.login.Constants.CLIENT_OPTION_REDIRECT_TO],fb.login.RequestInfo.fromParams=function(e){var t={},n={};return fb.util.obj.foreach(e||{},function(e,r){goog.array.contains(fb.login.RequestInfo.CLIENT_OPTIONS,e)?t[e]=r:n[e]=r}),new fb.login.RequestInfo(t,{},n)},goog.provide("fb.login.SessionManager"),goog.require("fb.core.storage"),goog.require("fb.login.Constants"),goog.require("fb.util.json"),goog.require("fb.util.jwt"),fb.login.SessionManager=function(e,t){this.persistenceKey_=[fb.login.Constants.SESSION_PERSISTENCE_KEY_PREFIX,e.persistenceKey,e.namespace].join(":"),this.stores_=t},fb.login.SessionManager.prototype.set=function(e,t){if(!t){if(!this.stores_.length)throw new Error("fb.login.SessionManager : No storage options available!");t=this.stores_[0]}t.set(this.persistenceKey_,e)},fb.login.SessionManager.prototype.get=function(){var e=goog.array.map(this.stores_,goog.bind(this.getFromStore_,this));return e=goog.array.filter(e,function(e){return null!==e}),goog.array.sort(e,function(e,t){return fb.util.jwt.issuedAtTime(t.token)-fb.util.jwt.issuedAtTime(e.token)}),e.length>0?e.shift():null},fb.login.SessionManager.prototype.getFromStore_=function(e){try{var t=e.get(this.persistenceKey_);if(t&&t.token)return t}catch(n){}return null},fb.login.SessionManager.prototype.clear=function(e){var t=(e?[e]:this.stores_,this);goog.array.forEach(this.stores_,function(e){e.remove(t.persistenceKey_)})},goog.provide("fb.login.util.environment"),fb.login.util.environment.getUA=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},fb.login.util.environment.isMobileWrapper=function(){return fb.login.util.environment.isMobileCordova()||fb.login.util.environment.isMobileWindows()||fb.login.util.environment.isIosWebview()},fb.login.util.environment.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fb.login.util.environment.getUA())},fb.login.util.environment.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},fb.login.util.environment.isMobileWindows=function(){return"undefined"!=typeof navigator&&(!!fb.login.util.environment.getUA().match(/Windows Phone/)||!!window.Windows&&/^ms-appx:/.test(location.href))},fb.login.util.environment.isMobileFirefox=function(){var e=fb.login.util.environment.getUA();return-1!==e.indexOf("Fennec/")||-1!==e.indexOf("Firefox/")&&-1!==e.indexOf("Android")},fb.login.util.environment.isIosWebview=function(){var e=fb.login.util.environment.getUA();return"undefined"!=typeof navigator&&"undefined"!=typeof window&&!!(e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||e.match(/CriOS/)||e.match(/Twitter for iPhone/)||e.match(/FBAN\/FBIOS/)||window.navigator.standalone)},fb.login.util.environment.isHeadlessBrowser=function(){return!!fb.login.util.environment.getUA().match(/PhantomJS/)},fb.login.util.environment.isLocalFile=function(){return"undefined"!=typeof location&&/^file:\//.test(location.href)},fb.login.util.environment.isIE=function(){var e=fb.login.util.environment.getUA();return!(!e.match(/MSIE/)&&!e.match(/Trident/))},fb.login.util.environment.isIEVersionAtLeast=function(e){var t,n=fb.login.util.environment.getUA();if(""===n)return!1;if("Microsoft Internet Explorer"===navigator.appName){if(t=n.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/),t&&t.length>1)return parseFloat(t[1])>=e}else if(n.indexOf("Trident")>-1&&(t=n.match(/rv:([0-9]{2,2}[\.0-9]{0,})/),t&&t.length>1))return parseFloat(t[1])>=e;return!1},goog.provide("fb.login.transports.util"),goog.require("fb.login.Constants"),goog.require("fb.util"),fb.login.transports.util.findRelay=function(){var e,t=(window.location,window.opener.frames);for(e=t.length-1;e>=0;e--)try{if(t[e].location.protocol===window.location.protocol&&t[e].location.host===window.location.host&&t[e].name===fb.login.Constants.POPUP_RELAY_FRAME_NAME)return t[e]}catch(n){}return null},fb.login.transports.util.addListener=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,!1)},fb.login.transports.util.removeListener=function(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener&&e.removeEventListener(t,n,!1)},fb.login.transports.util.extractOrigin=function(e){/^https?:\/\//.test(e)||(e=window.location.href);var t=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(e);return t?t[1]:e},fb.login.transports.util.extractRedirectCompletionHash=function(e){var t="";try{e=e.replace(/.*\?/,"");var n=fb.util.querystringDecode(e);n&&fb.util.obj.contains(n,fb.login.Constants.REDIR_REQUEST_COMPLETION_KEY)&&(t=fb.util.obj.get(n,fb.login.Constants.REDIR_REQUEST_COMPLETION_KEY))}catch(r){}return t},fb.login.transports.util.replaceRedirectCompletionHash=function(){try{var e=new RegExp("&"+fb.login.Constants.REDIR_REQUEST_COMPLETION_KEY+"=([a-zA-z0-9]*)"),t=document.location.hash.replace(e,"");t=t.replace(/\?$/,""),t=t.replace(/^#+$/,""),document.location.hash=t
}catch(n){}},fb.login.transports.util.getBaseUrl=function(){var e=fb.core.util.parseURL(fb.login.Constants.SERVER_HOST);return e.scheme+"://"+e.host+"/"+fb.login.Constants.API_VERSION},fb.login.transports.util.getPopupChannelUrl=function(e){return fb.login.transports.util.getBaseUrl()+"/"+e+fb.login.Constants.POPUP_PATH_TO_CHANNEL},goog.provide("fb.login.Transport"),fb.login.Transport=function(){},fb.login.Transport.isAvailable=function(){},fb.login.Transport.prototype.open=function(){},fb.login.Transport.prototype.classification=function(){},goog.provide("fb.login.transports.PopupReceiver"),goog.require("fb.login.Constants"),goog.require("fb.login.Transport"),goog.require("fb.login.transports.util"),goog.require("fb.login.util.environment"),goog.require("fb.util.json"),fb.login.transports.PopupReceiver=function(e){var t=this;if(this.cb=e,this.targetOrigin="*",fb.login.util.environment.isIEVersionAtLeast(8)?this.messageTarget=this.inboundTarget=fb.login.transports.util.findRelay():(this.messageTarget=window.opener,this.inboundTarget=window),!t.messageTarget)throw"Unable to find relay frame";fb.login.transports.util.addListener(this.inboundTarget,"message",goog.bind(this.onMessage_,this)),fb.login.transports.util.addListener(this.inboundTarget,"message",goog.bind(this.onDie_,this));try{this.doPost_({a:"ready"})}catch(n){fb.login.transports.util.addListener(this.messageTarget,"load",function(){t.doPost_({a:"ready"})})}fb.login.transports.util.addListener(window,"unload",goog.bind(this.onUnload_,this))},fb.login.transports.PopupReceiver.prototype.doPost_=function(e){e=fb.util.json.stringify(e),fb.login.util.environment.isIEVersionAtLeast(8)?this.messageTarget.doPost(e,this.targetOrigin):this.messageTarget.postMessage(e,this.targetOrigin)},fb.login.transports.PopupReceiver.prototype.onMessage_=function(e){var t,n=this;try{t=fb.util.json.eval(e.data)}catch(r){}t&&"request"===t.a&&(fb.login.transports.util.removeListener(window,"message",this.onMessage_),this.targetOrigin=e.origin,this.cb&&setTimeout(function(){n.cb(n.targetOrigin,t.d,function(e,t){n.autoClose=!t,n.cb=void 0,n.doPost_({a:"response",d:e,forceKeepWindowOpen:t})})},0))},fb.login.transports.PopupReceiver.prototype.onUnload_=function(){try{fb.login.transports.util.removeListener(this.inboundTarget,"message",this.onDie_)}catch(e){}this.cb&&(this.doPost_({a:"error",d:"unknown closed window"}),this.cb=void 0);try{window.close()}catch(e){}},fb.login.transports.PopupReceiver.prototype.onDie_=function(e){if(this.autoClose&&e.data===fb.login.Constants.POPUP_CLOSE_CMD)try{window.close()}catch(t){}},goog.provide("fb.login.transports.Redirect"),goog.require("fb.constants"),goog.require("fb.core.storage"),goog.require("fb.login.Transport"),goog.require("fb.login.transports.util"),goog.require("fb.util"),fb.login.transports.Redirect=function(e){this.requestId_=goog.string.getRandomString()+goog.string.getRandomString()+goog.string.getRandomString(),this.options_=e},fb.login.transports.Redirect.prototype.open=function(e,t){fb.core.storage.SessionStorage.set(fb.login.Constants.REDIR_REQUEST_ID_KEY,this.requestId_),fb.core.storage.SessionStorage.set(fb.login.Constants.REDIR_REQUEST_ID_KEY,this.requestId_),t.requestId=this.requestId_,t.redirectTo=t.redirectTo||window.location.href,e+=(/\?/.test(e)?"":"?")+fb.util.querystring(t),window.location=e},fb.login.transports.Redirect.isAvailable=function(){return!NODE_CLIENT&&!fb.login.util.environment.isLocalFile()&&!fb.login.util.environment.isMobileCordova()},fb.login.transports.Redirect.prototype.classification=function(){return"redirect"},goog.provide("fb.login.Errors");var errors={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};fb.login.Errors.get=function(e){var t=fb.util.obj.get(errors,e),n=new Error(t,e);return n.code=e,n},goog.provide("fb.login.transports.Popup"),goog.require("fb.core.util"),goog.require("fb.login.Constants"),goog.require("fb.login.Errors"),goog.require("fb.login.Transport"),goog.require("fb.login.transports.util"),goog.require("fb.login.util.environment"),goog.require("fb.util"),goog.require("fb.util.json"),fb.login.transports.Popup=function(e){(!e.window_features||fb.login.util.environment.isMobileFirefox())&&(e.window_features=void 0),e.window_name||(e.window_name="_blank"),this.options=e},fb.login.transports.Popup.prototype.open=function(e,t,n){function r(e){if(i&&(document.body.removeChild(i),i=void 0),d&&(d=clearInterval(d)),fb.login.transports.util.removeListener(window,"message",o),fb.login.transports.util.removeListener(window,"unload",r),u&&!e)try{u.close()}catch(t){a.postMessage(fb.login.Constants.POPUP_CLOSE_CMD,c)}u=a=void 0}function o(e){if(e.origin===c)try{var t=fb.util.json.eval(e.data);"ready"===t.a?a.postMessage(f,c):"error"===t.a?(r(!1),n&&(n(t.d),n=null)):"response"===t.a&&(r(t.forceKeepWindowOpen),n&&(n(null,t.d),n=null))}catch(o){}}var i,a,s=this,l=fb.login.util.environment.isIEVersionAtLeast(8);if(!this.options.relay_url)return n(new Error("invalid arguments: origin of url and relay_url must match"));var c=fb.login.transports.util.extractOrigin(e);if(c!==fb.login.transports.util.extractOrigin(s.options.relay_url))return void(n&&setTimeout(function(){n(new Error("invalid arguments: origin of url and relay_url must match"))},0));l&&(i=document.createElement("iframe"),i.setAttribute("src",s.options.relay_url),i.style.display="none",i.setAttribute("name",fb.login.Constants.POPUP_RELAY_FRAME_NAME),document.body.appendChild(i),a=i.contentWindow),e+=(/\?/.test(e)?"":"?")+fb.util.querystring(t);var u=window.open(e,s.options.window_name,s.options.window_features);a||(a=u);var d=setInterval(function(){return u&&u.closed?(r(!1),void(n&&(n(fb.login.Errors.get("USER_CANCELLED")),n=null))):void 0},500),f=fb.util.json.stringify({a:"request",d:t});fb.login.transports.util.addListener(window,"unload",r),fb.login.transports.util.addListener(window,"message",o)},fb.login.transports.Popup.isAvailable=function(){return!NODE_CLIENT&&"postMessage"in window&&!fb.login.util.environment.isLocalFile()&&!fb.login.util.environment.isMobileWrapper()&&!fb.login.util.environment.isHeadlessBrowser()},fb.login.transports.Popup.prototype.classification=function(){return"popup"},goog.provide("fb.login.transports.NodeHttp"),goog.require("fb.login.Constants"),goog.require("fb.login.Errors"),goog.require("fb.login.Transport"),goog.require("fb.login.transports.util"),goog.require("fb.login.util.environment"),goog.require("fb.util"),goog.require("fb.util.json"),fb.login.transports.NodeHttp=function(e){e.method||(e.method="GET"),e.headers||(e.headers={}),e.headers.content_type||(e.headers.content_type="application/json"),e.headers.content_type=e.headers.content_type.toLowerCase(),this.options=e},fb.login.transports.NodeHttp.prototype.open=function(e,t,n){var r,o=fb.core.util.parseURL(e),i=require("http"===o.scheme?"http":"https"),a=this.options.method,s={Accept:"application/json;text/plain"};goog.object.extend(s,this.options.headers);var l={host:o.host.split(":")[0],port:o.port,path:o.pathString,method:this.options.method.toUpperCase()};if("GET"===a)l.path+=(/\?/.test(l.path)?"":"?")+fb.util.querystring(t),r=null;else{var c=this.options.headers.content_type;"application/json"===c&&(r=fb.util.json.stringify(t)),"application/x-www-form-urlencoded"===c&&(r=fb.util.querystring(t)),s["Content-Length"]=Buffer.byteLength(r,"utf8")}l.headers=s;var u=i.request(l,function(e){var t="";e.setEncoding("utf8"),e.on("data",function(e){t+=e}),e.on("end",function(){try{t=fb.util.json.eval(t+"")}catch(e){}n&&(n(null,t),n=null)})});"GET"!==a&&u.write(r),u.on("error",function(e){n(e&&e.code&&("ENOTFOUND"===e.code||"ENETDOWN"===e.code)?fb.login.Errors.get("NETWORK_ERROR"):fb.login.Errors.get("SERVER_ERROR")),n=null}),u.end()},fb.login.transports.NodeHttp.isAvailable=function(){return NODE_CLIENT},fb.login.transports.NodeHttp.prototype.classification=function(){return"json"},goog.provide("fb.login.transports.XHR"),goog.require("fb.login.Constants"),goog.require("fb.login.Errors"),goog.require("fb.login.Transport"),goog.require("fb.login.transports.util"),goog.require("fb.login.util.environment"),goog.require("fb.util"),goog.require("fb.util.json"),fb.login.transports.XHR=function(e){e.method||(e.method="GET"),e.headers||(e.headers={}),e.headers.content_type||(e.headers.content_type="application/json"),e.headers.content_type=e.headers.content_type.toLowerCase(),this.options=e},fb.login.transports.XHR.prototype.open=function(e,t,n){function r(){n&&(n(fb.login.Errors.get("REQUEST_INTERRUPTED")),n=null)}var o,i=new XMLHttpRequest,a=this.options.method.toUpperCase();if(fb.login.transports.util.addListener(window,"beforeunload",r),i.onreadystatechange=function(){if(n&&4===i.readyState){var e;if(i.status>=200&&i.status<300){try{e=fb.util.json.eval(i.responseText)}catch(t){}n(null,e)}else n(i.status>=500&&i.status<600?fb.login.Errors.get("SERVER_ERROR"):fb.login.Errors.get("NETWORK_ERROR"));n=null,fb.login.transports.util.removeListener(window,"beforeunload",r)}},"GET"===a)e+=(/\?/.test(e)?"":"?")+fb.util.querystring(t),o=null;else{var s=this.options.headers.content_type;"application/json"===s&&(o=fb.util.json.stringify(t)),"application/x-www-form-urlencoded"===s&&(o=fb.util.querystring(t))}i.open(a,e,!0);var l={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"};goog.object.extend(l,this.options.headers);for(var c in l)i.setRequestHeader(c,l[c]);i.send(o)},fb.login.transports.XHR.isAvailable=function(){return!(NODE_CLIENT||!window.XMLHttpRequest||fb.login.util.environment.isIE()&&!fb.login.util.environment.isIEVersionAtLeast(10))},fb.login.transports.XHR.prototype.classification=function(){return"json"},goog.provide("fb.login.transports.CordovaInAppBrowser"),goog.require("fb.core.util"),goog.require("fb.login.Constants"),goog.require("fb.login.Errors"),goog.require("fb.login.RequestInfo"),goog.require("fb.login.Transport"),goog.require("fb.login.transports.XHR"),goog.require("fb.login.transports.util"),goog.require("fb.login.util.environment"),goog.require("fb.util"),goog.require("fb.util.json"),fb.login.transports.CordovaInAppBrowser=function(e){this.requestId_=goog.string.getRandomString()+goog.string.getRandomString()+goog.string.getRandomString(),this.options_=e},fb.login.transports.CordovaInAppBrowser.prototype.open=function(e,t,n){function r(e){try{var t=document.createElement("a");return t.href=e,t.host===s.host&&t.pathname===fb.login.Constants.INTERNAL_REDIRECT_SENTINAL_PATH}catch(n){}return!1}function o(){n&&(n(fb.login.Errors.get("USER_CANCELLED")),n=null)}var i,a=this,s=fb.core.util.parseURL(fb.login.Constants.SERVER_HOST);return t.requestId=this.requestId_,t[fb.login.Constants.CLIENT_OPTION_REDIRECT_TO]=s.scheme+"://"+s.host+fb.login.Constants.INTERNAL_REDIRECT_SENTINAL_PATH,e+=/\?/.test(e)?"":"?",e+=fb.util.querystring(t),i=window.open(e,"_blank","location=no"),i&&goog.isFunction(i.addEventListener)?(i.addEventListener("loadstart",function(e){if(e&&e.url&&r(e.url)){var t=fb.login.transports.util.extractRedirectCompletionHash(e.url);i.removeEventListener("exit",o),i.close();var s="/auth/session",l=new fb.login.RequestInfo(null,null,{requestId:a.requestId_,requestKey:t});a.options_.requestWithCredential(s,l,n),n=null}}),void i.addEventListener("exit",o)):void n(fb.login.Errors.get("TRANSPORT_UNAVAILABLE"))},fb.login.transports.CordovaInAppBrowser.isAvailable=function(){return!NODE_CLIENT&&fb.login.util.environment.isMobileCordova()},fb.login.transports.CordovaInAppBrowser.prototype.classification=function(){return"redirect"},goog.provide("fb.login.transports.JSONP"),goog.require("fb.login.Constants"),goog.require("fb.login.Errors"),goog.require("fb.login.Transport"),goog.require("fb.login.transports.util"),goog.require("fb.util"),goog.require("fb.util.json"),fb.login.transports.JSONP=function(e){e.callback_parameter||(e.callback_parameter="callback"),this.options=e,window[fb.login.Constants.JSONP_CALLBACK_NAMESPACE]=window[fb.login.Constants.JSONP_CALLBACK_NAMESPACE]||{}},fb.login.transports.JSONP.prototype.open=function(e,t,n){function r(){n&&(n(fb.login.Errors.get("REQUEST_INTERRUPTED")),n=null)}function o(){setTimeout(function(){window[fb.login.Constants.JSONP_CALLBACK_NAMESPACE][a]=void 0,goog.object.isEmpty(window[fb.login.Constants.JSONP_CALLBACK_NAMESPACE])&&(window[fb.login.Constants.JSONP_CALLBACK_NAMESPACE]=void 0);try{var e=document.getElementById(a);e&&e.parentNode.removeChild(e)}catch(t){}},1),fb.login.transports.util.removeListener(window,"beforeunload",r)}function i(e){n&&(n(null,e),n=null),o()}var a="fn"+(new Date).getTime()+Math.floor(99999*Math.random());t[this.options.callback_parameter]=fb.login.Constants.JSONP_CALLBACK_NAMESPACE+"."+a,e+=(/\?/.test(e)?"":"?")+fb.util.querystring(t),fb.login.transports.util.addListener(window,"beforeunload",r),window[fb.login.Constants.JSONP_CALLBACK_NAMESPACE][a]=i,this.writeScriptTag_(a,e,n)},fb.login.transports.JSONP.prototype.writeScriptTag_=function(e,t,n){setTimeout(function(){try{var r=document.createElement("script");r.type="text/javascript",r.id=e,r.async=!0,r.src=t,r.onerror=function(){var t=document.getElementById(e);null!==t&&t.parentNode.removeChild(t),n&&n(fb.login.Errors.get("NETWORK_ERROR"))};var o,i=document.getElementsByTagName("head");o=!i||goog.array.isEmpty(i)?document.documentElement:i[0],o.appendChild(r)}catch(a){n&&n(fb.login.Errors.get("NETWORK_ERROR"))}},0)},fb.login.transports.JSONP.isAvailable=function(){return"undefined"!=typeof document&&goog.isDefAndNotNull(document.createElement)},fb.login.transports.JSONP.prototype.classification=function(){return"json"},goog.provide("fb.login.AuthenticationManager"),goog.require("fb.constants"),goog.require("fb.core.storage"),goog.require("fb.core.util"),goog.require("fb.core.util.EventEmitter"),goog.require("fb.login.Constants"),goog.require("fb.login.Errors"),goog.require("fb.login.RequestInfo"),goog.require("fb.login.SessionManager"),goog.require("fb.login.transports.CordovaInAppBrowser"),goog.require("fb.login.transports.JSONP"),goog.require("fb.login.transports.NodeHttp"),goog.require("fb.login.transports.Popup"),goog.require("fb.login.transports.Redirect"),goog.require("fb.login.transports.XHR"),fb.login.AuthenticationManager=function(e,t,n,r){fb.core.util.EventEmitter.call(this,["auth_status"]),this.repoInfo_=e,this.authConn_=t,this.unauthConn_=n,this.onAuthStatus_=r,this.sessionManager_=new fb.login.SessionManager(e,[fb.core.storage.PersistentStorage,fb.core.storage.SessionStorage]),this.authData_=null,this.redirectRestart_=!1,this.resumeSession()},goog.inherits(fb.login.AuthenticationManager,fb.core.util.EventEmitter),fb.login.AuthenticationManager.prototype.getAuth=function(){return this.authData_||null},fb.login.AuthenticationManager.prototype.resumeSession=function(){var e=fb.core.storage.SessionStorage.get(fb.login.Constants.REDIR_REQUEST_ID_KEY),t=this;e&&this.finishOAuthRedirectLogin_();var n=this.sessionManager_.get();n&&n.token?(this.updateAuthStatus_(n),this.authConn_(n.token,function(e,r){t.authOnComplete_(e,r,!1,n.token,n)},function(e,n){t.authOnCancel_("resumeSession()",e,n)})):this.updateAuthStatus_(null)},fb.login.AuthenticationManager.prototype.authenticate=function(e,t,n,r,o){this.repoInfo_.isDemoHost()&&fb.core.util.warn("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com.");var i=this;this.authConn_(e,function(o,a){i.authOnComplete_(o,a,!0,e,t,n||{},r)},function(e,t){i.authOnCancel_("auth()",e,t,o)})},fb.login.AuthenticationManager.prototype.unauthenticate=function(e){var t=this;this.sessionManager_.clear(),t.updateAuthStatus_(null),this.unauthConn_(function(t,n){if("ok"===t)fb.core.util.callUserCallback(e,null);else{var r=(t||"error").toUpperCase(),o=r;n&&(o+=": "+n);var i=new Error(o);i.code=r,fb.core.util.callUserCallback(e,i)}})},fb.login.AuthenticationManager.prototype.authOnComplete_=function(e,t,n,r,o,i,a){if("ok"===e){if(n){var s=t.auth;o.auth=s,o.expires=t.expires,o.token=fb.util.jwt.isValidFormat(r)?r:"";var l=null;s&&fb.util.obj.contains(s,"uid")?l=fb.util.obj.get(s,"uid"):fb.util.obj.contains(o,"uid")&&(l=fb.util.obj.get(o,"uid")),o.uid=l;var c="custom";if(s&&fb.util.obj.contains(s,"provider")?c=fb.util.obj.get(s,"provider"):fb.util.obj.contains(o,"provider")&&(c=fb.util.obj.get(o,"provider")),o.provider=c,this.sessionManager_.clear(),fb.util.jwt.isValidFormat(r)){i=i||{};var u=fb.core.storage.PersistentStorage;"sessionOnly"===i[fb.login.Constants.CLIENT_OPTION_SESSION_PERSISTENCE]&&(u=fb.core.storage.SessionStorage),"none"!==i[fb.login.Constants.CLIENT_OPTION_SESSION_PERSISTENCE]&&this.sessionManager_.set(o,u)}this.updateAuthStatus_(o)}return void fb.core.util.callUserCallback(a,null,o)}this.handleBadAuthStatus_();var d=(e||"error").toUpperCase(),f=d;t&&(f+=": "+t);var p=new Error(f);p.code=d,fb.core.util.callUserCallback(a,p)},fb.login.AuthenticationManager.prototype.authOnCancel_=function(e,t,n,r){fb.core.util.warn(e+" was canceled: "+n),this.handleBadAuthStatus_();var o=new Error(n);o.code=t.toUpperCase(),fb.core.util.callUserCallback(r,o)},fb.login.AuthenticationManager.prototype.handleBadAuthStatus_=function(){this.sessionManager_.clear(),this.updateAuthStatus_(null)},fb.login.AuthenticationManager.prototype.authWithCredential=function(e,t,n,r){this.checkServerSettingsOrThrow();var o,i=new fb.login.RequestInfo(n||{},{},t||{});o=NODE_CLIENT?[fb.login.transports.NodeHttp]:[fb.login.transports.XHR,fb.login.transports.JSONP],this.authWithTransports_(o,"/auth/"+e,i,r)},fb.login.AuthenticationManager.prototype.authWithPopup=function(e,t,n){this.checkServerSettingsOrThrow();var r=[fb.login.transports.Popup,fb.login.transports.CordovaInAppBrowser],o=fb.login.RequestInfo.fromParams(t),i=625,a=625;return"anonymous"===e||"password"===e?void setTimeout(function(){fb.core.util.callUserCallback(n,fb.login.Errors.get("TRANSPORT_UNAVAILABLE"))},0):(o.transportOptions.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height="+a+",width="+i+",top="+("object"==typeof screen?.5*(screen.height-a):0)+",left="+("object"==typeof screen?.5*(screen.width-i):0),o.transportOptions.relay_url=fb.login.transports.util.getPopupChannelUrl(this.repoInfo_.namespace),o.transportOptions.requestWithCredential=goog.bind(this.requestWithCredential,this),void this.authWithTransports_(r,"/auth/"+e,o,n))},fb.login.AuthenticationManager.prototype.authWithRedirect=function(e,t,n){this.checkServerSettingsOrThrow();var r=[fb.login.transports.Redirect],o=fb.login.RequestInfo.fromParams(t);return"anonymous"===e||"firebase"===e?void fb.core.util.callUserCallback(n,fb.login.Errors.get("TRANSPORT_UNAVAILABLE")):(fb.core.storage.SessionStorage.set(fb.login.Constants.REDIR_CLIENT_OPTIONS_KEY,o.clientOptions),void this.authWithTransports_(r,"/auth/"+e,o,n))},fb.login.AuthenticationManager.prototype.finishOAuthRedirectLogin_=function(){var e=fb.core.storage.SessionStorage.get(fb.login.Constants.REDIR_REQUEST_ID_KEY);if(e){var t=fb.core.storage.SessionStorage.get(fb.login.Constants.REDIR_CLIENT_OPTIONS_KEY);fb.core.storage.SessionStorage.remove(fb.login.Constants.REDIR_REQUEST_ID_KEY),fb.core.storage.SessionStorage.remove(fb.login.Constants.REDIR_CLIENT_OPTIONS_KEY);var n=[fb.login.transports.XHR,fb.login.transports.JSONP],r={requestId:e,requestKey:fb.login.transports.util.extractRedirectCompletionHash(document.location.hash)},o={},i=new fb.login.RequestInfo(t,o,r);this.redirectRestart_=!0,fb.login.transports.util.replaceRedirectCompletionHash(),this.authWithTransports_(n,"/auth/session",i,function(){this.redirectRestart_=!1}.bind(this))}},fb.login.AuthenticationManager.prototype.createUser=function(e,t){this.checkServerSettingsOrThrow();var n="/users",r=fb.login.RequestInfo.fromParams(e);r.serverParams._method="POST",this.requestWithCredential(n,r,function(e,n){e?fb.core.util.callUserCallback(t,e):fb.core.util.callUserCallback(t,e,n)})},fb.login.AuthenticationManager.prototype.removeUser=function(e,t){var n=this;this.checkServerSettingsOrThrow();var r="/users/"+encodeURIComponent(e.email),o=fb.login.RequestInfo.fromParams(e);o.serverParams._method="DELETE",this.requestWithCredential(r,o,function(e,r){!e&&r&&r.uid&&n.authData_&&n.authData_.uid&&n.authData_.uid===r.uid&&n.unauthenticate(),fb.core.util.callUserCallback(t,e)})},fb.login.AuthenticationManager.prototype.changePassword=function(e,t){this.checkServerSettingsOrThrow();var n="/users/"+encodeURIComponent(e.email)+"/password",r=fb.login.RequestInfo.fromParams(e);r.serverParams._method="PUT",r.serverParams.password=e.newPassword,this.requestWithCredential(n,r,function(e){fb.core.util.callUserCallback(t,e)})},fb.login.AuthenticationManager.prototype.changeEmail=function(e,t){this.checkServerSettingsOrThrow();var n="/users/"+encodeURIComponent(e.oldEmail)+"/email",r=fb.login.RequestInfo.fromParams(e);r.serverParams._method="PUT",r.serverParams.email=e.newEmail,r.serverParams.password=e.password,this.requestWithCredential(n,r,function(e){fb.core.util.callUserCallback(t,e)})},fb.login.AuthenticationManager.prototype.resetPassword=function(e,t){this.checkServerSettingsOrThrow();var n="/users/"+encodeURIComponent(e.email)+"/password",r=fb.login.RequestInfo.fromParams(e);r.serverParams._method="POST",this.requestWithCredential(n,r,function(e){fb.core.util.callUserCallback(t,e)})},fb.login.AuthenticationManager.prototype.requestWithCredential=function(e,t,n){var r;r=NODE_CLIENT?[fb.login.transports.NodeHttp]:[fb.login.transports.XHR,fb.login.transports.JSONP],this.requestWithTransports_(r,e,t,n)},fb.login.AuthenticationManager.prototype.authWithTransports_=function(e,t,n,r){var o=this;this.requestWithTransports_(e,t,n,function(e,t){e||!(t&&t.token&&t.uid)?fb.core.util.callUserCallback(r,e||fb.login.Errors.get("UNKNOWN_ERROR")):(t=t,o.authenticate(t.token,t,n.clientOptions,function(e,t){e?fb.core.util.callUserCallback(r,e):fb.core.util.callUserCallback(r,null,t)}))})},fb.login.AuthenticationManager.prototype.requestWithTransports_=function(e,t,n,r){var o=goog.array.filter(e,function(e){return"function"==typeof e.isAvailable&&e.isAvailable()});if(0===o.length)return void setTimeout(function(){fb.core.util.callUserCallback(r,fb.login.Errors.get("TRANSPORT_UNAVAILABLE"))},0);var i=o.shift(),a=new i(n.transportOptions),s=fb.util.obj.clone(n.serverParams);s.v=this.versionString(),s.transport=a.classification(),s.suppress_status_codes=!0;var l=fb.login.transports.util.getBaseUrl()+"/"+this.repoInfo_.namespace+t;a.open(l,s,function(e,t){if(e)fb.core.util.callUserCallback(r,e);else if(t&&t.error){var n=new Error(t.error.message);n.code=t.error.code,n.details=t.error.details,fb.core.util.callUserCallback(r,n)}else fb.core.util.callUserCallback(r,null,t)})},fb.login.AuthenticationManager.prototype.updateAuthStatus_=function(e){var t=null!==this.authData_||null!==e;this.authData_=e,t&&this.trigger("auth_status",e),this.onAuthStatus_(null!==e)},fb.login.AuthenticationManager.prototype.getInitialEvent=function(e){return fb.core.util.assert("auth_status"===e,'initial event must be of type "auth_status"'),this.redirectRestart_?null:[this.authData_]},fb.login.AuthenticationManager.prototype.versionString=function(){return(NODE_CLIENT?"node-":"js-")+CLIENT_VERSION},fb.login.AuthenticationManager.prototype.checkServerSettingsOrThrow=function(){if(this.repoInfo_.isCustomHost()&&fb.login.Constants.SERVER_HOST===fb.login.Constants.DEFAULT_SERVER_HOST)throw new Error("This custom Firebase server ('"+this.repoInfo_.domain+"') does not support delegated login.")},goog.provide("fb.realtime.Transport"),goog.require("fb.core.RepoInfo"),fb.realtime.Transport=function(){},fb.realtime.Transport.prototype.open=function(){},fb.realtime.Transport.prototype.start=function(){},fb.realtime.Transport.prototype.close=function(){},fb.realtime.Transport.prototype.send=function(){},fb.realtime.Transport.prototype.bytesReceived,fb.realtime.Transport.prototype.bytesSent,goog.provide("fb.realtime.Constants"),fb.realtime.Constants={PROTOCOL_VERSION:"5",VERSION_PARAM:"v",TRANSPORT_SESSION_PARAM:"s",REFERER_PARAM:"r",FORGE_REF:"f",FORGE_DOMAIN:"firebaseio.com",LAST_SESSION_PARAM:"ls",WEBSOCKET:"websocket",LONG_POLLING:"long_polling"},goog.provide("fb.realtime.polling.PacketReceiver"),fb.realtime.polling.PacketReceiver=function(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null},fb.realtime.polling.PacketReceiver.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},fb.realtime.polling.PacketReceiver.prototype.handleResponse=function(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){var n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(var r=0;r<n.length;++r)if(n[r]){var o=this;fb.core.util.exceptionGuard(function(){o.onMessage_(n[r])})}if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(clearTimeout(this.onClose),this.onClose(),this.onClose=null);break}this.currentResponseNum++}},goog.provide("fb.realtime.BrowserPollConnection"),goog.require("fb.constants"),goog.require("fb.core.stats.StatsManager"),goog.require("fb.core.util"),goog.require("fb.core.util.CountedSet"),goog.require("fb.realtime.Constants"),goog.require("fb.realtime.Transport"),goog.require("fb.realtime.polling.PacketReceiver"),goog.require("fb.util.json");var FIREBASE_LONGPOLL_START_PARAM="start",FIREBASE_LONGPOLL_CLOSE_COMMAND="close",FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",FIREBASE_LONGPOLL_ID_PARAM="id",FIREBASE_LONGPOLL_PW_PARAM="pw",FIREBASE_LONGPOLL_SERIAL_PARAM="ser",FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",FIREBASE_LONGPOLL_DATA_PARAM="d",FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM="disconn",FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe",MAX_URL_DATA_SIZE=1870,SEG_HEADER_SIZE=30,MAX_PAYLOAD_SIZE=MAX_URL_DATA_SIZE-SEG_HEADER_SIZE,KEEPALIVE_REQUEST_INTERVAL=25e3,LP_CONNECT_TIMEOUT=3e4;fb.realtime.BrowserPollConnection=function(e,t,n,r){this.connId=e,this.log_=fb.core.util.logWrapper(e),this.repoInfo=t,this.bytesSent=0,this.bytesReceived=0,this.stats_=fb.core.stats.StatsManager.getCollection(t),this.transportSessionId=n,this.everConnected_=!1,this.lastSessionId=r,this.urlFn=function(e){return t.connectionURL(fb.realtime.Constants.LONG_POLLING,e)}},fb.realtime.BrowserPollConnection.prototype.open=function(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new fb.realtime.polling.PacketReceiver(e),this.isClosed_=!1;var n=this;this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(LP_CONNECT_TIMEOUT)),fb.core.util.executeWhenDOMReady(function(){if(!n.isClosed_){n.scriptTagHolder=new FirebaseIFrameScriptHolder(function(e,t,r){if(n.incrementIncomingBytes_(arguments),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,e==FIREBASE_LONGPOLL_START_PARAM)n.id=t,n.password=r;else{if(e!==FIREBASE_LONGPOLL_CLOSE_COMMAND)throw new Error("Unrecognized command received: "+e);t?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(t,function(){n.onClosed_()})):n.onClosed_()}},function(e,t){n.incrementIncomingBytes_(arguments),n.myPacketOrderer.handleResponse(e,t)},function(){n.onClosed_()},n.urlFn);var e={};e[FIREBASE_LONGPOLL_START_PARAM]="t",e[FIREBASE_LONGPOLL_SERIAL_PARAM]=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e[FIREBASE_LONGPOLL_CALLBACK_ID_PARAM]=n.scriptTagHolder.uniqueCallbackIdentifier),e[fb.realtime.Constants.VERSION_PARAM]=fb.realtime.Constants.PROTOCOL_VERSION,n.transportSessionId&&(e[fb.realtime.Constants.TRANSPORT_SESSION_PARAM]=n.transportSessionId),n.lastSessionId&&(e[fb.realtime.Constants.LAST_SESSION_PARAM]=n.lastSessionId),!NODE_CLIENT&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(fb.realtime.Constants.FORGE_DOMAIN)&&(e[fb.realtime.Constants.REFERER_PARAM]=fb.realtime.Constants.FORGE_REF);var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,function(){})}})},fb.realtime.BrowserPollConnection.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},fb.realtime.BrowserPollConnection.forceAllow=function(){fb.realtime.BrowserPollConnection.forceAllow_=!0},fb.realtime.BrowserPollConnection.forceDisallow=function(){fb.realtime.BrowserPollConnection.forceDisallow_=!0},fb.realtime.BrowserPollConnection.isAvailable=function(){return fb.realtime.BrowserPollConnection.forceAllow_||!fb.realtime.BrowserPollConnection.forceDisallow_&&"undefined"!=typeof document&&goog.isDefAndNotNull(document.createElement)&&!fb.core.util.isChromeExtensionContentScript()&&!fb.core.util.isWindowsStoreApp()&&!NODE_CLIENT},fb.realtime.BrowserPollConnection.prototype.markConnectionHealthy=function(){},fb.realtime.BrowserPollConnection.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},fb.realtime.BrowserPollConnection.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},fb.realtime.BrowserPollConnection.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},fb.realtime.BrowserPollConnection.prototype.send=function(e){var t=fb.util.json.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=fb.core.util.base64Encode(t),r=fb.core.util.splitStringBySize(n,MAX_PAYLOAD_SIZE),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},fb.realtime.BrowserPollConnection.prototype.addDisconnectPingFrame=function(e,t){if(!NODE_CLIENT){this.myDisconnFrame=document.createElement("iframe");var n={};n[FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM]="t",n[FIREBASE_LONGPOLL_ID_PARAM]=e,n[FIREBASE_LONGPOLL_PW_PARAM]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},fb.realtime.BrowserPollConnection.prototype.incrementIncomingBytes_=function(e){var t=fb.util.json.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},FirebaseIFrameScriptHolder.prototype.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{var t=e.contentWindow.document;t||fb.core.util.log("No IE domain setting required")}catch(n){var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},FirebaseIFrameScriptHolder.prototype.close=function(){if(this.alive=!1,this.myIFrame){this.myIFrame.doc.body.innerHTML="";var e=this;setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)
},Math.floor(0))}if(NODE_CLIENT&&this.myID){var t={};t[FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM]="t",t[FIREBASE_LONGPOLL_ID_PARAM]=this.myID,t[FIREBASE_LONGPOLL_PW_PARAM]=this.myPW;var n=this.urlFn(t);FirebaseIFrameScriptHolder.nodeRestRequest(n)}var r=this.onDisconnect;r&&(this.onDisconnect=null,r())},FirebaseIFrameScriptHolder.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},FirebaseIFrameScriptHolder.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[FIREBASE_LONGPOLL_ID_PARAM]=this.myID,e[FIREBASE_LONGPOLL_PW_PARAM]=this.myPW,e[FIREBASE_LONGPOLL_SERIAL_PARAM]=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){var o=this.pendingSegs[0];if(!(o.d.length+SEG_HEADER_SIZE+n.length<=MAX_URL_DATA_SIZE))break;var i=this.pendingSegs.shift();n=n+"&"+FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM+r+"="+i.seg+"&"+FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET+r+"="+i.ts+"&"+FIREBASE_LONGPOLL_DATA_PARAM+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},FirebaseIFrameScriptHolder.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},FirebaseIFrameScriptHolder.prototype.addLongPollTag_=function(e,t){var n=this;n.outstandingRequests.add(t,1);var r=function(){n.outstandingRequests.remove(t),n.newRequest_()},o=setTimeout(r,Math.floor(KEEPALIVE_REQUEST_INTERVAL)),i=function(){clearTimeout(o),r()};this.addTag(e,i)},FirebaseIFrameScriptHolder.prototype.addTag=function(e,t){if(NODE_CLIENT)this.doNodeLongPoll(e,t);else{var n=this;setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){fb.core.util.log("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(o){}},Math.floor(1))}},"undefined"!=typeof NODE_CLIENT&&NODE_CLIENT&&(FirebaseIFrameScriptHolder.request=null,FirebaseIFrameScriptHolder.nodeRestRequest=function(e,t){FirebaseIFrameScriptHolder.request||(FirebaseIFrameScriptHolder.request=require("request")),FirebaseIFrameScriptHolder.request(e,function(n,r,o){if(n)throw"Rest request for "+e.url+" failed.";t&&t(o)})},FirebaseIFrameScriptHolder.prototype.doNodeLongPoll=function(e,t){var n=this;FirebaseIFrameScriptHolder.nodeRestRequest({url:e,forever:!0},function(e){n.evalBody(e),t()})},FirebaseIFrameScriptHolder.prototype.evalBody=function(body){eval("var jsonpCB = function("+FIREBASE_LONGPOLL_COMMAND_CB_NAME+", "+FIREBASE_LONGPOLL_DATA_CB_NAME+") {"+body+"}"),jsonpCB(this.commandCB,this.onMessageCB)}),goog.provide("fb.realtime.WebSocketConnection"),goog.require("fb.constants"),goog.require("fb.core.stats.StatsManager"),goog.require("fb.core.storage"),goog.require("fb.core.util"),goog.require("fb.realtime.Constants"),goog.require("fb.realtime.Transport"),goog.require("fb.util.json");var WEBSOCKET_MAX_FRAME_SIZE=16384,WEBSOCKET_KEEPALIVE_INTERVAL=45e3;fb.WebSocket=null,NODE_CLIENT?(goog.require("fb.core.util.NodePatches"),fb.WebSocket=require("faye-websocket").Client):"undefined"!=typeof MozWebSocket?fb.WebSocket=MozWebSocket:"undefined"!=typeof WebSocket&&(fb.WebSocket=WebSocket),fb.realtime.WebSocketConnection=function(e,t,n,r){this.connId=e,this.log_=fb.core.util.logWrapper(this.connId),this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.stats_=fb.core.stats.StatsManager.getCollection(t),this.connURL=this.connectionURL_(t,n,r)},fb.realtime.WebSocketConnection.prototype.connectionURL_=function(e,t,n){var r={};return r[fb.realtime.Constants.VERSION_PARAM]=fb.realtime.Constants.PROTOCOL_VERSION,!NODE_CLIENT&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(fb.realtime.Constants.FORGE_DOMAIN)&&(r[fb.realtime.Constants.REFERER_PARAM]=fb.realtime.Constants.FORGE_REF),t&&(r[fb.realtime.Constants.TRANSPORT_SESSION_PARAM]=t),n&&(r[fb.realtime.Constants.LAST_SESSION_PARAM]=n),e.connectionURL(fb.realtime.Constants.WEBSOCKET,r)},fb.realtime.WebSocketConnection.prototype.open=function(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fb.core.storage.PersistentStorage.set("previous_websocket_failure",!0);try{if(NODE_CLIENT){var n={headers:{"User-Agent":"Firebase/"+fb.realtime.Constants.PROTOCOL_VERSION+"/"+CLIENT_VERSION+"/"+process.platform+"/Node"}};this.mySock=new fb.WebSocket(this.connURL,[],n)}else this.mySock=new fb.WebSocket(this.connURL)}catch(r){this.log_("Error instantiating WebSocket.");var o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}var i=this;this.mySock.onopen=function(){i.log_("Websocket connected."),i.everConnected_=!0},this.mySock.onclose=function(){i.log_("Websocket connection was disconnected."),i.mySock=null,i.onClosed_()},this.mySock.onmessage=function(e){i.handleIncomingFrame(e)},this.mySock.onerror=function(e){i.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&i.log_(t),i.onClosed_()}},fb.realtime.WebSocketConnection.prototype.start=function(){},fb.realtime.WebSocketConnection.forceDisallow=function(){fb.realtime.WebSocketConnection.forceDisallow_=!0},fb.realtime.WebSocketConnection.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==fb.WebSocket&&!fb.realtime.WebSocketConnection.forceDisallow_},fb.realtime.WebSocketConnection.responsesRequiredToBeHealthy=2,fb.realtime.WebSocketConnection.healthyTimeout=3e4,fb.realtime.WebSocketConnection.previouslyFailed=function(){return fb.core.storage.PersistentStorage.isInMemoryStorage||fb.core.storage.PersistentStorage.get("previous_websocket_failure")===!0},fb.realtime.WebSocketConnection.prototype.markConnectionHealthy=function(){fb.core.storage.PersistentStorage.remove("previous_websocket_failure")},fb.realtime.WebSocketConnection.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var n=fb.util.json.eval(t);this.onMessage(n)}},fb.realtime.WebSocketConnection.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},fb.realtime.WebSocketConnection.prototype.extractFrameCount_=function(e){if(fb.core.util.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},fb.realtime.WebSocketConnection.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},fb.realtime.WebSocketConnection.prototype.send=function(e){this.resetKeepAlive();var t=fb.util.json.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=fb.core.util.splitStringBySize(t,WEBSOCKET_MAX_FRAME_SIZE);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},fb.realtime.WebSocketConnection.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},fb.realtime.WebSocketConnection.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},fb.realtime.WebSocketConnection.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},fb.realtime.WebSocketConnection.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(WEBSOCKET_KEEPALIVE_INTERVAL))},fb.realtime.WebSocketConnection.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(goog.bind(this.onClosed_,this),0)}},goog.require("fb.constants"),goog.require("fb.realtime.BrowserPollConnection"),goog.require("fb.realtime.Transport"),goog.provide("fb.realtime.TransportManager"),goog.require("fb.realtime.WebSocketConnection"),fb.realtime.TransportManager=function(e){this.initTransports_(e)},fb.realtime.TransportManager.ALL_TRANSPORTS=[fb.realtime.BrowserPollConnection,fb.realtime.WebSocketConnection],fb.realtime.TransportManager.prototype.initTransports_=function(e){var t=fb.realtime.WebSocketConnection&&fb.realtime.WebSocketConnection.isAvailable(),n=t&&!fb.realtime.WebSocketConnection.previouslyFailed();if(e.webSocketOnly&&(t||fb.core.util.warn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[fb.realtime.WebSocketConnection];else{var r=this.transports_=[];fb.core.util.each(fb.realtime.TransportManager.ALL_TRANSPORTS,function(e,t){t&&t.isAvailable()&&r.push(t)})}},fb.realtime.TransportManager.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},fb.realtime.TransportManager.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},goog.provide("fb.realtime.Connection"),goog.require("fb.core.storage"),goog.require("fb.core.util"),goog.require("fb.realtime.Constants"),goog.require("fb.realtime.TransportManager");var UPGRADE_TIMEOUT=6e4,DELAY_BEFORE_SENDING_EXTRA_REQUESTS=5e3,BYTES_SENT_HEALTHY_OVERRIDE=10240,BYTES_RECEIVED_HEALTHY_OVERRIDE=102400,REALTIME_STATE_CONNECTING=0,REALTIME_STATE_CONNECTED=1,REALTIME_STATE_DISCONNECTED=2,MESSAGE_TYPE="t",MESSAGE_DATA="d",CONTROL_SHUTDOWN="s",CONTROL_RESET="r",CONTROL_ERROR="e",CONTROL_PONG="o",SWITCH_ACK="a",END_TRANSMISSION="n",PING="p",SERVER_HELLO="h";fb.realtime.Connection=function(e,t,n,r,o,i,a){this.id=e,this.log_=fb.core.util.logWrapper("c:"+this.id+":"),this.onMessage_=n,this.onReady_=r,this.onDisconnect_=o,this.onKill_=i,this.repoInfo_=t,this.pendingDataMessages=[],this.connectionCount=0,this.transportManager_=new fb.realtime.TransportManager(t),this.state_=REALTIME_STATE_CONNECTING,this.lastSessionId=a,this.log_("Connection created"),this.start_()},fb.realtime.Connection.prototype.start_=function(){var e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1;var r=this;setTimeout(function(){r.conn_&&r.conn_.open(t,n)},Math.floor(0));var o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=setTimeout(function(){r.healthyTimeout_=null,r.isHealthy_||(r.conn_&&r.conn_.bytesReceived>BYTES_RECEIVED_HEALTHY_OVERRIDE?(r.log_("Connection exceeded healthy timeout but has received "+r.conn_.bytesReceived+" bytes.  Marking connection healthy."),r.isHealthy_=!0,r.conn_.markConnectionHealthy()):r.conn_&&r.conn_.bytesSent>BYTES_SENT_HEALTHY_OVERRIDE?r.log_("Connection exceeded healthy timeout but has sent "+r.conn_.bytesSent+" bytes.  Leaving connection alive."):(r.log_("Closing unhealthy connection after timeout."),r.close()))},Math.floor(o)))},fb.realtime.Connection.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},fb.realtime.Connection.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},fb.realtime.Connection.prototype.connReceiver_=function(e){var t=this;return function(n){t.state_!=REALTIME_STATE_DISCONNECTED&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},fb.realtime.Connection.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},fb.realtime.Connection.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},fb.realtime.Connection.prototype.onSecondaryControl_=function(e){if(MESSAGE_TYPE in e){var t=e[MESSAGE_TYPE];t===SWITCH_ACK?this.upgradeIfSecondaryHealthy_():t===CONTROL_RESET?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===CONTROL_PONG&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},fb.realtime.Connection.prototype.onSecondaryMessageReceived_=function(e){var t=fb.core.util.requireKey("t",e),n=fb.core.util.requireKey("d",e);if("c"==t)this.onSecondaryControl_(n);else{if("d"!=t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},fb.realtime.Connection.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:PING,d:{}}}))},fb.realtime.Connection.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:SWITCH_ACK,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:END_TRANSMISSION,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},fb.realtime.Connection.prototype.onPrimaryMessageReceived_=function(e){var t=fb.core.util.requireKey("t",e),n=fb.core.util.requireKey("d",e);"c"==t?this.onControl_(n):"d"==t&&this.onDataMessage_(n)},fb.realtime.Connection.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},fb.realtime.Connection.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},fb.realtime.Connection.prototype.onControl_=function(e){var t=fb.core.util.requireKey(MESSAGE_TYPE,e);if(MESSAGE_DATA in e){var n=e[MESSAGE_DATA];if(t===SERVER_HELLO)this.onHandshake_(n);else if(t===END_TRANSMISSION){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===CONTROL_SHUTDOWN?this.onConnectionShutdown_(n):t===CONTROL_RESET?this.onReset_(n):t===CONTROL_ERROR?fb.core.util.error("Server Error: "+n):t===CONTROL_PONG?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fb.core.util.error("Unknown control packet command: "+t)}},fb.realtime.Connection.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),this.state_==REALTIME_STATE_CONNECTING&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),fb.realtime.Constants.PROTOCOL_VERSION!==n&&fb.core.util.warn("Protocol version mismatch detected"),this.tryStartUpgrade_())},fb.realtime.Connection.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},fb.realtime.Connection.prototype.startUpgrade_=function(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n);var r=this;setTimeout(function(){r.secondaryConn_&&(r.log_("Timed out trying to upgrade."),r.secondaryConn_.close())},Math.floor(UPGRADE_TIMEOUT))},fb.realtime.Connection.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),this.state_===REALTIME_STATE_CONNECTED?this.close():(this.closeConnections_(),this.start_())},fb.realtime.Connection.prototype.onConnectionEstablished_=function(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=REALTIME_STATE_CONNECTED,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null);var n=this;0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):setTimeout(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(DELAY_BEFORE_SENDING_EXTRA_REQUESTS))},fb.realtime.Connection.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||this.state_!==REALTIME_STATE_CONNECTED||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:PING,d:{}}}))},fb.realtime.Connection.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},fb.realtime.Connection.prototype.onConnectionLost_=function(e){this.conn_=null,e||this.state_!==REALTIME_STATE_CONNECTING?this.state_===REALTIME_STATE_CONNECTED&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fb.core.storage.PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},fb.realtime.Connection.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},fb.realtime.Connection.prototype.sendData_=function(e){if(this.state_!==REALTIME_STATE_CONNECTED)throw"Connection is not connected";this.tx_.send(e)},fb.realtime.Connection.prototype.close=function(){this.state_!==REALTIME_STATE_DISCONNECTED&&(this.log_("Closing realtime connection."),this.state_=REALTIME_STATE_DISCONNECTED,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},fb.realtime.Connection.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},goog.provide("fb.core.PersistentConnection"),goog.require("fb.core.ServerActions"),goog.require("fb.core.util"),goog.require("fb.core.util.OnlineMonitor"),goog.require("fb.core.util.VisibilityMonitor"),goog.require("fb.login.util.environment"),goog.require("fb.realtime.Connection"),goog.require("fb.util.json"),goog.require("fb.util.jwt");var RECONNECT_MIN_DELAY=1e3,RECONNECT_MAX_DELAY_DEFAULT=3e5,RECONNECT_MAX_DELAY_FOR_ADMINS=3e4,RECONNECT_DELAY_MULTIPLIER=1.3,RECONNECT_DELAY_RESET_TIMEOUT=3e4;fb.core.PersistentConnection=goog.defineClass(null,{constructor:function(e,t,n,r){this.id=fb.core.PersistentConnection.nextPersistentConnectionId_++,this.log_=fb.core.util.logWrapper("p:"+this.id+":"),this.interrupted_=!1,this.killed_=!1,this.listens_={},this.outstandingPuts_=[],this.outstandingPutCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=RECONNECT_MIN_DELAY,this.maxReconnectDelay_=RECONNECT_MAX_DELAY_DEFAULT,this.onDataUpdate_=t,this.onConnectStatus_=n,this.onServerInfoUpdate_=r,this.repoInfo_=e,this.securityDebugCallback_=null,this.lastSessionId=null,this.realtime_=null,this.credential_=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,this.scheduleConnect_(0),fb.core.util.VisibilityMonitor.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&fb.core.util.OnlineMonitor.getInstance().on("online",this.onOnline_,this)},statics:{nextPersistentConnectionId_:0,nextConnectionId_:0},sendRequest:function(e,t,n){var r=++this.requestNumber_,o={r:r,a:e,b:t};this.log_(fb.util.json.stringify(o)),fb.core.util.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},listen:function(e,t,n,r){var o=e.queryIdentifier(),i=e.path.toString();this.log_("Listen called for "+i+" "+o),this.listens_[i]=this.listens_[i]||{},fb.core.util.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),fb.core.util.assert(!this.listens_[i][o],"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens_[i][o]=a,this.connected_&&this.sendListen_(a)},sendListen_:function(e){var t=e.query,n=t.path.toString(),r=t.queryIdentifier(),o=this;this.log_("Listen on "+n+" for "+r);var i={p:n},a="q";e.tag&&(i.q=t.queryObject(),i.t=e.tag),i.h=e.hashFn(),this.sendRequest(a,i,function(i){var a=i.d,s=i.s;o.warnOnListenWarnings_(a,t);var l=o.listens_[n]&&o.listens_[n][r];l===e&&(o.log_("listen response",i),"ok"!==s&&o.removeListen_(n,r),e.onComplete&&e.onComplete(s,a))})},warnOnListenWarnings_:function(e,t){if(e&&"object"==typeof e&&fb.util.obj.contains(e,"w")){var n=fb.util.obj.get(e,"w");if(goog.isArray(n)&&goog.array.contains(n,"no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',o=t.path.toString();fb.core.util.warn("Using an unspecified index. Consider adding "+r+" at "+o+" to your security rules for better performance")}}},auth:function(e,t,n){this.credential_={cred:e,firstRequestSent:!1,callback:t,cancelCallback:n},this.log_("Authenticating using credential: "+e),this.tryAuth(),this.reduceReconnectDelayIfAdminCredential_(e)},reduceReconnectDelayIfAdminCredential_:function(e){var t=40==e.length;(t||fb.util.jwt.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS)},unauth:function(e){this.credential_=null,this.connected_&&this.sendRequest("unauth",{},function(t){var n=t.s,r=t.d;e(n,r)})},tryAuth:function(){var e=this.credential_,t=this;if(this.connected_&&e){var n={cred:e.cred};this.sendRequest("auth",n,function(n){var r=n.s,o=n.d||"error";"ok"!==r&&t.credential_===e&&(t.credential_=null),e.firstRequestSent?"ok"!==r&&e.cancelCallback&&e.cancelCallback(r,o):(e.firstRequestSent=!0,e.callback&&e.callback(r,o))})}},unlisten:function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),fb.core.util.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query");var o=this.removeListen_(n,r);o&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},sendUnlisten_:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var o={p:e},i="n";r&&(o.q=n,o.t=r),this.sendRequest(i,o)},onDisconnectPut:function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},onDisconnectMerge:function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},onDisconnectCancel:function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},sendOnDisconnect_:function(e,t,n,r){var o=this,i={p:t,d:n};o.log_("onDisconnect "+e,i),this.sendRequest(e,i,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})},put:function(e,t,n,r){this.putInternal("p",e,t,n,r)},merge:function(e,t,n,r){this.putInternal("m",e,t,n,r)},putInternal:function(e,t,n,r,o){var i={p:t,d:n};goog.isDef(o)&&(i.h=o),this.outstandingPuts_.push({action:e,request:i,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},sendPut_:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),o&&o(r.s,r.d)})},reportStats:function(e){if(this.connected_){var t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,function(e){var t=e.s;if("ok"!==t){var n=e.d;this.log_("reportStats","Error sending stats: "+n)}})}},onDataMessage_:function(e){if("r"in e){this.log_("from server: "+fb.util.json.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},onDataPush_:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):fb.core.util.error("Unrecognized action received from server: "+fb.util.json.stringify(e)+"\nAre you using the latest client?")},onReady_:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},scheduleConnect_:function(e){fb.core.util.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_);var t=this;this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},onVisible_:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},onOnline_:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},onRealtimeDisconnect_:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var e=(new Date).getTime()-this.lastConnectionEstablishedTime_;e>RECONNECT_DELAY_RESET_TIMEOUT&&(this.reconnectDelay_=RECONNECT_MIN_DELAY),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RECONNECT_DELAY_MULTIPLIER)}this.onConnectStatus_(!1)},establishConnection_:function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=goog.bind(this.onDataMessage_,this),t=goog.bind(this.onReady_,this),n=goog.bind(this.onRealtimeDisconnect_,this),r=this.id+":"+fb.core.PersistentConnection.nextConnectionId_++,o=this,i=this.lastSessionId;this.realtime_=new fb.realtime.Connection(r,this.repoInfo_,e,t,n,function(e){fb.core.util.warn(e+" ("+o.repoInfo_.toString()+")"),o.killed_=!0},i)}},interrupt:function(){this.interrupted_=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},resume:function(){this.interrupted_=!1,this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)},handleTimestamp_:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},cancelSentTransactions_:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},onListenRevoked_:function(e,t){var n;n=t?goog.array.map(t,function(e){return fb.core.util.ObjectToUniqueKey(e)}).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},removeListen_:function(e,t){var n,r=new fb.core.util.Path(e).toString();return goog.isDef(this.listens_[r])?(n=this.listens_[r][t],delete this.listens_[r][t],0===goog.object.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},onAuthRevoked_:function(e,t){var n=this.credential_;this.credential_=null,n&&n.cancelCallback&&n.cancelCallback(e,t)},onSecurityDebugPacket_:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&"undefined"!=typeof console&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},restoreState_:function(){this.tryAuth();var e=this;goog.object.forEach(this.listens_,function(t){goog.object.forEach(t,function(t){e.sendListen_(t)})});for(var t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},sendConnectStats_:function(){var e={};e["sdk.js."+CLIENT_VERSION.replace(/\./g,"-")]=1,fb.login.util.environment.isMobileCordova()?e["framework.cordova"]=1:fb.login.util.environment.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},shouldReconnect_:function(){var e=fb.core.util.OnlineMonitor.getInstance().currentlyOnline();return!this.killed_&&!this.interrupted_&&e}}),goog.provide("fb.api.INTERNAL"),goog.require("fb.core.PersistentConnection"),goog.require("fb.realtime.Connection"),goog.require("fb.login.transports.PopupReceiver"),goog.require("fb.login.Constants"),fb.api.INTERNAL={},fb.api.INTERNAL.forceLongPolling=function(){fb.realtime.WebSocketConnection.forceDisallow(),fb.realtime.BrowserPollConnection.forceAllow()},goog.exportProperty(fb.api.INTERNAL,"forceLongPolling",fb.api.INTERNAL.forceLongPolling),fb.api.INTERNAL.forceWebSockets=function(){fb.realtime.BrowserPollConnection.forceDisallow()},goog.exportProperty(fb.api.INTERNAL,"forceWebSockets",fb.api.INTERNAL.forceWebSockets),fb.api.INTERNAL.setSecurityDebugCallback=function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},goog.exportProperty(fb.api.INTERNAL,"setSecurityDebugCallback",fb.api.INTERNAL.setSecurityDebugCallback),fb.api.INTERNAL.stats=function(e,t){e.repo.stats(t)},goog.exportProperty(fb.api.INTERNAL,"stats",fb.api.INTERNAL.stats),fb.api.INTERNAL.statsIncrementCounter=function(e,t){e.repo.statsIncrementCounter(t)},goog.exportProperty(fb.api.INTERNAL,"statsIncrementCounter",fb.api.INTERNAL.statsIncrementCounter),fb.api.INTERNAL.dataUpdateCount=function(e){return e.repo.dataUpdateCount
},goog.exportProperty(fb.api.INTERNAL,"dataUpdateCount",fb.api.INTERNAL.dataUpdateCount),fb.api.INTERNAL.interceptServerData=function(e,t){return e.repo.interceptServerData_(t)},goog.exportProperty(fb.api.INTERNAL,"interceptServerData",fb.api.INTERNAL.interceptServerData),fb.api.INTERNAL.onLoginPopupOpen=function(e){new fb.login.transports.PopupReceiver(e)},goog.exportProperty(fb.api.INTERNAL,"onPopupOpen",fb.api.INTERNAL.onLoginPopupOpen),fb.api.INTERNAL.setAuthenticationServer=function(e){fb.login.Constants.SERVER_HOST=e},goog.exportProperty(fb.api.INTERNAL,"setAuthenticationServer",fb.api.INTERNAL.setAuthenticationServer),goog.provide("fb.api.TransactionResult"),fb.api.TransactionResult=function(e,t){this.committed=e,this.snapshot=t},goog.provide("fb.api.OnDisconnect"),goog.require("fb.core.util"),goog.require("fb.core.util.validation"),goog.require("fb.util.promise.Deferred"),goog.require("fb.util.validation"),fb.api.OnDisconnect=function(e,t){this.repo_=e,this.path_=t},fb.api.OnDisconnect.prototype.cancel=function(e){fb.util.validation.validateArgCount("Firebase.onDisconnect().cancel",0,1,arguments.length),fb.util.validation.validateCallback("Firebase.onDisconnect().cancel",1,e,!0);var t=new fb.util.promise.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},goog.exportProperty(fb.api.OnDisconnect.prototype,"cancel",fb.api.OnDisconnect.prototype.cancel),fb.api.OnDisconnect.prototype.remove=function(e){fb.util.validation.validateArgCount("Firebase.onDisconnect().remove",0,1,arguments.length),fb.core.util.validation.validateWritablePath("Firebase.onDisconnect().remove",this.path_),fb.util.validation.validateCallback("Firebase.onDisconnect().remove",1,e,!0);var t=new fb.util.promise.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},goog.exportProperty(fb.api.OnDisconnect.prototype,"remove",fb.api.OnDisconnect.prototype.remove),fb.api.OnDisconnect.prototype.set=function(e,t){fb.util.validation.validateArgCount("Firebase.onDisconnect().set",1,2,arguments.length),fb.core.util.validation.validateWritablePath("Firebase.onDisconnect().set",this.path_),fb.core.util.validation.validateFirebaseDataArg("Firebase.onDisconnect().set",1,e,this.path_,!1),fb.util.validation.validateCallback("Firebase.onDisconnect().set",2,t,!0);var n=new fb.util.promise.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},goog.exportProperty(fb.api.OnDisconnect.prototype,"set",fb.api.OnDisconnect.prototype.set),fb.api.OnDisconnect.prototype.setWithPriority=function(e,t,n){fb.util.validation.validateArgCount("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),fb.core.util.validation.validateWritablePath("Firebase.onDisconnect().setWithPriority",this.path_),fb.core.util.validation.validateFirebaseDataArg("Firebase.onDisconnect().setWithPriority",1,e,this.path_,!1),fb.core.util.validation.validatePriority("Firebase.onDisconnect().setWithPriority",2,t,!1),fb.util.validation.validateCallback("Firebase.onDisconnect().setWithPriority",3,n,!0);var r=new fb.util.promise.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},goog.exportProperty(fb.api.OnDisconnect.prototype,"setWithPriority",fb.api.OnDisconnect.prototype.setWithPriority),fb.api.OnDisconnect.prototype.update=function(e,t){if(fb.util.validation.validateArgCount("Firebase.onDisconnect().update",1,2,arguments.length),fb.core.util.validation.validateWritablePath("Firebase.onDisconnect().update",this.path_),goog.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,fb.core.util.warn("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}fb.core.util.validation.validateFirebaseMergeDataArg("Firebase.onDisconnect().update",1,e,this.path_,!1),fb.util.validation.validateCallback("Firebase.onDisconnect().update",2,t,!0);var o=new fb.util.promise.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,o.wrapCallback(t)),o.promise},goog.exportProperty(fb.api.OnDisconnect.prototype,"update",fb.api.OnDisconnect.prototype.update),goog.provide("fb.api.DataSnapshot"),goog.require("fb.core.snap"),goog.require("fb.core.util.SortedMap"),goog.require("fb.core.util.validation"),fb.api.DataSnapshot=function(e,t,n){this.node_=e,this.query_=t,this.index_=n},fb.api.DataSnapshot.prototype.val=function(){return fb.util.validation.validateArgCount("Firebase.DataSnapshot.val",0,0,arguments.length),this.node_.val()},goog.exportProperty(fb.api.DataSnapshot.prototype,"val",fb.api.DataSnapshot.prototype.val),fb.api.DataSnapshot.prototype.exportVal=function(){return fb.util.validation.validateArgCount("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},goog.exportProperty(fb.api.DataSnapshot.prototype,"exportVal",fb.api.DataSnapshot.prototype.exportVal),fb.api.DataSnapshot.prototype.exists=function(){return fb.util.validation.validateArgCount("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},goog.exportProperty(fb.api.DataSnapshot.prototype,"exists",fb.api.DataSnapshot.prototype.exists),fb.api.DataSnapshot.prototype.child=function(e){fb.util.validation.validateArgCount("Firebase.DataSnapshot.child",0,1,arguments.length),goog.isNumber(e)&&(e=String(e)),fb.core.util.validation.validatePathString("Firebase.DataSnapshot.child",1,e,!1);var t=new fb.core.util.Path(e),n=this.query_.child(t);return new fb.api.DataSnapshot(this.node_.getChild(t),n,fb.core.snap.PriorityIndex)},goog.exportProperty(fb.api.DataSnapshot.prototype,"child",fb.api.DataSnapshot.prototype.child),fb.api.DataSnapshot.prototype.hasChild=function(e){fb.util.validation.validateArgCount("Firebase.DataSnapshot.hasChild",1,1,arguments.length),fb.core.util.validation.validatePathString("Firebase.DataSnapshot.hasChild",1,e,!1);var t=new fb.core.util.Path(e);return!this.node_.getChild(t).isEmpty()},goog.exportProperty(fb.api.DataSnapshot.prototype,"hasChild",fb.api.DataSnapshot.prototype.hasChild),fb.api.DataSnapshot.prototype.getPriority=function(){return fb.util.validation.validateArgCount("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},goog.exportProperty(fb.api.DataSnapshot.prototype,"getPriority",fb.api.DataSnapshot.prototype.getPriority),fb.api.DataSnapshot.prototype.forEach=function(e){if(fb.util.validation.validateArgCount("Firebase.DataSnapshot.forEach",1,1,arguments.length),fb.util.validation.validateCallback("Firebase.DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var t=this.node_,n=this;return!!t.forEachChild(this.index_,function(t,r){return e(new fb.api.DataSnapshot(r,n.query_.child(t),fb.core.snap.PriorityIndex))})},goog.exportProperty(fb.api.DataSnapshot.prototype,"forEach",fb.api.DataSnapshot.prototype.forEach),fb.api.DataSnapshot.prototype.hasChildren=function(){return fb.util.validation.validateArgCount("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.node_.isLeafNode()?!1:!this.node_.isEmpty()},goog.exportProperty(fb.api.DataSnapshot.prototype,"hasChildren",fb.api.DataSnapshot.prototype.hasChildren),fb.api.DataSnapshot.prototype.name=function(){return fb.core.util.warn("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead."),fb.util.validation.validateArgCount("Firebase.DataSnapshot.name",0,0,arguments.length),this.key()},goog.exportProperty(fb.api.DataSnapshot.prototype,"name",fb.api.DataSnapshot.prototype.name),fb.api.DataSnapshot.prototype.key=function(){return fb.util.validation.validateArgCount("Firebase.DataSnapshot.key",0,0,arguments.length),this.query_.key()},goog.exportProperty(fb.api.DataSnapshot.prototype,"key",fb.api.DataSnapshot.prototype.key),fb.api.DataSnapshot.prototype.numChildren=function(){return fb.util.validation.validateArgCount("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},goog.exportProperty(fb.api.DataSnapshot.prototype,"numChildren",fb.api.DataSnapshot.prototype.numChildren),fb.api.DataSnapshot.prototype.ref=function(){return fb.util.validation.validateArgCount("Firebase.DataSnapshot.ref",0,0,arguments.length),this.query_},goog.exportProperty(fb.api.DataSnapshot.prototype,"ref",fb.api.DataSnapshot.prototype.ref),goog.provide("fb.core.view.ChildEventRegistration"),goog.provide("fb.core.view.EventRegistration"),goog.provide("fb.core.view.ValueEventRegistration"),goog.require("fb.api.DataSnapshot"),goog.require("fb.core.util"),goog.require("fb.core.view.CancelEvent"),goog.require("fb.core.view.DataEvent"),goog.require("goog.object"),fb.core.view.EventRegistration=function(){},fb.core.view.EventRegistration.prototype.respondsTo,fb.core.view.EventRegistration.prototype.createEvent,fb.core.view.EventRegistration.prototype.getEventRunner,fb.core.view.EventRegistration.prototype.createCancelEvent,fb.core.view.EventRegistration.prototype.matches,fb.core.view.EventRegistration.prototype.hasAnyCallback,fb.core.view.ValueEventRegistration=function(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n||null},fb.core.view.ValueEventRegistration.prototype.respondsTo=function(e){return"value"===e},fb.core.view.ValueEventRegistration.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new fb.core.view.DataEvent("value",this,new fb.api.DataSnapshot(e.snapshotNode,t.ref(),n))},fb.core.view.ValueEventRegistration.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){fb.core.util.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},fb.core.view.ValueEventRegistration.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new fb.core.view.CancelEvent(this,e,t):null},fb.core.view.ValueEventRegistration.prototype.matches=function(e){return e instanceof fb.core.view.ValueEventRegistration?e.callback_&&this.callback_?e.callback_===this.callback_&&e.context_===this.context_:!0:!1},fb.core.view.ValueEventRegistration.prototype.hasAnyCallback=function(){return null!==this.callback_},fb.core.view.ChildEventRegistration=function(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n},fb.core.view.ChildEventRegistration.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,goog.object.containsKey(this.callbacks_,t)},fb.core.view.ChildEventRegistration.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new fb.core.view.CancelEvent(this,e,t):null},fb.core.view.ChildEventRegistration.prototype.createEvent=function(e,t){fb.core.util.assert(null!=e.childName,"Child events should have a childName.");var n=t.ref().child(e.childName),r=t.getQueryParams().getIndex();return new fb.core.view.DataEvent(e.type,this,new fb.api.DataSnapshot(e.snapshotNode,n,r),e.prevName)},fb.core.view.ChildEventRegistration.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){fb.core.util.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},fb.core.view.ChildEventRegistration.prototype.matches=function(e){if(e instanceof fb.core.view.ChildEventRegistration){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var t=goog.object.getCount(e.callbacks_),n=goog.object.getCount(this.callbacks_);if(t===n){if(1===t){var r=goog.object.getAnyKey(e.callbacks_),o=goog.object.getAnyKey(this.callbacks_);return!(o!==r||e.callbacks_[r]&&this.callbacks_[o]&&e.callbacks_[r]!==this.callbacks_[o])}return goog.object.every(this.callbacks_,function(t,n){return e.callbacks_[n]===t})}}}return!1},fb.core.view.ChildEventRegistration.prototype.hasAnyCallback=function(){return null!==this.callbacks_},goog.provide("fb.core.SyncPoint"),goog.require("fb.core.util"),goog.require("fb.core.util.ImmutableTree"),goog.require("fb.core.view.ViewCache"),goog.require("fb.core.view.EventRegistration"),goog.require("fb.core.view.View"),goog.require("goog.array"),fb.core.SyncPoint=function(){this.views_={}},fb.core.SyncPoint.prototype.isEmpty=function(){return goog.object.isEmpty(this.views_)},fb.core.SyncPoint.prototype.applyOperation=function(e,t,n){var r=e.source.queryId;if(null!==r){var o=fb.util.obj.get(this.views_,r);return fb.core.util.assert(null!=o,"SyncTree gave us an op for an invalid query."),o.applyOperation(e,t,n)}var i=[];return goog.object.forEach(this.views_,function(r){i=i.concat(r.applyOperation(e,t,n))}),i},fb.core.SyncPoint.prototype.addEventRegistration=function(e,t,n,r,o){var i=e.queryIdentifier(),a=fb.util.obj.get(this.views_,i);if(!a){var s=n.calcCompleteEventCache(o?r:null),l=!1;s?l=!0:r instanceof fb.core.snap.ChildrenNode?(s=n.calcCompleteEventChildren(r),l=!1):(s=fb.core.snap.EMPTY_NODE,l=!1);var c=new fb.core.view.ViewCache(new fb.core.view.CacheNode(s,l,!1),new fb.core.view.CacheNode(r,o,!1));a=new fb.core.view.View(e,c),this.views_[i]=a}return a.addEventRegistration(t),a.getInitialEvents(t)},fb.core.SyncPoint.prototype.removeEventRegistration=function(e,t,n){var r=e.queryIdentifier(),o=[],i=[],a=this.hasCompleteView();if("default"===r){var s=this;goog.object.forEach(this.views_,function(e,r){i=i.concat(e.removeEventRegistration(t,n)),e.isEmpty()&&(delete s.views_[r],e.getQuery().getQueryParams().loadsAllData()||o.push(e.getQuery()))})}else{var l=fb.util.obj.get(this.views_,r);l&&(i=i.concat(l.removeEventRegistration(t,n)),l.isEmpty()&&(delete this.views_[r],l.getQuery().getQueryParams().loadsAllData()||o.push(l.getQuery())))}return a&&!this.hasCompleteView()&&o.push(new Firebase(e.repo,e.path)),{removed:o,events:i}},fb.core.SyncPoint.prototype.getQueryViews=function(){return goog.array.filter(goog.object.getValues(this.views_),function(e){return!e.getQuery().getQueryParams().loadsAllData()})},fb.core.SyncPoint.prototype.getCompleteServerCache=function(e){var t=null;return goog.object.forEach(this.views_,function(n){t=t||n.getCompleteServerCache(e)}),t},fb.core.SyncPoint.prototype.viewForQuery=function(e){var t=e.getQueryParams();if(t.loadsAllData())return this.getCompleteView();var n=e.queryIdentifier();return fb.util.obj.get(this.views_,n)},fb.core.SyncPoint.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},fb.core.SyncPoint.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},fb.core.SyncPoint.prototype.getCompleteView=function(){var e=goog.object.findValue(this.views_,function(e){return e.getQuery().getQueryParams().loadsAllData()});return e||null},goog.provide("fb.core.SyncTree"),goog.require("fb.core.Operation"),goog.require("fb.core.SyncPoint"),goog.require("fb.core.WriteTree"),goog.require("fb.core.util"),fb.core.ListenProvider,fb.core.SyncTree=function(e){this.syncPointTree_=fb.core.util.ImmutableTree.Empty,this.pendingWriteTree_=new fb.core.WriteTree,this.tagToQueryMap_={},this.queryToTagMap_={},this.listenProvider_=e},fb.core.SyncTree.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new fb.core.operation.Overwrite(fb.core.OperationSource.User,e,t)):[]},fb.core.SyncTree.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=fb.core.util.ImmutableTree.fromObject(t);return this.applyOperationToSyncPoints_(new fb.core.operation.Merge(fb.core.OperationSource.User,e,r))},fb.core.SyncTree.prototype.ackUserWrite=function(e,t){t=t||!1;var n=this.pendingWriteTree_.getWrite(e),r=this.pendingWriteTree_.removeWrite(e);if(r){var o=fb.core.util.ImmutableTree.Empty;return null!=n.snap?o=o.set(fb.core.util.Path.Empty,!0):fb.util.obj.foreach(n.children,function(e,t){o=o.set(new fb.core.util.Path(e),t)}),this.applyOperationToSyncPoints_(new fb.core.operation.AckUserWrite(n.path,o,t))}return[]},fb.core.SyncTree.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new fb.core.operation.Overwrite(fb.core.OperationSource.Server,e,t))},fb.core.SyncTree.prototype.applyServerMerge=function(e,t){var n=fb.core.util.ImmutableTree.fromObject(t);return this.applyOperationToSyncPoints_(new fb.core.operation.Merge(fb.core.OperationSource.Server,e,n))},fb.core.SyncTree.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new fb.core.operation.ListenComplete(fb.core.OperationSource.Server,e))},fb.core.SyncTree.prototype.applyTaggedQueryOverwrite=function(e,t,n){var r=this.queryKeyForTag_(n);if(null!=r){var o=this.parseQueryKey_(r),i=o.path,a=o.queryId,s=fb.core.util.Path.relativePath(i,e),l=new fb.core.operation.Overwrite(fb.core.OperationSource.forServerTaggedQuery(a),s,t);return this.applyTaggedOperation_(i,a,l)}return[]},fb.core.SyncTree.prototype.applyTaggedQueryMerge=function(e,t,n){var r=this.queryKeyForTag_(n);if(r){var o=this.parseQueryKey_(r),i=o.path,a=o.queryId,s=fb.core.util.Path.relativePath(i,e),l=fb.core.util.ImmutableTree.fromObject(t),c=new fb.core.operation.Merge(fb.core.OperationSource.forServerTaggedQuery(a),s,l);return this.applyTaggedOperation_(i,a,c)}return[]},fb.core.SyncTree.prototype.applyTaggedListenComplete=function(e,t){var n=this.queryKeyForTag_(t);if(n){var r=this.parseQueryKey_(n),o=r.path,i=r.queryId,a=fb.core.util.Path.relativePath(o,e),s=new fb.core.operation.ListenComplete(fb.core.OperationSource.forServerTaggedQuery(i),a);return this.applyTaggedOperation_(o,i,s)}return[]},fb.core.SyncTree.prototype.addEventRegistration=function(e,t){var n=e.path,r=null,o=!1;this.syncPointTree_.foreachOnPath(n,function(e,t){var i=fb.core.util.Path.relativePath(e,n);r=r||t.getCompleteServerCache(i),o=o||t.hasCompleteView()});var i=this.syncPointTree_.get(n);i?(o=o||i.hasCompleteView(),r=r||i.getCompleteServerCache(fb.core.util.Path.Empty)):(i=new fb.core.SyncPoint,this.syncPointTree_=this.syncPointTree_.set(n,i));var a;if(null!=r)a=!0;else{a=!1,r=fb.core.snap.EMPTY_NODE;var s=this.syncPointTree_.subtree(n);s.foreachChild(function(e,t){var n=t.getCompleteServerCache(fb.core.util.Path.Empty);n&&(r=r.updateImmediateChild(e,n))})}var l=i.viewExistsForQuery(e);if(!l&&!e.getQueryParams().loadsAllData()){var c=this.makeQueryKey_(e);fb.core.util.assert(!goog.object.containsKey(this.queryToTagMap_,c),"View does not exist, but we have a tag");var u=fb.core.SyncTree.getNextQueryTag_();this.queryToTagMap_[c]=u,this.tagToQueryMap_["_"+u]=c}var d=this.pendingWriteTree_.childWrites(n),f=i.addEventRegistration(e,t,d,r,a);if(!l&&!o){var p=i.viewForQuery(e);f=f.concat(this.setupListener_(e,p))}return f},fb.core.SyncTree.prototype.removeEventRegistration=function(e,t,n){var r=e.path,o=this.syncPointTree_.get(r),i=[];if(o&&("default"===e.queryIdentifier()||o.viewExistsForQuery(e))){var a=o.removeEventRegistration(e,t,n);o.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(r));var s=a.removed;i=a.events;var l=-1!==goog.array.findIndex(s,function(e){return e.getQueryParams().loadsAllData()}),c=this.syncPointTree_.findOnPath(r,function(e,t){return t.hasCompleteView()});if(l&&!c){var u=this.syncPointTree_.subtree(r);if(!u.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(u),f=0;f<d.length;++f){var p=d[f],h=p.getQuery(),g=this.createListenerForView_(p);this.listenProvider_.startListening(this.queryForListening_(h),this.tagForQuery_(h),g.hashFn,g.onComplete)}}if(!c&&s.length>0&&!n)if(l){var m=null;this.listenProvider_.stopListening(this.queryForListening_(e),m)}else{var v=this;goog.array.forEach(s,function(e){var t=(e.queryIdentifier(),v.queryToTagMap_[v.makeQueryKey_(e)]);v.listenProvider_.stopListening(v.queryForListening_(e),t)})}this.removeTags_(s)}return i},fb.core.SyncTree.prototype.calcCompleteEventCache=function(e,t){var n=!0,r=this.pendingWriteTree_,o=this.syncPointTree_.findOnPath(e,function(t,n){var r=fb.core.util.Path.relativePath(t,e),o=n.getCompleteServerCache(r);return o?o:void 0});return r.calcCompleteEventCache(e,o,t,n)},fb.core.SyncTree.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(e,t,n){if(t&&t.hasCompleteView()){var r=t.getCompleteView();return[r]}var o=[];return t&&(o=t.getQueryViews()),goog.object.forEach(n,function(e){o=o.concat(e)}),o})},fb.core.SyncTree.prototype.removeTags_=function(e){for(var t=0;t<e.length;++t){var n=e[t];if(!n.getQueryParams().loadsAllData()){var r=this.makeQueryKey_(n),o=this.queryToTagMap_[r];delete this.queryToTagMap_[r],delete this.tagToQueryMap_["_"+o]}}},fb.core.SyncTree.prototype.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.ref():e},fb.core.SyncTree.prototype.setupListener_=function(e,t){var n=e.path,r=this.tagForQuery_(e),o=this.createListenerForView_(t),i=this.listenProvider_.startListening(this.queryForListening_(e),r,o.hashFn,o.onComplete),a=this.syncPointTree_.subtree(n);if(r)fb.core.util.assert(!a.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var s=a.fold(function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(goog.array.map(t.getQueryViews(),function(e){return e.getQuery()}))),goog.object.forEach(n,function(e){r=r.concat(e)}),r}),l=0;l<s.length;++l){var c=s[l];this.listenProvider_.stopListening(this.queryForListening_(c),this.tagForQuery_(c))}return i},fb.core.SyncTree.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){var t=e.getServerCache()||fb.core.snap.EMPTY_NODE;return t.hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var o=fb.core.util.errorForServerCode(e,n);return t.removeEventRegistration(n,null,o)}}},fb.core.SyncTree.prototype.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},fb.core.SyncTree.prototype.parseQueryKey_=function(e){var t=e.indexOf("$");return fb.core.util.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new fb.core.util.Path(e.substr(0,t))}},fb.core.SyncTree.prototype.queryKeyForTag_=function(e){return goog.object.get(this.tagToQueryMap_,"_"+e)},fb.core.SyncTree.prototype.tagForQuery_=function(e){var t=this.makeQueryKey_(e);return fb.util.obj.get(this.queryToTagMap_,t)},fb.core.SyncTree.nextQueryTag_=1,fb.core.SyncTree.getNextQueryTag_=function(){return fb.core.SyncTree.nextQueryTag_++},fb.core.SyncTree.prototype.applyTaggedOperation_=function(e,t,n){var r=this.syncPointTree_.get(e);fb.core.util.assert(r,"Missing sync point for query tag that we're tracking");var o=this.pendingWriteTree_.childWrites(e);return r.applyOperation(n,o,null)},fb.core.SyncTree.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(fb.core.util.Path.Empty))},fb.core.SyncTree.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var o=t.get(fb.core.util.Path.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(fb.core.util.Path.Empty));var i=[],a=e.path.getFront(),s=e.operationForChild(a),l=t.children.get(a);if(l&&s){var c=n?n.getImmediateChild(a):null,u=r.child(a);i=i.concat(this.applyOperationHelper_(s,l,c,u))}return o&&(i=i.concat(o.applyOperation(e,r,n))),i},fb.core.SyncTree.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var o=t.get(fb.core.util.Path.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(fb.core.util.Path.Empty));var i=[],a=this;return t.children.inorderTraversal(function(t,o){var s=n?n.getImmediateChild(t):null,l=r.child(t),c=e.operationForChild(t);c&&(i=i.concat(a.applyOperationDescendantsHelper_(c,o,s,l)))}),o&&(i=i.concat(o.applyOperation(e,r,n))),i},goog.provide("fb.core.Repo"),goog.require("fb.api.DataSnapshot"),goog.require("fb.core.PersistentConnection"),goog.require("fb.core.ReadonlyRestClient"),goog.require("fb.core.SnapshotHolder"),goog.require("fb.core.SparseSnapshotTree"),goog.require("fb.core.SyncTree"),goog.require("fb.core.stats.StatsCollection"),goog.require("fb.core.stats.StatsListener"),goog.require("fb.core.stats.StatsManager"),goog.require("fb.core.stats.StatsReporter"),goog.require("fb.core.util"),goog.require("fb.core.util.ServerValues"),goog.require("fb.core.util.Tree"),goog.require("fb.core.view.EventQueue"),goog.require("fb.login.AuthenticationManager"),goog.require("fb.util.json"),goog.require("fb.util.jwt"),goog.require("goog.string"),fb.core.Repo=goog.defineClass(null,{constructor:function(e,t){this.repoInfo_=e,this.stats_=fb.core.stats.StatsManager.getCollection(e),this.statsListener_=null,this.eventQueue_=new fb.core.view.EventQueue,this.nextWriteId_=1,this.persistentConnection_=null,this.server_,t||fb.core.util.beingCrawled()?(this.server_=new fb.core.ReadonlyRestClient(this.repoInfo_,goog.bind(this.onDataUpdate_,this)),setTimeout(goog.bind(this.onConnectStatus_,this,!0),0)):(this.persistentConnection_=new fb.core.PersistentConnection(this.repoInfo_,goog.bind(this.onDataUpdate_,this),goog.bind(this.onConnectStatus_,this),goog.bind(this.onServerInfoUpdate_,this)),this.server_=this.persistentConnection_),this.statsReporter_=fb.core.stats.StatsManager.getOrCreateReporter(e,goog.bind(function(){return new fb.core.stats.StatsReporter(this.stats_,this.server_)},this)),this.transactions_init_(),this.infoData_=new fb.core.SnapshotHolder;var n=this;this.infoSyncTree_=new fb.core.SyncTree({startListening:function(e,t,r,o){var i=[],a=n.infoData_.getNode(e.path);return a.isEmpty()||(i=n.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout(function(){o("ok")},0)),i},stopListening:goog.nullFunction}),this.updateInfo_("connected",!1),this.onDisconnect_=new fb.core.SparseSnapshotTree,this.auth=new fb.login.AuthenticationManager(e,goog.bind(this.server_.auth,this.server_),goog.bind(this.server_.unauth,this.server_),goog.bind(this.onAuthStatus_,this)),this.dataUpdateCount=0,this.interceptServerDataCallback_=null,this.serverSyncTree_=new fb.core.SyncTree({startListening:function(e,t,r,o){return n.server_.listen(e,r,t,function(t,r){var i=o(t,r);n.eventQueue_.raiseEventsForChangedPath(e.path,i)}),[]},stopListening:function(e,t){n.server_.unlisten(e,t)}})},toString:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},name:function(){return this.repoInfo_.namespace},serverTime:function(){var e=this.infoData_.getNode(new fb.core.util.Path(".info/serverTimeOffset")),t=e.val()||0;return(new Date).getTime()+t},generateServerValues:function(){return fb.core.util.ServerValues.generateWithValues({timestamp:this.serverTime()})},onDataUpdate_:function(e,t,n,r){this.dataUpdateCount++;var o=new fb.core.util.Path(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var i=[];if(r)if(n){var a=goog.object.map(t,function(e){return fb.core.snap.NodeFromJSON(e)});i=this.serverSyncTree_.applyTaggedQueryMerge(o,a,r)}else{var s=fb.core.snap.NodeFromJSON(t);i=this.serverSyncTree_.applyTaggedQueryOverwrite(o,s,r)}else if(n){var l=goog.object.map(t,function(e){return fb.core.snap.NodeFromJSON(e)});i=this.serverSyncTree_.applyServerMerge(o,l)}else{var c=fb.core.snap.NodeFromJSON(t);i=this.serverSyncTree_.applyServerOverwrite(o,c)}var u=o;i.length>0&&(u=this.rerunTransactions_(o)),this.eventQueue_.raiseEventsForChangedPath(u,i)},interceptServerData_:function(e){this.interceptServerDataCallback_=e},onConnectStatus_:function(e){this.updateInfo_("connected",e),e===!1&&this.runOnDisconnectEvents_()},onServerInfoUpdate_:function(e){var t=this;fb.core.util.each(e,function(e,n){t.updateInfo_(n,e)})},onAuthStatus_:function(e){this.updateInfo_("authenticated",e)},updateInfo_:function(e,t){var n=new fb.core.util.Path("/.info/"+e),r=fb.core.snap.NodeFromJSON(t);this.infoData_.updateSnapshot(n,r);var o=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,o)},getNextWriteId_:function(){return this.nextWriteId_++},setWithPriority:function(e,t,n,r){this.log_("set",{path:e.toString(),value:t,priority:n});var o=this.generateServerValues(),i=fb.core.snap.NodeFromJSON(t,n),a=fb.core.util.ServerValues.resolveDeferredValueSnapshot(i,o),s=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(e,a,s,!0);this.eventQueue_.queueEvents(l);var c=this;this.server_.put(e.toString(),i.val(!0),function(t,n){var o="ok"===t;o||fb.core.util.warn("set at "+e+" failed: "+t);var i=c.serverSyncTree_.ackUserWrite(s,!o);c.eventQueue_.raiseEventsForChangedPath(e,i),c.callOnCompleteCallback(r,t,n)});var u=this.abortTransactions_(e);this.rerunTransactions_(u),this.eventQueue_.raiseEventsForChangedPath(u,[])},update:function(e,t,n){this.log_("update",{path:e.toString(),value:t});var r=!0,o=this.generateServerValues(),i={};if(goog.object.forEach(t,function(e,t){r=!1;var n=fb.core.snap.NodeFromJSON(e);i[t]=fb.core.util.ServerValues.resolveDeferredValueSnapshot(n,o)}),r)fb.core.util.log("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),s=this.serverSyncTree_.applyUserMerge(e,i,a);this.eventQueue_.queueEvents(s);var l=this;this.server_.merge(e.toString(),t,function(t,r){var o="ok"===t;o||fb.core.util.warn("update at "+e+" failed: "+t);var i=l.serverSyncTree_.ackUserWrite(a,!o),s=e;i.length>0&&(s=l.rerunTransactions_(e)),l.eventQueue_.raiseEventsForChangedPath(s,i),l.callOnCompleteCallback(n,t,r)});var c=this.abortTransactions_(e);this.rerunTransactions_(c),this.eventQueue_.raiseEventsForChangedPath(e,[])}},runOnDisconnectEvents_:function(){this.log_("onDisconnectEvents");var e=this,t=this.generateServerValues(),n=fb.core.util.ServerValues.resolveDeferredValueTree(this.onDisconnect_,t),r=[];n.forEachTree(fb.core.util.Path.Empty,function(t,n){r=r.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var o=e.abortTransactions_(t);e.rerunTransactions_(o)}),this.onDisconnect_=new fb.core.SparseSnapshotTree,this.eventQueue_.raiseEventsForChangedPath(fb.core.util.Path.Empty,r)},onDisconnectCancel:function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),function(r,o){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,o)})},onDisconnectSet:function(e,t,n){var r=this,o=fb.core.snap.NodeFromJSON(t);this.server_.onDisconnectPut(e.toString(),o.val(!0),function(t,i){"ok"===t&&r.onDisconnect_.remember(e,o),r.callOnCompleteCallback(n,t,i)})},onDisconnectSetWithPriority:function(e,t,n,r){var o=this,i=fb.core.snap.NodeFromJSON(t,n);this.server_.onDisconnectPut(e.toString(),i.val(!0),function(t,n){"ok"===t&&o.onDisconnect_.remember(e,i),o.callOnCompleteCallback(r,t,n)})},onDisconnectUpdate:function(e,t,n){var r=!0;for(var o in t)r=!1;if(r)return fb.core.util.log("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");var i=this;this.server_.onDisconnectMerge(e.toString(),t,function(r,o){if("ok"===r)for(var a in t){var s=fb.core.snap.NodeFromJSON(t[a]);i.onDisconnect_.remember(e.child(a),s)}i.callOnCompleteCallback(n,r,o)})},addEventCallbackForQuery:function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},removeEventCallbackForQuery:function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},interrupt:function(){this.persistentConnection_&&this.persistentConnection_.interrupt()},resume:function(){this.persistentConnection_&&this.persistentConnection_.resume()},stats:function(e){if("undefined"!=typeof console){var t;
e?(this.statsListener_||(this.statsListener_=new fb.core.stats.StatsListener(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=goog.array.reduce(goog.object.getKeys(t),function(e,t){return Math.max(t.length,e)},0);for(var r in t){for(var o=t[r],i=r.length;n+2>i;i++)r+=" ";console.log(r+o)}}},statsIncrementCounter:function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},log_:function(){var e="";this.persistentConnection_&&(e=this.persistentConnection_.id+":"),fb.core.util.log(e,arguments)},callOnCompleteCallback:function(e,t,n){e&&fb.core.util.exceptionGuard(function(){if("ok"==t)e(null);else{var r=(t||"error").toUpperCase(),o=r;n&&(o+=": "+n);var i=new Error(o);i.code=r,e(i)}})}}),goog.provide("fb.core.Repo_transaction"),goog.require("fb.core.Repo"),goog.require("fb.core.snap.PriorityIndex"),goog.require("fb.core.util"),fb.core.TransactionStatus={RUN:1,SENT:2,COMPLETED:3,SENT_NEEDS_ABORT:4,NEEDS_ABORT:5},fb.core.Repo.MAX_TRANSACTION_RETRIES_=25,fb.core.Transaction,fb.core.Repo.prototype.transactions_init_=function(){this.transactionQueueTree_=new fb.core.util.Tree},fb.core.Repo.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);var o=function(){},i=new Firebase(this,e);i.on("value",o);var a=function(){i.off("value",o)},s={path:e,update:t,onComplete:n,status:null,order:fb.core.util.LUIDGenerator(),applyLocally:r,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=this.getLatestState_(e);s.currentInputSnapshot=l;var c=s.update(l.val());if(goog.isDef(c)){fb.core.util.validation.validateFirebaseData("transaction failed: Data returned ",c,s.path),s.status=fb.core.TransactionStatus.RUN;var u=this.transactionQueueTree_.subTree(e),d=u.getValue()||[];d.push(s),u.setValue(d);var f;if("object"==typeof c&&null!==c&&fb.util.obj.contains(c,".priority"))f=fb.util.obj.get(c,".priority"),fb.core.util.assert(fb.core.util.validation.isValidPriority(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var p=this.serverSyncTree_.calcCompleteEventCache(e)||fb.core.snap.EMPTY_NODE;f=p.getPriority().val()}f=f;var h=this.generateServerValues(),g=fb.core.snap.NodeFromJSON(c,f),m=fb.core.util.ServerValues.resolveDeferredValueSnapshot(g,h);s.currentOutputSnapshotRaw=g,s.currentOutputSnapshotResolved=m,s.currentWriteId=this.getNextWriteId_();var v=this.serverSyncTree_.applyUserOverwrite(e,m,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,v),this.sendReadyTransactions_()}else if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var b=new fb.api.DataSnapshot(s.currentInputSnapshot,new Firebase(this,s.path),fb.core.snap.PriorityIndex);s.onComplete(null,!1,b)}},fb.core.Repo.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||fb.core.snap.EMPTY_NODE},fb.core.Repo.prototype.sendReadyTransactions_=function(e){var t=e||this.transactionQueueTree_;if(e||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);fb.core.util.assert(n.length>0,"Sending zero length transaction queue");var r=goog.array.every(n,function(e){return e.status===fb.core.TransactionStatus.RUN});r&&this.sendTransactionQueue_(t.path(),n)}else if(t.hasChildren()){var o=this;t.forEachChild(function(e){o.sendReadyTransactions_(e)})}},fb.core.Repo.prototype.sendTransactionQueue_=function(e,t){for(var n=goog.array.map(t,function(e){return e.currentWriteId}),r=this.getLatestState_(e,n),o=r,i=r.hash(),a=0;a<t.length;a++){var s=t[a];fb.core.util.assert(s.status===fb.core.TransactionStatus.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=fb.core.TransactionStatus.SENT,s.retryCount++;var l=fb.core.util.Path.relativePath(e,s.path);o=o.updateChild(l,s.currentOutputSnapshotRaw)}var c=o.val(!0),u=e,d=this;this.server_.put(u.toString(),c,function(n){d.log_("transaction put response",{path:u.toString(),status:n});var r=[];if("ok"===n){var o=[];for(a=0;a<t.length;a++){if(t[a].status=fb.core.TransactionStatus.COMPLETED,r=r.concat(d.serverSyncTree_.ackUserWrite(t[a].currentWriteId)),t[a].onComplete){var i=t[a].currentOutputSnapshotResolved,s=new Firebase(d,t[a].path),l=new fb.api.DataSnapshot(i,s,fb.core.snap.PriorityIndex);o.push(goog.bind(t[a].onComplete,null,null,!0,l))}t[a].unwatcher()}for(d.pruneCompletedTransactionsBelowNode_(d.transactionQueueTree_.subTree(e)),d.sendReadyTransactions_(),d.eventQueue_.raiseEventsForChangedPath(e,r),a=0;a<o.length;a++)fb.core.util.exceptionGuard(o[a])}else{if("datastale"===n)for(a=0;a<t.length;a++)t[a].status=t[a].status===fb.core.TransactionStatus.SENT_NEEDS_ABORT?fb.core.TransactionStatus.NEEDS_ABORT:fb.core.TransactionStatus.RUN;else for(fb.core.util.warn("transaction at "+u.toString()+" failed: "+n),a=0;a<t.length;a++)t[a].status=fb.core.TransactionStatus.NEEDS_ABORT,t[a].abortReason=n;d.rerunTransactions_(e)}},i)},fb.core.Repo.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},fb.core.Repo.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n=[],r=[],o=goog.array.map(e,function(e){return e.currentWriteId}),i=0;i<e.length;i++){var a,s=e[i],l=fb.core.util.Path.relativePath(t,s.path),c=!1;if(fb.core.util.assert(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===fb.core.TransactionStatus.NEEDS_ABORT)c=!0,a=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===fb.core.TransactionStatus.RUN)if(s.retryCount>=fb.core.Repo.MAX_TRANSACTION_RETRIES_)c=!0,a="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var u=this.getLatestState_(s.path,o);s.currentInputSnapshot=u;var d=e[i].update(u.val());if(goog.isDef(d)){fb.core.util.validation.validateFirebaseData("transaction failed: Data returned ",d,s.path);var f=fb.core.snap.NodeFromJSON(d),p="object"==typeof d&&null!=d&&fb.util.obj.contains(d,".priority");p||(f=f.updatePriority(u.getPriority()));var h=s.currentWriteId,g=this.generateServerValues(),m=fb.core.util.ServerValues.resolveDeferredValueSnapshot(f,g);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=m,s.currentWriteId=this.getNextWriteId_(),goog.array.remove(o,h),r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,m,s.currentWriteId,s.applyLocally)),r=r.concat(this.serverSyncTree_.ackUserWrite(h,!0))}else c=!0,a="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,r),r=[],c&&(e[i].status=fb.core.TransactionStatus.COMPLETED,function(e){setTimeout(e,Math.floor(0))}(e[i].unwatcher),e[i].onComplete))if("nodata"===a){var v=new Firebase(this,e[i].path),b=e[i].currentInputSnapshot,y=new fb.api.DataSnapshot(b,v,fb.core.snap.PriorityIndex);n.push(goog.bind(e[i].onComplete,null,null,!1,y))}else n.push(goog.bind(e[i].onComplete,null,new Error(a),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),i=0;i<n.length;i++)fb.core.util.exceptionGuard(n[i]);this.sendReadyTransactions_()}},fb.core.Repo.prototype.getAncestorTransactionNode_=function(e){for(var t,n=this.transactionQueueTree_;null!==(t=e.getFront())&&null===n.getValue();)n=n.subTree(t),e=e.popFront();return n},fb.core.Repo.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort(function(e,t){return e.order-t.order}),t},fb.core.Repo.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=e.getValue();if(null!==n)for(var r=0;r<n.length;r++)t.push(n[r]);var o=this;e.forEachChild(function(e){o.aggregateTransactionQueuesForNode_(e,t)})},fb.core.Repo.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=e.getValue();if(t){for(var n=0,r=0;r<t.length;r++)t[r].status!==fb.core.TransactionStatus.COMPLETED&&(t[n]=t[r],n++);t.length=n,e.setValue(t.length>0?t:null)}var o=this;e.forEachChild(function(e){o.pruneCompletedTransactionsBelowNode_(e)})},fb.core.Repo.prototype.abortTransactions_=function(e){var t=this.getAncestorTransactionNode_(e).path(),n=this.transactionQueueTree_.subTree(e),r=this;return n.forEachAncestor(function(e){r.abortTransactionsOnNode_(e)}),this.abortTransactionsOnNode_(n),n.forEachDescendant(function(e){r.abortTransactionsOnNode_(e)}),t},fb.core.Repo.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],o=-1,i=0;i<t.length;i++)if(t[i].status===fb.core.TransactionStatus.SENT_NEEDS_ABORT);else if(t[i].status===fb.core.TransactionStatus.SENT)fb.core.util.assert(o===i-1,"All SENT items should be at beginning of queue."),o=i,t[i].status=fb.core.TransactionStatus.SENT_NEEDS_ABORT,t[i].abortReason="set";else if(fb.core.util.assert(t[i].status===fb.core.TransactionStatus.RUN,"Unexpected transaction status in abort"),t[i].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[i].currentWriteId,!0)),t[i].onComplete){var a=null;n.push(goog.bind(t[i].onComplete,null,new Error("set"),!1,a))}for(-1===o?e.setValue(null):t.length=o+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),r),i=0;i<n.length;i++)fb.core.util.exceptionGuard(n[i])}},goog.provide("fb.core.RepoManager"),goog.require("fb.core.Repo"),goog.require("fb.core.Repo_transaction"),goog.require("fb.util.obj"),fb.core.RepoManager=goog.defineClass(null,{constructor:function(){this.repos_={},this.useRestClient_=!1},interrupt:function(){for(var e in this.repos_)this.repos_[e].interrupt()},resume:function(){for(var e in this.repos_)this.repos_[e].resume()},getRepo:function(e){var t=e.toString(),n=fb.util.obj.get(this.repos_,t);return n||(n=new fb.core.Repo(e,this.useRestClient_),this.repos_[t]=n),n},forceRestClient:function(){this.useRestClient_=!0}}),goog.addSingletonGetter(fb.core.RepoManager),goog.exportProperty(fb.core.RepoManager.prototype,"interrupt",fb.core.RepoManager.prototype.interrupt),goog.exportProperty(fb.core.RepoManager.prototype,"resume",fb.core.RepoManager.prototype.resume),goog.provide("fb.api.Query"),goog.require("fb.core.snap.KeyIndex"),goog.require("fb.core.snap.PathIndex"),goog.require("fb.core.snap.PriorityIndex"),goog.require("fb.core.snap.ValueIndex"),goog.require("fb.core.util"),goog.require("fb.core.util.ObjectToUniqueKey"),goog.require("fb.core.util.Path"),goog.require("fb.core.util.validation"),goog.require("fb.core.view.ChildEventRegistration"),goog.require("fb.core.view.ValueEventRegistration"),goog.require("fb.util.promise"),goog.require("fb.util.promise.Deferred"),goog.require("fb.util.validation"),fb.api.Query=goog.defineClass(null,{constructor:function(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r},validateQueryEndpoints_:function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===fb.core.snap.KeyIndex){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){var i=e.getIndexStartName();if(i!=fb.core.util.MIN_NAME)throw new Error(r);if("string"!=typeof t)throw new Error(o)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!=fb.core.util.MAX_NAME)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(e.getIndex()===fb.core.snap.PriorityIndex){if(null!=t&&!fb.core.util.validation.isValidPriority(t)||null!=n&&!fb.core.util.validation.isValidPriority(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(fb.core.util.assert(e.getIndex()instanceof fb.core.snap.PathIndex||e.getIndex()===fb.core.snap.ValueIndex,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},validateLimit_:function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},validateNoPreviousOrderByCall_:function(e){if(this.orderByCalled_===!0)throw new Error(e+": You can't combine multiple orderBy calls.")},getQueryParams:function(){return this.queryParams_},ref:function(){return fb.util.validation.validateArgCount("Query.ref",0,0,arguments.length),new Firebase(this.repo,this.path)},on:function(e,t,n,r){fb.util.validation.validateArgCount("Query.on",2,4,arguments.length),fb.core.util.validation.validateEventType("Query.on",1,e,!1),fb.util.validation.validateCallback("Query.on",2,t,!1);var o=this.getCancelAndContextArgs_("Query.on",n,r);if("value"===e)this.onValueEvent(t,o.cancel,o.context);else{var i={};i[e]=t,this.onChildEvent(i,o.cancel,o.context)}return t},onValueEvent:function(e,t,n){var r=new fb.core.view.ValueEventRegistration(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},onChildEvent:function(e,t,n){var r=new fb.core.view.ChildEventRegistration(e,t,n);this.repo.addEventCallbackForQuery(this,r)},off:function(e,t,n){fb.util.validation.validateArgCount("Query.off",0,3,arguments.length),fb.core.util.validation.validateEventType("Query.off",1,e,!0),fb.util.validation.validateCallback("Query.off",2,t,!0),fb.util.validation.validateContextObject("Query.off",3,n,!0);var r=null,o=null;if("value"===e){var i=t||null;r=new fb.core.view.ValueEventRegistration(i,null,n||null)}else e&&(t&&(o={},o[e]=t),r=new fb.core.view.ChildEventRegistration(o,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},once:function(e,t){fb.util.validation.validateArgCount("Query.once",1,4,arguments.length),fb.core.util.validation.validateEventType("Query.once",1,e,!1),fb.util.validation.validateCallback("Query.once",2,t,!0);var n=this.getCancelAndContextArgs_("Query.once",arguments[2],arguments[3]),r=this,o=!0,i=new fb.util.promise.Deferred;fb.util.promise.attachDummyErrorHandler(i.promise);var a=function(s){o&&(o=!1,r.off(e,a),t&&goog.bind(t,n.context)(s),i.resolve(s))};return this.on(e,a,function(t){r.off(e,a),n.cancel&&goog.bind(n.cancel,n.context)(t),i.reject(t)}),i.promise},limit:function(e){if(fb.core.util.warn("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead."),fb.util.validation.validateArgCount("Query.limit",1,1,arguments.length),!goog.isNumber(e)||Math.floor(e)!==e||0>=e)throw new Error("Query.limit: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var t=this.queryParams_.limit(e);return this.validateLimit_(t),new fb.api.Query(this.repo,this.path,t,this.orderByCalled_)},limitToFirst:function(e){if(fb.util.validation.validateArgCount("Query.limitToFirst",1,1,arguments.length),!goog.isNumber(e)||Math.floor(e)!==e||0>=e)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new fb.api.Query(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},limitToLast:function(e){if(fb.util.validation.validateArgCount("Query.limitToLast",1,1,arguments.length),!goog.isNumber(e)||Math.floor(e)!==e||0>=e)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new fb.api.Query(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},orderByChild:function(e){if(fb.util.validation.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');fb.core.util.validation.validatePathString("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var t=new fb.core.util.Path(e);if(t.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var n=new fb.core.snap.PathIndex(t),r=this.queryParams_.orderBy(n);return this.validateQueryEndpoints_(r),new fb.api.Query(this.repo,this.path,r,!0)},orderByKey:function(){fb.util.validation.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(fb.core.snap.KeyIndex);return this.validateQueryEndpoints_(e),new fb.api.Query(this.repo,this.path,e,!0)},orderByPriority:function(){fb.util.validation.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(fb.core.snap.PriorityIndex);return this.validateQueryEndpoints_(e),new fb.api.Query(this.repo,this.path,e,!0)},orderByValue:function(){fb.util.validation.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(fb.core.snap.ValueIndex);return this.validateQueryEndpoints_(e),new fb.api.Query(this.repo,this.path,e,!0)},startAt:function(e,t){fb.util.validation.validateArgCount("Query.startAt",0,2,arguments.length),fb.core.util.validation.validateFirebaseDataArg("Query.startAt",1,e,this.path,!0),fb.core.util.validation.validateKey("Query.startAt",2,t,!0);var n=this.queryParams_.startAt(e,t);if(this.validateLimit_(n),this.validateQueryEndpoints_(n),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return goog.isDef(e)||(e=null,t=null),new fb.api.Query(this.repo,this.path,n,this.orderByCalled_)},endAt:function(e,t){fb.util.validation.validateArgCount("Query.endAt",0,2,arguments.length),fb.core.util.validation.validateFirebaseDataArg("Query.endAt",1,e,this.path,!0),fb.core.util.validation.validateKey("Query.endAt",2,t,!0);var n=this.queryParams_.endAt(e,t);if(this.validateLimit_(n),this.validateQueryEndpoints_(n),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new fb.api.Query(this.repo,this.path,n,this.orderByCalled_)},equalTo:function(e,t){if(fb.util.validation.validateArgCount("Query.equalTo",1,2,arguments.length),fb.core.util.validation.validateFirebaseDataArg("Query.equalTo",1,e,this.path,!1),fb.core.util.validation.validateKey("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},toString:function(){return fb.util.validation.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},queryObject:function(){return this.queryParams_.getQueryObject()},queryIdentifier:function(){var e=this.queryObject(),t=fb.core.util.ObjectToUniqueKey(e);return"{}"===t?"default":t},getCancelAndContextArgs_:function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,fb.util.validation.validateCallback(e,3,r.cancel,!0),r.context=n,fb.util.validation.validateContextObject(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(fb.util.validation.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r}}),goog.exportProperty(fb.api.Query.prototype,"ref",fb.api.Query.prototype.ref),goog.exportProperty(fb.api.Query.prototype,"on",fb.api.Query.prototype.on),goog.exportProperty(fb.api.Query.prototype,"off",fb.api.Query.prototype.off),goog.exportProperty(fb.api.Query.prototype,"once",fb.api.Query.prototype.once),goog.exportProperty(fb.api.Query.prototype,"limit",fb.api.Query.prototype.limit),goog.exportProperty(fb.api.Query.prototype,"limitToFirst",fb.api.Query.prototype.limitToFirst),goog.exportProperty(fb.api.Query.prototype,"limitToLast",fb.api.Query.prototype.limitToLast),goog.exportProperty(fb.api.Query.prototype,"orderByChild",fb.api.Query.prototype.orderByChild),goog.exportProperty(fb.api.Query.prototype,"orderByKey",fb.api.Query.prototype.orderByKey),goog.exportProperty(fb.api.Query.prototype,"orderByPriority",fb.api.Query.prototype.orderByPriority),goog.exportProperty(fb.api.Query.prototype,"orderByValue",fb.api.Query.prototype.orderByValue),goog.exportProperty(fb.api.Query.prototype,"startAt",fb.api.Query.prototype.startAt),goog.exportProperty(fb.api.Query.prototype,"endAt",fb.api.Query.prototype.endAt),goog.exportProperty(fb.api.Query.prototype,"equalTo",fb.api.Query.prototype.equalTo),goog.exportProperty(fb.api.Query.prototype,"toString",fb.api.Query.prototype.toString),goog.provide("fb.api.TEST_ACCESS"),goog.require("fb.core.PersistentConnection"),fb.api.TEST_ACCESS.DataConnection=fb.core.PersistentConnection,goog.exportProperty(fb.api.TEST_ACCESS,"DataConnection",fb.api.TEST_ACCESS.DataConnection),fb.core.PersistentConnection.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},goog.exportProperty(fb.api.TEST_ACCESS.DataConnection.prototype,"simpleListen",fb.api.TEST_ACCESS.DataConnection.prototype.simpleListen),fb.core.PersistentConnection.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},goog.exportProperty(fb.api.TEST_ACCESS.DataConnection.prototype,"echo",fb.api.TEST_ACCESS.DataConnection.prototype.echo),goog.exportProperty(fb.core.PersistentConnection.prototype,"interrupt",fb.core.PersistentConnection.prototype.interrupt),fb.api.TEST_ACCESS.RealTimeConnection=fb.realtime.Connection,goog.exportProperty(fb.api.TEST_ACCESS,"RealTimeConnection",fb.api.TEST_ACCESS.RealTimeConnection),goog.exportProperty(fb.realtime.Connection.prototype,"sendRequest",fb.realtime.Connection.prototype.sendRequest),goog.exportProperty(fb.realtime.Connection.prototype,"close",fb.realtime.Connection.prototype.close),fb.api.TEST_ACCESS.hijackHash=function(e){var t=fb.core.PersistentConnection.prototype.put;return fb.core.PersistentConnection.prototype.put=function(n,r,o,i){goog.isDef(i)&&(i=e()),t.call(this,n,r,o,i)},function(){fb.core.PersistentConnection.prototype.put=t}},goog.exportProperty(fb.api.TEST_ACCESS,"hijackHash",fb.api.TEST_ACCESS.hijackHash),fb.api.TEST_ACCESS.ConnectionTarget=fb.core.RepoInfo,goog.exportProperty(fb.api.TEST_ACCESS,"ConnectionTarget",fb.api.TEST_ACCESS.ConnectionTarget),fb.api.TEST_ACCESS.queryIdentifier=function(e){return e.queryIdentifier()},goog.exportProperty(fb.api.TEST_ACCESS,"queryIdentifier",fb.api.TEST_ACCESS.queryIdentifier),fb.api.TEST_ACCESS.listens=function(e){return e.repo.persistentConnection_.listens_},goog.exportProperty(fb.api.TEST_ACCESS,"listens",fb.api.TEST_ACCESS.listens),fb.api.TEST_ACCESS.forceRestClient=function(e){e.forceRestClient()},goog.exportProperty(fb.api.TEST_ACCESS,"forceRestClient",fb.api.TEST_ACCESS.forceRestClient),goog.provide("Firebase"),goog.require("fb.api.INTERNAL"),goog.require("fb.api.OnDisconnect"),goog.require("fb.api.Query"),goog.require("fb.api.TEST_ACCESS"),goog.require("fb.api.TransactionResult"),goog.require("fb.constants"),goog.require("fb.core.Repo"),goog.require("fb.core.RepoManager"),goog.require("fb.core.util"),goog.require("fb.core.util.Path"),goog.require("fb.core.util.enableLogging"),goog.require("fb.core.util.nextPushId"),goog.require("fb.core.util.validation"),goog.require("fb.core.view.QueryParams"),goog.require("fb.login.Constants"),goog.require("fb.util.obj"),goog.require("fb.util.promise"),goog.require("fb.util.promise.Deferred"),goog.require("fb.util.validation"),Firebase=goog.defineClass(fb.api.Query,{constructor:function(e,t){var n,r,o;if(e instanceof fb.core.Repo)n=e,r=t;else{fb.util.validation.validateArgCount("new Firebase",1,2,arguments.length);var i=fb.core.util.parseRepoInfo(arguments[0]),a=i.repoInfo;if(fb.core.util.validation.validateUrl("new Firebase",1,i),t)if(t instanceof fb.core.RepoManager)o=t;else{if(!goog.isString(t))throw new Error("Expected a valid Firebase.Context for second argument to new Firebase()");o=fb.core.RepoManager.getInstance(),a.persistenceKey=t}else o=fb.core.RepoManager.getInstance();n=o.getRepo(a),r=i.path}fb.api.Query.call(this,n,r,fb.core.view.QueryParams.DEFAULT,!1),this.then=void 0,this["catch"]=void 0},statics:{goOffline:function(){fb.util.validation.validateArgCount("Firebase.goOffline",0,0,arguments.length),fb.core.RepoManager.getInstance().interrupt()},goOnline:function(){fb.util.validation.validateArgCount("Firebase.goOnline",0,0,arguments.length),fb.core.RepoManager.getInstance().resume()},enableLogging:fb.core.util.enableLogging,ServerValue:{TIMESTAMP:{".sv":"timestamp"}},SDK_VERSION:fb.constants.CLIENT_VERSION,INTERNAL:fb.api.INTERNAL,Context:fb.core.RepoManager,TEST_ACCESS:fb.api.TEST_ACCESS},name:function(){return fb.core.util.warn("Firebase.name() being deprecated. Please use Firebase.key() instead."),fb.util.validation.validateArgCount("Firebase.name",0,0,arguments.length),this.key()},key:function(){return fb.util.validation.validateArgCount("Firebase.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},child:function(e){return fb.util.validation.validateArgCount("Firebase.child",1,1,arguments.length),goog.isNumber(e)?e=String(e):e instanceof fb.core.util.Path||(null===this.path.getFront()?fb.core.util.validation.validateRootPathString("Firebase.child",1,e,!1):fb.core.util.validation.validatePathString("Firebase.child",1,e,!1)),new Firebase(this.repo,this.path.child(e))},parent:function(){fb.util.validation.validateArgCount("Firebase.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new Firebase(this.repo,e)},root:function(){fb.util.validation.validateArgCount("Firebase.ref",0,0,arguments.length);for(var e=this;null!==e.parent();)e=e.parent();return e},set:function(e,t){fb.util.validation.validateArgCount("Firebase.set",1,2,arguments.length),fb.core.util.validation.validateWritablePath("Firebase.set",this.path),fb.core.util.validation.validateFirebaseDataArg("Firebase.set",1,e,this.path,!1),fb.util.validation.validateCallback("Firebase.set",2,t,!0);var n=new fb.util.promise.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},update:function(e,t){if(fb.util.validation.validateArgCount("Firebase.update",1,2,arguments.length),fb.core.util.validation.validateWritablePath("Firebase.update",this.path),goog.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,fb.core.util.warn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}fb.core.util.validation.validateFirebaseMergeDataArg("Firebase.update",1,e,this.path,!1),fb.util.validation.validateCallback("Firebase.update",2,t,!0);var o=new fb.util.promise.Deferred;return this.repo.update(this.path,e,o.wrapCallback(t)),o.promise},setWithPriority:function(e,t,n){if(fb.util.validation.validateArgCount("Firebase.setWithPriority",2,3,arguments.length),fb.core.util.validation.validateWritablePath("Firebase.setWithPriority",this.path),fb.core.util.validation.validateFirebaseDataArg("Firebase.setWithPriority",1,e,this.path,!1),fb.core.util.validation.validatePriority("Firebase.setWithPriority",2,t,!1),fb.util.validation.validateCallback("Firebase.setWithPriority",3,n,!0),".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";var r=new fb.util.promise.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},remove:function(e){return fb.util.validation.validateArgCount("Firebase.remove",0,1,arguments.length),fb.core.util.validation.validateWritablePath("Firebase.remove",this.path),fb.util.validation.validateCallback("Firebase.remove",1,e,!0),this.set(null,e)},transaction:function(e,t,n){if(fb.util.validation.validateArgCount("Firebase.transaction",1,3,arguments.length),fb.core.util.validation.validateWritablePath("Firebase.transaction",this.path),fb.util.validation.validateCallback("Firebase.transaction",1,e,!1),fb.util.validation.validateCallback("Firebase.transaction",2,t,!0),fb.core.util.validation.validateBoolean("Firebase.transaction",3,n,!0),".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"==typeof n&&(n=!0);var r=new fb.util.promise.Deferred;goog.isFunction(t)&&fb.util.promise.attachDummyErrorHandler(r.promise);var o=function(e,n,o){e?r.reject(e):r.resolve(new fb.api.TransactionResult(n,o)),goog.isFunction(t)&&t(e,n,o)};return this.repo.startTransaction(this.path,e,o,n),r.promise},setPriority:function(e,t){fb.util.validation.validateArgCount("Firebase.setPriority",1,2,arguments.length),fb.core.util.validation.validateWritablePath("Firebase.setPriority",this.path),fb.core.util.validation.validatePriority("Firebase.setPriority",1,e,!1),fb.util.validation.validateCallback("Firebase.setPriority",2,t,!0);var n=new fb.util.promise.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},push:function(e,t){fb.util.validation.validateArgCount("Firebase.push",0,2,arguments.length),fb.core.util.validation.validateWritablePath("Firebase.push",this.path),fb.core.util.validation.validateFirebaseDataArg("Firebase.push",1,e,this.path,!0),fb.util.validation.validateCallback("Firebase.push",2,t,!0);var n=this.repo.serverTime(),r=fb.core.util.nextPushId(n),o=this.child(r);if(goog.isDefAndNotNull(e)){var i=this,a=o.set(e,t).then(function(){return i.child(r)});o.then=goog.bind(a.then,a),o["catch"]=goog.bind(a.then,a,void 0),goog.isFunction(t)&&fb.util.promise.attachDummyErrorHandler(a)}return o},onDisconnect:function(){return fb.core.util.validation.validateWritablePath("Firebase.onDisconnect",this.path),new fb.api.OnDisconnect(this.repo,this.path)},auth:function(e,t,n){fb.core.util.warn("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead."),fb.util.validation.validateArgCount("Firebase.auth",1,3,arguments.length),fb.core.util.validation.validateCredential("Firebase.auth",1,e,!1),fb.util.validation.validateCallback("Firebase.auth",2,t,!0),fb.util.validation.validateCallback("Firebase.auth",3,t,!0);var r={};r[fb.login.Constants.CLIENT_OPTION_SESSION_PERSISTENCE]="none";var o=this,i=new fb.util.promise.Deferred;return o.repo.auth.authenticate(e,{},r,i.wrapCallback(t),n),i.promise},unauth:function(e){fb.util.validation.validateArgCount("Firebase.unauth",0,1,arguments.length),fb.util.validation.validateCallback("Firebase.unauth",1,e,!0);var t=new fb.util.promise.Deferred;return this.repo.auth.unauthenticate(t.wrapCallback(e)),t.promise},getAuth:function(){return fb.util.validation.validateArgCount("Firebase.getAuth",0,0,arguments.length),this.repo.auth.getAuth()},onAuth:function(e,t){fb.util.validation.validateArgCount("Firebase.onAuth",1,2,arguments.length),fb.util.validation.validateCallback("Firebase.onAuth",1,e,!1),fb.util.validation.validateContextObject("Firebase.onAuth",2,t,!0),this.repo.auth.on("auth_status",e,t)},offAuth:function(e,t){fb.util.validation.validateArgCount("Firebase.offAuth",1,2,arguments.length),fb.util.validation.validateCallback("Firebase.offAuth",1,e,!1),fb.util.validation.validateContextObject("Firebase.offAuth",2,t,!0),this.repo.auth.off("auth_status",e,t)
},authWithCustomToken:function(e,t,n){fb.util.validation.validateArgCount("Firebase.authWithCustomToken",1,3,arguments.length),2===arguments.length&&fb.util.obj.isNonNullObject(t)&&(n=t,t=void 0),fb.core.util.validation.validateCredential("Firebase.authWithCustomToken",1,e,!1),fb.util.validation.validateCallback("Firebase.authWithCustomToken",2,t,!0),fb.core.util.validation.validateObject("Firebase.authWithCustomToken",3,n,!0);var r=new fb.util.promise.Deferred;return this.repo.auth.authenticate(e,{},n||{},r.wrapCallback(t)),r.promise},authWithOAuthPopup:function(e,t,n){fb.util.validation.validateArgCount("Firebase.authWithOAuthPopup",1,3,arguments.length),2===arguments.length&&fb.util.obj.isNonNullObject(t)&&(n=t,t=void 0),fb.core.util.validation.validateAuthProvider("Firebase.authWithOAuthPopup",1,e,!1),fb.util.validation.validateCallback("Firebase.authWithOAuthPopup",2,t,!0),fb.core.util.validation.validateObject("Firebase.authWithOAuthPopup",3,n,!0);var r=new fb.util.promise.Deferred;return this.repo.auth.authWithPopup(e,n,r.wrapCallback(t)),r.promise},authWithOAuthRedirect:function(e,t,n){fb.util.validation.validateArgCount("Firebase.authWithOAuthRedirect",1,3,arguments.length),2===arguments.length&&fb.util.obj.isNonNullObject(t)&&(n=t,t=void 0),fb.core.util.validation.validateAuthProvider("Firebase.authWithOAuthRedirect",1,e,!1),fb.util.validation.validateCallback("Firebase.authWithOAuthRedirect",2,t,!1),fb.core.util.validation.validateObject("Firebase.authWithOAuthRedirect",3,n,!0);var r=new fb.util.promise.Deferred;return this.repo.auth.authWithRedirect(e,n,r.wrapCallback(t)),r.promise},authWithOAuthToken:function(e,t,n,r){fb.util.validation.validateArgCount("Firebase.authWithOAuthToken",2,4,arguments.length),3===arguments.length&&fb.util.obj.isNonNullObject(n)&&(r=n,n=void 0),fb.core.util.validation.validateAuthProvider("Firebase.authWithOAuthToken",1,e,!1),fb.util.validation.validateCallback("Firebase.authWithOAuthToken",3,n,!0),fb.core.util.validation.validateObject("Firebase.authWithOAuthToken",4,r,!0);var o=new fb.util.promise.Deferred;return goog.isString(t)?(fb.core.util.validation.validateString("Firebase.authWithOAuthToken",2,t,!1),this.repo.auth.authWithCredential(e+"/token",{access_token:t},r,o.wrapCallback(n))):(fb.core.util.validation.validateObject("Firebase.authWithOAuthToken",2,t,!1),this.repo.auth.authWithCredential(e+"/token",t,r,o.wrapCallback(n))),o.promise},authAnonymously:function(e,t){fb.util.validation.validateArgCount("Firebase.authAnonymously",0,2,arguments.length),1===arguments.length&&fb.util.obj.isNonNullObject(e)&&(t=e,e=void 0),fb.util.validation.validateCallback("Firebase.authAnonymously",1,e,!0),fb.core.util.validation.validateObject("Firebase.authAnonymously",2,t,!0);var n=new fb.util.promise.Deferred;return this.repo.auth.authWithCredential("anonymous",{},t,n.wrapCallback(e)),n.promise},authWithPassword:function(e,t,n){fb.util.validation.validateArgCount("Firebase.authWithPassword",1,3,arguments.length),2===arguments.length&&fb.util.obj.isNonNullObject(t)&&(n=t,t=void 0),fb.core.util.validation.validateObject("Firebase.authWithPassword",1,e,!1),fb.core.util.validation.validateObjectContainsKey("Firebase.authWithPassword",1,e,"email",!1,"string"),fb.core.util.validation.validateObjectContainsKey("Firebase.authWithPassword",1,e,"password",!1,"string"),fb.util.validation.validateCallback("Firebase.authWithPassword",2,t,!0),fb.core.util.validation.validateObject("Firebase.authWithPassword",3,n,!0);var r=new fb.util.promise.Deferred;return this.repo.auth.authWithCredential("password",e,n,r.wrapCallback(t)),r.promise},createUser:function(e,t){fb.util.validation.validateArgCount("Firebase.createUser",1,2,arguments.length),fb.core.util.validation.validateObject("Firebase.createUser",1,e,!1),fb.core.util.validation.validateObjectContainsKey("Firebase.createUser",1,e,"email",!1,"string"),fb.core.util.validation.validateObjectContainsKey("Firebase.createUser",1,e,"password",!1,"string"),fb.util.validation.validateCallback("Firebase.createUser",2,t,!0);var n=new fb.util.promise.Deferred;return this.repo.auth.createUser(e,n.wrapCallback(t)),n.promise},removeUser:function(e,t){fb.util.validation.validateArgCount("Firebase.removeUser",1,2,arguments.length),fb.core.util.validation.validateObject("Firebase.removeUser",1,e,!1),fb.core.util.validation.validateObjectContainsKey("Firebase.removeUser",1,e,"email",!1,"string"),fb.core.util.validation.validateObjectContainsKey("Firebase.removeUser",1,e,"password",!1,"string"),fb.util.validation.validateCallback("Firebase.removeUser",2,t,!0);var n=new fb.util.promise.Deferred;return this.repo.auth.removeUser(e,n.wrapCallback(t)),n.promise},changePassword:function(e,t){fb.util.validation.validateArgCount("Firebase.changePassword",1,2,arguments.length),fb.core.util.validation.validateObject("Firebase.changePassword",1,e,!1),fb.core.util.validation.validateObjectContainsKey("Firebase.changePassword",1,e,"email",!1,"string"),fb.core.util.validation.validateObjectContainsKey("Firebase.changePassword",1,e,"oldPassword",!1,"string"),fb.core.util.validation.validateObjectContainsKey("Firebase.changePassword",1,e,"newPassword",!1,"string"),fb.util.validation.validateCallback("Firebase.changePassword",2,t,!0);var n=new fb.util.promise.Deferred;return this.repo.auth.changePassword(e,n.wrapCallback(t)),n.promise},changeEmail:function(e,t){fb.util.validation.validateArgCount("Firebase.changeEmail",1,2,arguments.length),fb.core.util.validation.validateObject("Firebase.changeEmail",1,e,!1),fb.core.util.validation.validateObjectContainsKey("Firebase.changeEmail",1,e,"oldEmail",!1,"string"),fb.core.util.validation.validateObjectContainsKey("Firebase.changeEmail",1,e,"newEmail",!1,"string"),fb.core.util.validation.validateObjectContainsKey("Firebase.changeEmail",1,e,"password",!1,"string"),fb.util.validation.validateCallback("Firebase.changeEmail",2,t,!0);var n=new fb.util.promise.Deferred;return this.repo.auth.changeEmail(e,n.wrapCallback(t)),n.promise},resetPassword:function(e,t){fb.util.validation.validateArgCount("Firebase.resetPassword",1,2,arguments.length),fb.core.util.validation.validateObject("Firebase.resetPassword",1,e,!1),fb.core.util.validation.validateObjectContainsKey("Firebase.resetPassword",1,e,"email",!1,"string"),fb.util.validation.validateCallback("Firebase.resetPassword",2,t,!0);var n=new fb.util.promise.Deferred;return this.repo.auth.resetPassword(e,n.wrapCallback(t)),n.promise}}),NODE_CLIENT&&(module.exports=Firebase)},ns.wrapper(ns.goog,ns.fb)}({goog:{},fb:{}}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.io=e()}}(function(){var e;return function t(e,n,r){function o(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return o(n?n:t)},u,u.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t){t.exports=e("./lib/")},{"./lib/":2}],2:[function(e,t){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":3,"engine.io-parser":19}],3:[function(e,t){(function(n){function r(e,t){if(!(this instanceof r))return new r(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=u(e),t.hostname=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=u(t.host).host),this.secure=null!=t.secure?t.secure:n.location&&"https:"==location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=f.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate?t.perMessageDeflate||{}:!1,!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized?null:t.rejectUnauthorized;var o="object"==typeof n&&n;o.global===o&&t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),this.open()}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var i=e("./transports"),a=e("component-emitter"),s=e("debug")("engine.io-client:socket"),l=e("indexof"),c=e("engine.io-parser"),u=e("parseuri"),d=e("parsejson"),f=e("parseqs");t.exports=r,r.priorWebsocketSuccess=!1,a(r.prototype),r.protocol=c.protocol,r.Socket=r,r.Transport=e("./transport"),r.transports=e("./transports"),r.parser=e("engine.io-parser"),r.prototype.createTransport=function(e){s('creating transport "%s"',e);var t=o(this.query);t.EIO=c.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new i[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return n},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){s("setting transport %s",e.name);var t=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},r.prototype.probe=function(e){function t(){if(f.onlyBinaryUpgrades){var t=!this.supportsBinary&&f.transport.supportsBinary;d=d||t}d||(s('probe transport "%s" opened',e),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(t){if(!d)if("pong"==t.type&&"probe"==t.data){if(s('probe transport "%s" pong',e),f.upgrading=!0,f.emit("upgrading",u),!u)return;r.priorWebsocketSuccess="websocket"==u.name,s('pausing current transport "%s"',f.transport.name),f.transport.pause(function(){d||"closed"!=f.readyState&&(s("changing transport and sending upgrade packet"),c(),f.setTransport(u),u.send([{type:"upgrade"}]),f.emit("upgrade",u),u=null,f.upgrading=!1,f.flush())})}else{s('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=u.name,f.emit("upgradeError",n)}}))}function n(){d||(d=!0,c(),u.close(),u=null)}function o(t){var r=new Error("probe error: "+t);r.transport=u.name,n(),s('probe transport "%s" failed because of error: %s',e,t),f.emit("upgradeError",r)}function i(){o("transport closed")}function a(){o("socket closed")}function l(e){u&&e.name!=u.name&&(s('"%s" works - aborting "%s"',e.name,u.name),n())}function c(){u.removeListener("open",t),u.removeListener("error",o),u.removeListener("close",i),f.removeListener("close",a),f.removeListener("upgrading",l)}s('probing transport "%s"',e);var u=this.createTransport(e,{probe:1}),d=!1,f=this;r.priorWebsocketSuccess=!1,u.once("open",t),u.once("error",o),u.once("close",i),this.once("close",a),this.once("upgrading",l),u.open()},r.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var e=0,t=this.upgrades.length;t>e;e++)this.probe(this.upgrades[e])}},r.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(s('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(d(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else s('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},r.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},r.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!=this.readyState&&"closed"!=this.readyState){n=n||{},n.compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),s("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},r.prototype.onError=function(e){s("socket error %j",e),r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){s('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;r>n;n++)~l(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./transport":4,"./transports":5,"component-emitter":15,debug:17,"engine.io-parser":19,indexof:23,parsejson:26,parseqs:27,parseuri:28}],4:[function(e,t){function n(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}var r=e("engine.io-parser"),o=e("component-emitter");t.exports=n,o(n.prototype),n.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},n.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},n.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},n.prototype.onPacket=function(e){this.emit("packet",e)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":15,"engine.io-parser":19}],5:[function(e,t,n){(function(t){function r(e){var n,r=!1,s=!1,l=!1!==e.jsonp;if(t.location){var c="https:"==location.protocol,u=location.port;u||(u=c?443:80),r=e.hostname!=location.hostname||u!=e.port,s=e.secure!=c}if(e.xdomain=r,e.xscheme=s,n=new o(e),"open"in n&&!e.forceJSONP)return new i(e);if(!l)throw new Error("JSONP disabled");return new a(e)}var o=e("xmlhttprequest-ssl"),i=e("./polling-xhr"),a=e("./polling-jsonp"),s=e("./websocket");n.polling=r,n.websocket=s}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(e,t){(function(n){function r(){}function o(e){i.call(this,e),this.query=this.query||{},s||(n.___eio||(n.___eio=[]),s=n.___eio),this.index=s.length;var t=this;s.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=r)},!1)}var i=e("./polling"),a=e("component-inherit");t.exports=o;var s,l=/\n/g,c=/\\n/g;a(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t;var r="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},o.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(e){o.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(t)}catch(e){i=document.createElement("iframe"),i.name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,a=document.createElement("form"),s=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=u,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),r(),e=e.replace(c,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-inherit":16}],7:[function(e,t){(function(n){function r(){}function o(e){if(l.call(this,e),n.location){var t="https:"==location.protocol,r=location.port;r||(r=t?443:80),this.xd=e.hostname!=n.location.hostname||r!=e.port,this.xs=e.secure!=t}else this.extraHeaders=e.extraHeaders}function i(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function a(){for(var e in i.requests)i.requests.hasOwnProperty(e)&&i.requests[e].abort()}var s=e("xmlhttprequest-ssl"),l=e("./polling"),c=e("component-emitter"),u=e("component-inherit"),d=e("debug")("engine.io-client:polling-xhr");t.exports=o,t.exports.Request=i,u(o,l),o.prototype.supportsBinary=!0,o.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.extraHeaders=this.extraHeaders,new i(e)},o.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),o=this;r.on("success",t),r.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=r},o.prototype.doPoll=function(){d("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(i.prototype),i.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new s(e),r=this;try{d("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.extraHeaders[o])}}catch(a){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?r.onLoad():setTimeout(function(){r.onError(t.status)},0))},d("xhr data %s",this.data),t.send(this.data)}catch(a){return void setTimeout(function(){r.onError(a)},0)}n.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},i.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},i.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(t){}n.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}if("application/octet-stream"===t)e=this.xhr.response;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(n){for(var r=new Uint8Array(this.xhr.response),o=[],i=0,a=r.length;a>i;i++)o.push(r[i]);e=String.fromCharCode.apply(null,o)}else e=this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},i.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},n.document&&(i.requestsCount=0,i.requests={},n.attachEvent?n.attachEvent("onunload",a):n.addEventListener&&n.addEventListener("beforeunload",a,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-emitter":15,"component-inherit":16,debug:17,"xmlhttprequest-ssl":10}],8:[function(e,t){function n(e){var t=e&&e.forceBase64;(!c||t)&&(this.supportsBinary=!1),r.call(this,e)}var r=e("../transport"),o=e("parseqs"),i=e("engine.io-parser"),a=e("component-inherit"),s=e("yeast"),l=e("debug")("engine.io-client:polling");t.exports=n;var c=function(){var t=e("xmlhttprequest-ssl"),n=new t({xdomain:!1});return null!=n.responseType}();a(n,r),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(e){function t(){l("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(l("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){l("pre-pause polling complete"),--r||t()})),this.writable||(l("we are currently writing - waiting to pause"),r++,this.once("drain",function(){l("pre-pause writing complete"),--r||t()}))}else t()},n.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(e){var t=this;l("polling got data %s",e);var n=function(e){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)};i.decodePayload(e,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function e(){l("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(l("transport open - closing"),e()):(l("transport not open - deferring close"),this.once("open",e))},n.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")},t=this;i.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(n=":"+this.port),e.length&&(e="?"+e);var r=-1!==this.hostname.indexOf(":");return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e}},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,"xmlhttprequest-ssl":10,yeast:30}],9:[function(e,t){(function(n){function r(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,o.call(this,e)}var o=e("../transport"),i=e("engine.io-parser"),a=e("parseqs"),s=e("component-inherit"),l=e("yeast"),c=e("debug")("engine.io-client:websocket"),u=n.WebSocket||n.MozWebSocket,d=u;if(!d&&"undefined"==typeof window)try{d=e("ws")}catch(f){}t.exports=r,s(r,o),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.ws=u?new d(e):new d(e,t,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(r.prototype.onData=function(e){var t=this;setTimeout(function(){o.prototype.onData.call(t,e)},0)}),r.prototype.write=function(e){function t(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}var r=this;this.writable=!1;for(var o=e.length,a=0,s=o;s>a;a++)!function(e){i.encodePacket(e,r.supportsBinary,function(i){if(!u){var a={};if(e.options&&(a.compress=e.options.compress),r.perMessageDeflate){var s="string"==typeof i?n.Buffer.byteLength(i):i.length;s<r.perMessageDeflate.threshold&&(a.compress=!1)}}try{u?r.ws.send(i):r.ws.send(i,a)}catch(l){c("websocket closed before onclose event")}--o||t()})}(e[a])},r.prototype.onClose=function(){o.prototype.onClose.call(this)},r.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),e=a.encode(e),e.length&&(e="?"+e);var r=-1!==this.hostname.indexOf(":");return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e},r.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===r.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,ws:void 0,yeast:30}],10:[function(e,t){var n=e("has-cors");t.exports=function(e){var t=e.xdomain,r=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||n))return new XMLHttpRequest}catch(i){}try{if("undefined"!=typeof XDomainRequest&&!r&&o)return new XDomainRequest}catch(i){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(i){}}},{"has-cors":22}],11:[function(e,t){function n(e,t,n){function o(e,r){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(i=!0,t(e),t=n):0!==o.count||i||t(null,r)}var i=!1;return n=n||r,o.count=e,0===e?t():o}function r(){}t.exports=n},{}],12:[function(e,t){t.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(0>t&&(t+=r),0>n&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(e),i=new Uint8Array(n-t),a=t,s=0;n>a;a++,s++)i[s]=o[a];return i.buffer}},{}],13:[function(e,t,n){!function(e){"use strict";n.encode=function(t){var n,r=new Uint8Array(t),o=r.length,i="";
for(n=0;o>n;n+=3)i+=e[r[n]>>2],i+=e[(3&r[n])<<4|r[n+1]>>4],i+=e[(15&r[n+1])<<2|r[n+2]>>6],i+=e[63&r[n+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},n.decode=function(t){var n,r,o,i,a,s=.75*t.length,l=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var u=new ArrayBuffer(s),d=new Uint8Array(u);for(n=0;l>n;n+=4)r=e.indexOf(t[n]),o=e.indexOf(t[n+1]),i=e.indexOf(t[n+2]),a=e.indexOf(t[n+3]),d[c++]=r<<2|o>>4,d[c++]=(15&o)<<4|i>>2,d[c++]=(3&i)<<6|63&a;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],14:[function(e,t){(function(e){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=o.buffer}e[t]=r}}}function r(e,t){t=t||{};var r=new i;n(e);for(var o=0;o<e.length;o++)r.append(e[o]);return t.type?r.getBlob(t.type):r.getBlob()}function o(e,t){return n(e),new Blob(e,t||{})}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,a=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(t){return!1}}(),s=a&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(t){return!1}}(),l=i&&i.prototype.append&&i.prototype.getBlob;t.exports=function(){return a?s?e.Blob:o:l?r:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],15:[function(e,t){function n(e){return e?r(e):void 0}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===t||r.fn===t){n.splice(o,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,o=n.length;o>r;++r)n[r].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],16:[function(e,t){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],17:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}}function s(){var e;try{e=n.storage.debug}catch(t){}return e}function l(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=i,n.formatArgs=o,n.save=a,n.load=s,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(s())},{"./debug":18}],18:[function(e,t,n){function r(){return n.colors[u++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(c||t);e.diff=i,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;s++;var o=n.formatters[r];if("function"==typeof o){var i=a[s];t=o.call(e,i),a.splice(s,1),s--}return t}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(e,a));var l=o.log||n.log||console.log.bind(console);l.apply(e,a)}t.enabled=!1,o.enabled=!0;var i=n.enabled(e)?o:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,o=0;r>o;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,r;for(t=0,r=n.skips.length;r>t;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;r>t;t++)if(n.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o,n.coerce=l,n.disable=a,n.enable=i,n.enabled=s,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var c,u=0},{ms:25}],19:[function(e,t,n){(function(t){function r(e,t){var r="b"+n.packets[e.type]+e.data.data;return t(r)}function o(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var o=e.data,i=new Uint8Array(o),a=new Uint8Array(1+o.byteLength);a[0]=v[e.type];for(var s=0;s<i.length;s++)a[s+1]=i[s];return r(a.buffer)}function i(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var o=new FileReader;return o.onload=function(){e.data=o.result,n.encodePacket(e,t,!0,r)},o.readAsArrayBuffer(e.data)}function a(e,t,r){if(!t)return n.encodeBase64Packet(e,r);if(m)return i(e,t,r);var o=new Uint8Array(1);o[0]=v[e.type];var a=new E([o.buffer,e.data]);return r(a)}function s(e,t,n){for(var r=new Array(e.length),o=f(e.length,n),i=function(e,n,o){t(n,function(t,n){r[e]=n,o(t,r)})},a=0;a<e.length;a++)i(a,e[a],o)}var l=e("./keys"),c=e("has-binary"),u=e("arraybuffer.slice"),d=e("base64-arraybuffer"),f=e("after"),p=e("utf8"),h=navigator.userAgent.match(/Android/i),g=/PhantomJS/i.test(navigator.userAgent),m=h||g;n.protocol=3;var v=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=l(v),y={type:"error",data:"parser error"},E=e("blob");n.encodePacket=function(e,n,i,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof i&&(s=i,i=null);var l=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&l instanceof ArrayBuffer)return o(e,n,s);if(E&&l instanceof t.Blob)return a(e,n,s);if(l&&l.base64)return r(e,s);var c=v[e.type];return void 0!==e.data&&(c+=i?p.encode(String(e.data)):String(e.data)),s(""+c)},n.encodeBase64Packet=function(e,r){var o="b"+n.packets[e.type];if(E&&e.data instanceof t.Blob){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];r(o+e)},i.readAsDataURL(e.data)}var a;try{a=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(s){for(var l=new Uint8Array(e.data),c=new Array(l.length),u=0;u<l.length;u++)c[u]=l[u];a=String.fromCharCode.apply(null,c)}return o+=t.btoa(a),r(o)},n.decodePacket=function(e,t,r){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(r)try{e=p.decode(e)}catch(o){return y}var i=e.charAt(0);return Number(i)==i&&b[i]?e.length>1?{type:b[i],data:e.substring(1)}:{type:b[i]}:y}var a=new Uint8Array(e),i=a[0],s=u(e,1);return E&&"blob"===t&&(s=new E([s])),{type:b[i],data:s}},n.decodeBase64Packet=function(e,n){var r=b[e.charAt(0)];if(!t.ArrayBuffer)return{type:r,data:{base64:!0,data:e.substr(1)}};var o=d.decode(e.substr(1));return"blob"===n&&E&&(o=new E([o])),{type:r,data:o}},n.encodePayload=function(e,t,r){function o(e){return e.length+":"+e}function i(e,r){n.encodePacket(e,a?t:!1,!0,function(e){r(null,o(e))})}"function"==typeof t&&(r=t,t=null);var a=c(e);return t&&a?E&&!m?n.encodePayloadAsBlob(e,r):n.encodePayloadAsArrayBuffer(e,r):e.length?void s(e,i,function(e,t){return r(t.join(""))}):r("0:")},n.decodePayload=function(e,t,r){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,r);"function"==typeof t&&(r=t,t=null);var o;if(""==e)return r(y,0,1);for(var i,a,s="",l=0,c=e.length;c>l;l++){var u=e.charAt(l);if(":"!=u)s+=u;else{if(""==s||s!=(i=Number(s)))return r(y,0,1);if(a=e.substr(l+1,i),s!=a.length)return r(y,0,1);if(a.length){if(o=n.decodePacket(a,t,!0),y.type==o.type&&y.data==o.data)return r(y,0,1);var d=r(o,l+i,c);if(!1===d)return}l+=i,s=""}}return""!=s?r(y,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){function r(e,t){n.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void s(e,r,function(e,n){var r=n.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),o=new Uint8Array(r),i=0;return n.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}o[i++]=t?0:1;for(var s=n.byteLength.toString(),a=0;a<s.length;a++)o[i++]=parseInt(s[a]);o[i++]=255;for(var r=new Uint8Array(n),a=0;a<r.length;a++)o[i++]=r[a]}),t(o.buffer)}):t(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(e,t){function r(e,t){n.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);e=r.buffer,n[0]=0}for(var i=e instanceof ArrayBuffer?e.byteLength:e.size,a=i.toString(),s=new Uint8Array(a.length+1),o=0;o<a.length;o++)s[o]=parseInt(a[o]);if(s[a.length]=255,E){var l=new E([n.buffer,s.buffer,e]);t(null,l)}})}s(e,r,function(e,n){return t(new E(n))})},n.decodePayloadAsBinary=function(e,t,r){"function"==typeof t&&(r=t,t=null);for(var o=e,i=[],a=!1;o.byteLength>0;){for(var s=new Uint8Array(o),l=0===s[0],c="",d=1;255!=s[d];d++){if(c.length>310){a=!0;break}c+=s[d]}if(a)return r(y,0,1);o=u(o,2+c.length),c=parseInt(c);var f=u(o,0,c);if(l)try{f=String.fromCharCode.apply(null,new Uint8Array(f))}catch(p){var h=new Uint8Array(f);f="";for(var d=0;d<h.length;d++)f+=String.fromCharCode(h[d])}i.push(f),o=u(o,c)}var g=i.length;i.forEach(function(e,o){r(n.decodePacket(e,t,!0),o,g)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./keys":20,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":21,utf8:29}],20:[function(e,t){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},{}],21:[function(e,t){(function(n){function r(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(o(e)){for(var r=0;r<e.length;r++)if(t(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return!0}return!1}return t(e)}var o=e("isarray");t.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:24}],22:[function(e,t){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){t.exports=!1}},{}],23:[function(e,t){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},{}],24:[function(e,t){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],25:[function(e,t){function n(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*l;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function r(e){return e>=c?Math.round(e/c)+"d":e>=l?Math.round(e/l)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return i(e,c,"day")||i(e,l,"hour")||i(e,s,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,l=60*s,c=24*l,u=365.25*c;t.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t.long?o(e):r(e)}},{}],26:[function(e,t){(function(e){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,s=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(a,"").replace(s,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(r,"@").replace(o,"]").replace(i,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],27:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),r=0,o=n.length;o>r;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},{}],28:[function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,o=e.indexOf("["),i=e.indexOf("]");-1!=o&&-1!=i&&(e=e.substring(0,o)+e.substring(o,i).replace(/:/g,";")+e.substring(i,e.length));for(var a=n.exec(e||""),s={},l=14;l--;)s[r[l]]=a[l]||"";return-1!=o&&-1!=i&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},{}],29:[function(t,n,r){(function(t){!function(o){function i(e){for(var t,n,r=[],o=0,i=e.length;i>o;)t=e.charCodeAt(o++),t>=55296&&56319>=t&&i>o?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function a(e){for(var t,n=e.length,r=-1,o="";++r<n;)t=e[r],t>65535&&(t-=65536,o+=E(t>>>10&1023|55296),t=56320|1023&t),o+=E(t);return o}function s(e){if(e>=55296&&57343>=e)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function l(e,t){return E(e>>t&63|128)}function c(e){if(0==(4294967168&e))return E(e);var t="";return 0==(4294965248&e)?t=E(e>>6&31|192):0==(4294901760&e)?(s(e),t=E(e>>12&15|224),t+=l(e,6)):0==(4292870144&e)&&(t=E(e>>18&7|240),t+=l(e,12),t+=l(e,6)),t+=E(63&e|128)}function u(e){for(var t,n=i(e),r=n.length,o=-1,a="";++o<r;)t=n[o],a+=c(t);return a}function d(){if(y>=b)throw Error("Invalid byte index");var e=255&v[y];if(y++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function f(){var e,t,n,r,o;if(y>b)throw Error("Invalid byte index");if(y==b)return!1;if(e=255&v[y],y++,0==(128&e))return e;if(192==(224&e)){var t=d();if(o=(31&e)<<6|t,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=d(),n=d(),o=(15&e)<<12|t<<6|n,o>=2048)return s(o),o;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=d(),n=d(),r=d(),o=(15&e)<<18|t<<12|n<<6|r,o>=65536&&1114111>=o))return o;throw Error("Invalid UTF-8 detected")}function p(e){v=i(e),b=v.length,y=0;for(var t,n=[];(t=f())!==!1;)n.push(t);return a(n)}var h="object"==typeof r&&r,g="object"==typeof n&&n&&n.exports==h&&n,m="object"==typeof t&&t;(m.global===m||m.window===m)&&(o=m);var v,b,y,E=String.fromCharCode,_={version:"2.0.0",encode:u,decode:p};if("function"==typeof e&&"object"==typeof e.amd&&e.amd)e(function(){return _});else if(h&&!h.nodeType)if(g)g.exports=_;else{var w={},C=w.hasOwnProperty;for(var $ in _)C.call(_,$)&&(h[$]=_[$])}else o.utf8=_}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],30:[function(e,t){"use strict";function n(e){var t="";do t=a[e%s]+t,e=Math.floor(e/s);while(e>0);return t}function r(e){var t=0;for(u=0;u<e.length;u++)t=t*s+l[e.charAt(u)];return t}function o(){var e=n(+new Date);return e!==i?(c=0,i=e):e+"."+n(c++)}for(var i,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,l={},c=0,u=0;s>u;u++)l[a[u]]=u;o.encode=n,o.decode=r,t.exports=o},{}],31:[function(e,t,n){function r(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r=o(e),i=r.source,c=r.id,u=r.path,d=l[c]&&u in l[c].nsps,f=t.forceNew||t["force new connection"]||!1===t.multiplex||d;return f?(s("ignoring socket cache for %s",i),n=a(i,t)):(l[c]||(s("new io instance for %s",i),l[c]=a(i,t)),n=l[c]),n.socket(r.path)}var o=e("./url"),i=e("socket.io-parser"),a=e("./manager"),s=e("debug")("socket.io-client");t.exports=n=r;var l=n.managers={};n.protocol=i.protocol,n.connect=r,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":32,"./socket":34,"./url":35,debug:39,"socket.io-parser":47}],32:[function(e,t){function n(e,t){return this instanceof n?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new n(e,t)}var r=e("engine.io-client"),o=e("./socket"),i=e("component-emitter"),a=e("socket.io-parser"),s=e("./on"),l=e("component-bind"),c=e("debug")("socket.io-client:manager"),u=e("indexof"),d=e("backo2"),f=Object.prototype.hasOwnProperty;t.exports=n,n.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},n.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},i(n.prototype),n.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},n.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},n.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},n.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},n.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},n.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},n.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},n.prototype.open=n.prototype.connect=function(e){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=r(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var o=s(t,"open",function(){n.onopen(),e&&e()}),i=s(t,"error",function(t){if(c("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;c("connect attempt will timeout after %d",a);var l=setTimeout(function(){c("connect attempt timed out after %d",a),o.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(o),this.subs.push(i),this},n.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",l(this,"ondata"))),this.subs.push(s(e,"ping",l(this,"onping"))),this.subs.push(s(e,"pong",l(this,"onpong"))),this.subs.push(s(e,"error",l(this,"onerror"))),this.subs.push(s(e,"close",l(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",l(this,"ondecoded")))},n.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},n.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},n.prototype.ondata=function(e){this.decoder.add(e)},n.prototype.ondecoded=function(e){this.emit("packet",e)},n.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},n.prototype.socket=function(e){function t(){~u(r.connecting,n)||r.connecting.push(n)}var n=this.nsps[e];if(!n){n=new o(this,e),this.nsps[e]=n;var r=this;n.on("connecting",t),n.on("connect",function(){n.id=r.engine.id}),this.autoConnect&&t()}return n},n.prototype.destroy=function(e){var t=u(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},n.prototype.packet=function(e){c("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},n.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},n.prototype.cleanup=function(){c("cleanup");for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},n.prototype.close=n.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},n.prototype.onclose=function(e){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},n.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(c("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},n.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":33,"./socket":34,backo2:36,"component-bind":37,"component-emitter":38,debug:39,"engine.io-client":1,indexof:42,"socket.io-parser":47}],33:[function(e,t){function n(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}t.exports=n},{}],34:[function(e,t,n){function r(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}var o=e("socket.io-parser"),i=e("component-emitter"),a=e("to-array"),s=e("./on"),l=e("component-bind"),c=e("debug")("socket.io-client:socket"),u=e("has-binary");t.exports=n=r;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=i.prototype.emit;i(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",l(this,"onopen")),s(e,"packet",l(this,"onpacket")),s(e,"close",l(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(d.hasOwnProperty(e))return f.apply(this,arguments),this;var t=a(arguments),n=o.EVENT;u(t)&&(n=o.BINARY_EVENT);var r={type:n,data:t};return r.options={},r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),delete this.flags,this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){c("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:o.CONNECT})},r.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:this.onevent(e);break;case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:this.onack(e);break;case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?f.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=a(arguments);c("sending ack %j",r);var i=u(r)?o.BINARY_ACK:o.ACK;t.packet({type:i,id:e,data:r})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)f.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},{"./on":33,"component-bind":37,"component-emitter":38,debug:39,"has-binary":41,"socket.io-parser":47,"to-array":51}],35:[function(e,t){(function(n){function r(e,t){var r=e,t=t||n.location;null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"==e.charAt(0)&&(e="/"==e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),r=o(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var a=-1!==r.host.indexOf(":"),s=a?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port,r.href=r.protocol+"://"+s+(t&&t.port==r.port?"":":"+r.port),r}var o=e("parseuri"),i=e("debug")("socket.io-client:url");t.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{debug:39,parseuri:45}],36:[function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},{}],37:[function(e,t){var n=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},{}],38:[function(e,t){function n(e){return e?r(e):void 0}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===t||r.fn===t){n.splice(o,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,o=n.length;o>r;++r)n[r].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],39:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{"./debug":40,dup:17}],40:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18,ms:44}],41:[function(e,t){(function(n){function r(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(o(e)){for(var r=0;r<e.length;r++)if(t(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return!0}return!1}return t(e)}var o=e("isarray");t.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:43}],42:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],43:[function(e,t,n){arguments[4][24][0].apply(n,arguments)},{dup:24}],44:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],45:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],46:[function(e,t,n){(function(t){var r=e("isarray"),o=e("./is-buffer");n.deconstructPacket=function(e){function t(e){if(!e)return e;if(o(e)){var i={_placeholder:!0,num:n.length};return n.push(e),i
}if(r(e)){for(var a=new Array(e.length),s=0;s<e.length;s++)a[s]=t(e[s]);return a}if("object"==typeof e&&!(e instanceof Date)){var a={};for(var l in e)a[l]=t(e[l]);return a}return e}var n=[],i=e.data,a=e;return a.data=t(i),a.attachments=n.length,{packet:a,buffers:n}},n.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){var o=t[e.num];return o}if(r(e)){for(var i=0;i<e.length;i++)e[i]=n(e[i]);return e}if(e&&"object"==typeof e){for(var a in e)e[a]=n(e[a]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},n.removeBlobs=function(e,n){function i(e,l,c){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){a++;var u=new FileReader;u.onload=function(){c?c[l]=this.result:s=this.result,--a||n(s)},u.readAsArrayBuffer(e)}else if(r(e))for(var d=0;d<e.length;d++)i(e[d],d,e);else if(e&&"object"==typeof e&&!o(e))for(var f in e)i(e[f],f,e)}var a=0,s=e;i(s),a||n(s)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./is-buffer":48,isarray:43}],47:[function(e,t,n){function r(){}function o(e){var t="",r=!1;return t+=e.type,(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)&&(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(r=!0,t+=e.nsp),null!=e.id&&(r&&(t+=",",r=!1),t+=e.id),null!=e.data&&(r&&(t+=","),t+=d.stringify(e.data)),u("encoded %j as %s",e,t),t}function i(e,t){function n(e){var n=p.deconstructPacket(e),r=o(n.packet),i=n.buffers;i.unshift(r),t(i)}p.removeBlobs(e,n)}function a(){this.reconstructor=null}function s(e){var t={},r=0;if(t.type=Number(e.charAt(0)),null==n.types[t.type])return c();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){for(var o="";"-"!=e.charAt(++r)&&(o+=e.charAt(r),r!=e.length););if(o!=Number(o)||"-"!=e.charAt(r))throw new Error("Illegal attachments");t.attachments=Number(o)}if("/"==e.charAt(r+1))for(t.nsp="";++r;){var i=e.charAt(r);if(","==i)break;if(t.nsp+=i,r==e.length)break}else t.nsp="/";var a=e.charAt(r+1);if(""!==a&&Number(a)==a){for(t.id="";++r;){var i=e.charAt(r);if(null==i||Number(i)!=i){--r;break}if(t.id+=e.charAt(r),r==e.length)break}t.id=Number(t.id)}if(e.charAt(++r))try{t.data=d.parse(e.substr(r))}catch(s){return c()}return u("decoded %s as %j",e,t),t}function l(e){this.reconPack=e,this.buffers=[]}function c(){return{type:n.ERROR,data:"parser error"}}var u=e("debug")("socket.io-parser"),d=e("json3"),f=(e("isarray"),e("component-emitter")),p=e("./binary"),h=e("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=r,n.Decoder=a,r.prototype.encode=function(e,t){if(u("encoding packet %j",e),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)i(e,t);else{var r=o(e);t([r])}},f(a.prototype),a.prototype.add=function(e){var t;if("string"==typeof e)t=s(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new l(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!h(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=p.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":49,debug:39,isarray:43,json3:50}],48:[function(e,t){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],49:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],50:[function(t,n,r){(function(t){(function(){function o(e,t){function n(e){if(n[e]!==m)return n[e];var o;if("bug-string-char-index"==e)o="a"!="a"[0];else if("json"==e)o=n("json-stringify")&&n("json-parse");else{var a,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l=t.stringify,u="function"==typeof l&&y;if(u){(a=function(){return 1}).toJSON=a;try{u="0"===l(0)&&"0"===l(new r)&&'""'==l(new i)&&l(b)===m&&l(m)===m&&l()===m&&"1"===l(a)&&"[1]"==l([a])&&"[null]"==l([m])&&"null"==l(null)&&"[null,null,null]"==l([m,b,null])&&l({a:[a,!0,!1,null,"\x00\b\n\f\r	"]})==s&&"1"===l(null,a)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new c(-1))}catch(d){u=!1}}o=u}if("json-parse"==e){var f=t.parse;if("function"==typeof f)try{if(0===f("0")&&!f(!1)){a=f(s);var p=5==a.a.length&&1===a.a[0];if(p){try{p=!f('"	"')}catch(d){}if(p)try{p=1!==f("01")}catch(d){}if(p)try{p=1!==f("1.")}catch(d){}}}}catch(d){p=!1}o=p}}return n[e]=!!o}e||(e=l.Object()),t||(t=l.Object());var r=e.Number||l.Number,i=e.String||l.String,s=e.Object||l.Object,c=e.Date||l.Date,u=e.SyntaxError||l.SyntaxError,d=e.TypeError||l.TypeError,f=e.Math||l.Math,p=e.JSON||l.JSON;"object"==typeof p&&p&&(t.stringify=p.stringify,t.parse=p.parse);var h,g,m,v=s.prototype,b=v.toString,y=new c(-0xc782b5b800cec);try{y=-109252==y.getUTCFullYear()&&0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(E){}if(!n("json")){var _="[object Function]",w="[object Date]",C="[object Number]",$="[object String]",A="[object Array]",S="[object Boolean]",T=n("bug-string-char-index");if(!y)var k=f.floor,x=[0,31,59,90,120,151,181,212,243,273,304,334],N=function(e,t){return x[t]+365*(e-1970)+k((e-1969+(t=+(t>1)))/4)-k((e-1901+t)/100)+k((e-1601+t)/400)};if((h=v.hasOwnProperty)||(h=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=b?h=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,h=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,h.call(this,e)}),g=function(e,t){var n,r,o,i=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(o in r)h.call(r,o)&&i++;return n=r=null,i?g=2==i?function(e,t){var n,r={},o=b.call(e)==_;for(n in e)o&&"prototype"==n||h.call(r,n)||!(r[n]=1)||!h.call(e,n)||t(n)}:function(e,t){var n,r,o=b.call(e)==_;for(n in e)o&&"prototype"==n||!h.call(e,n)||(r="constructor"===n)||t(n);(r||h.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(e,t){var n,o,i=b.call(e)==_,s=!i&&"function"!=typeof e.constructor&&a[typeof e.hasOwnProperty]&&e.hasOwnProperty||h;for(n in e)i&&"prototype"==n||!s.call(e,n)||t(n);for(o=r.length;n=r[--o];s.call(e,n)&&t(n));}),g(e,t)},!n("json-stringify")){var M={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},I="000000",O=function(e,t){return(I+(t||0)).slice(-e)},P="\\u00",R=function(e){for(var t='"',n=0,r=e.length,o=!T||r>10,i=o&&(T?e.split(""):e);r>n;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=M[a];break;default:if(32>a){t+=P+O(2,a.toString(16));break}t+=o?i[n]:e.charAt(n)}}return t+'"'},D=function(e,t,n,r,o,i,a){var s,l,c,u,f,p,v,y,E,_,T,x,M,I,P,L;try{s=t[e]}catch(F){}if("object"==typeof s&&s)if(l=b.call(s),l!=w||h.call(s,"toJSON"))"function"==typeof s.toJSON&&(l!=C&&l!=$&&l!=A||h.call(s,"toJSON"))&&(s=s.toJSON(e));else if(s>-1/0&&1/0>s){if(N){for(f=k(s/864e5),c=k(f/365.2425)+1970-1;N(c+1,0)<=f;c++);for(u=k((f-N(c,0))/30.42);N(c,u+1)<=f;u++);f=1+f-N(c,u),p=(s%864e5+864e5)%864e5,v=k(p/36e5)%24,y=k(p/6e4)%60,E=k(p/1e3)%60,_=p%1e3}else c=s.getUTCFullYear(),u=s.getUTCMonth(),f=s.getUTCDate(),v=s.getUTCHours(),y=s.getUTCMinutes(),E=s.getUTCSeconds(),_=s.getUTCMilliseconds();s=(0>=c||c>=1e4?(0>c?"-":"+")+O(6,0>c?-c:c):O(4,c))+"-"+O(2,u+1)+"-"+O(2,f)+"T"+O(2,v)+":"+O(2,y)+":"+O(2,E)+"."+O(3,_)+"Z"}else s=null;if(n&&(s=n.call(t,e,s)),null===s)return"null";if(l=b.call(s),l==S)return""+s;if(l==C)return s>-1/0&&1/0>s?""+s:"null";if(l==$)return R(""+s);if("object"==typeof s){for(I=a.length;I--;)if(a[I]===s)throw d();if(a.push(s),T=[],P=i,i+=o,l==A){for(M=0,I=s.length;I>M;M++)x=D(M,s,n,r,o,i,a),T.push(x===m?"null":x);L=T.length?o?"[\n"+i+T.join(",\n"+i)+"\n"+P+"]":"["+T.join(",")+"]":"[]"}else g(r||s,function(e){var t=D(e,s,n,r,o,i,a);t!==m&&T.push(R(e)+":"+(o?" ":"")+t)}),L=T.length?o?"{\n"+i+T.join(",\n"+i)+"\n"+P+"}":"{"+T.join(",")+"}":"{}";return a.pop(),L}};t.stringify=function(e,t,n){var r,o,i,s;if(a[typeof t]&&t)if((s=b.call(t))==_)o=t;else if(s==A){i={};for(var l,c=0,u=t.length;u>c;l=t[c++],s=b.call(l),(s==$||s==C)&&(i[l]=1));}if(n)if((s=b.call(n))==C){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else s==$&&(r=n.length<=10?n:n.slice(0,10));return D("",(l={},l[""]=e,l),o,i,r,"",[])}}if(!n("json-parse")){var L,F,j=i.fromCharCode,H={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},q=function(){throw L=F=null,u()},U=function(){for(var e,t,n,r,o,i=F,a=i.length;a>L;)switch(o=i.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=T?i.charAt(L):i[L],L++,e;case 34:for(e="@",L++;a>L;)if(o=i.charCodeAt(L),32>o)q();else if(92==o)switch(o=i.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=H[o],L++;break;case 117:for(t=++L,n=L+4;n>L;L++)o=i.charCodeAt(L),o>=48&&57>=o||o>=97&&102>=o||o>=65&&70>=o||q();e+=j("0x"+i.slice(t,L));break;default:q()}else{if(34==o)break;for(o=i.charCodeAt(L),t=L;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++L);e+=i.slice(t,L)}if(34==i.charCodeAt(L))return L++,e;q();default:if(t=L,45==o&&(r=!0,o=i.charCodeAt(++L)),o>=48&&57>=o){for(48==o&&(o=i.charCodeAt(L+1),o>=48&&57>=o)&&q(),r=!1;a>L&&(o=i.charCodeAt(L),o>=48&&57>=o);L++);if(46==i.charCodeAt(L)){for(n=++L;a>n&&(o=i.charCodeAt(n),o>=48&&57>=o);n++);n==L&&q(),L=n}if(o=i.charCodeAt(L),101==o||69==o){for(o=i.charCodeAt(++L),(43==o||45==o)&&L++,n=L;a>n&&(o=i.charCodeAt(n),o>=48&&57>=o);n++);n==L&&q(),L=n}return+i.slice(t,L)}if(r&&q(),"true"==i.slice(L,L+4))return L+=4,!0;if("false"==i.slice(L,L+5))return L+=5,!1;if("null"==i.slice(L,L+4))return L+=4,null;q()}return"$"},B=function(e){var t,n;if("$"==e&&q(),"string"==typeof e){if("@"==(T?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=U(),"]"!=e;n||(n=!0))n&&(","==e?(e=U(),"]"==e&&q()):q()),","==e&&q(),t.push(B(e));return t}if("{"==e){for(t={};e=U(),"}"!=e;n||(n=!0))n&&(","==e?(e=U(),"}"==e&&q()):q()),(","==e||"string"!=typeof e||"@"!=(T?e.charAt(0):e[0])||":"!=U())&&q(),t[e.slice(1)]=B(U());return t}q()}return e},V=function(e,t,n){var r=W(e,t,n);r===m?delete e[t]:e[t]=r},W=function(e,t,n){var r,o=e[t];if("object"==typeof o&&o)if(b.call(o)==A)for(r=o.length;r--;)V(o,r,n);else g(o,function(e){V(o,e,n)});return n.call(e,t,o)};t.parse=function(e,t){var n,r;return L=0,F=""+e,n=B(U()),"$"!=U()&&q(),L=F=null,t&&b.call(t)==_?W((r={},r[""]=n,r),"",t):n}}}return t.runInContext=o,t}var i="function"==typeof e&&e.amd,a={"function":!0,object:!0},s=a[typeof r]&&r&&!r.nodeType&&r,l=a[typeof window]&&window||this,c=s&&a[typeof n]&&n&&!n.nodeType&&"object"==typeof t&&t;if(!c||c.global!==c&&c.window!==c&&c.self!==c||(l=c),s&&!i)o(l,s);else{var u=l.JSON,d=l.JSON3,f=!1,p=o(l,l.JSON3={noConflict:function(){return f||(f=!0,l.JSON=u,l.JSON3=d,u=d=null),p}});l.JSON={parse:p.parse,stringify:p.stringify}}i&&e(function(){return p})}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],51:[function(e,t){function n(e,t){var n=[];t=t||0;for(var r=t||0;r<e.length;r++)n[r-t]=e[r];return n}t.exports=n},{}]},{},[31])(31)});var slice=[].slice;!function(e,t){return"function"==typeof define&&null!=define.amd?define([],t):"undefined"!=typeof exports&&null!==exports?module.exports=t():e.UrlPattern=t()}(this,function(){var e,t,n,r,o,i,a,s,l,c,u,d,f,p,h;return l=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},a=function(e,t){var n,r,o;for(o=[],n=-1,r=e.length;++n<r;)o=o.concat(t(e[n]));return o},p=function(e,t){var n,r,o;for(o="",n=-1,r=e.length;++n<r;)o+=t(e[n]);return o},f=function(e){return new RegExp(e.toString()+"|").exec("").length-1},u=function(e,t){var n,r,o,i,a;for(i={},n=-1,o=e.length;++n<o;)r=e[n],a=t[n],null!=a&&(null!=i[r]?(Array.isArray(i[r])||(i[r]=[i[r]]),i[r].push(a)):i[r]=a);return i},e={},e.Result=function(e,t){this.value=e,this.rest=t},e.Tagged=function(e,t){this.tag=e,this.value=t},e.tag=function(t,n){return function(r){var o,i;return o=n(r),null!=o?(i=new e.Tagged(t,o.value),new e.Result(i,o.rest)):void 0}},e.regex=function(t){return function(n){var r,o;return r=t.exec(n),null!=r?(o=r[0],new e.Result(o,n.slice(o.length))):void 0}},e.sequence=function(){var t;return t=1<=arguments.length?slice.call(arguments,0):[],function(n){var r,o,i,a,s,l;for(r=-1,o=t.length,l=[],a=n;++r<o;){if(i=t[r],s=i(a),null==s)return;l.push(s.value),a=s.rest}return new e.Result(l,a)}},e.pick=function(){var t,n;return t=arguments[0],n=2<=arguments.length?slice.call(arguments,1):[],function(r){var o,i;return i=e.sequence.apply(e,n)(r),null!=i?(o=i.value,i.value=o[t],i):void 0}},e.string=function(t){var n;return n=t.length,function(r){return r.slice(0,n)===t?new e.Result(t,r.slice(n)):void 0}},e.lazy=function(e){var t;return t=null,function(n){return null==t&&(t=e()),t(n)}},e.baseMany=function(t,n,r,o,i){var a,s,l,c;for(l=i,c=r?"":[];;){if(null!=n&&(a=n(l),null!=a))break;if(s=t(l),null==s)break;r?c+=s.value:c.push(s.value),l=s.rest}return o&&0===c.length?void 0:new e.Result(c,l)},e.many1=function(t){return function(n){return e.baseMany(t,null,!1,!0,n)}},e.concatMany1Till=function(t,n){return function(r){return e.baseMany(t,n,!0,!0,r)}},e.firstChoice=function(){var e;return e=1<=arguments.length?slice.call(arguments,0):[],function(t){var n,r,o,i;for(n=-1,r=e.length;++n<r;)if(o=e[n],i=o(t),null!=i)return i}},d=function(t){var n;return n={},n.wildcard=e.tag("wildcard",e.string(t.wildcardChar)),n.optional=e.tag("optional",e.pick(1,e.string(t.optionalSegmentStartChar),e.lazy(function(){return n.pattern}),e.string(t.optionalSegmentEndChar))),n.name=e.regex(new RegExp("^["+t.segmentNameCharset+"]+")),n.named=e.tag("named",e.pick(1,e.string(t.segmentNameStartChar),e.lazy(function(){return n.name}))),n.escapedChar=e.pick(1,e.string(t.escapeChar),e.regex(/^./)),n["static"]=e.tag("static",e.concatMany1Till(e.firstChoice(e.lazy(function(){return n.escapedChar}),e.regex(/^./)),e.firstChoice(e.string(t.segmentNameStartChar),e.string(t.optionalSegmentStartChar),e.string(t.optionalSegmentEndChar),n.wildcard))),n.token=e.lazy(function(){return e.firstChoice(n.wildcard,n.optional,n.named,n["static"])}),n.pattern=e.many1(e.lazy(function(){return n.token})),n},s={escapeChar:"\\",segmentNameStartChar:":",segmentValueCharset:"a-zA-Z0-9-_~ %",segmentNameCharset:"a-zA-Z0-9",optionalSegmentStartChar:"(",optionalSegmentEndChar:")",wildcardChar:"*"},i=function(e,t){if(Array.isArray(e))return p(e,function(e){return i(e,t)});switch(e.tag){case"wildcard":return"(.*?)";case"named":return"(["+t+"]+)";case"static":return l(e.value);case"optional":return"(?:"+i(e.value,t)+")?"}},o=function(e,t){return null==t&&(t=s.segmentValueCharset),"^"+i(e,t)+"$"},r=function(e){if(Array.isArray(e))return a(e,r);switch(e.tag){case"wildcard":return["_"];case"named":return[e.value];case"static":return[];case"optional":return r(e.value)}},c=function(e,t,n,r){var o,i,a,s;if(null==r&&(r=!1),s=e[t],null!=s){if(o=n[t]||0,i=Array.isArray(s)?s.length-1:0,!(o>i))return a=Array.isArray(s)?s[o]:s,r&&(n[t]=o+1),a;if(r)throw new Error("too few values provided for key `"+t+"`")}else if(r)throw new Error("no values provided for key `"+t+"`")},n=function(e,t,r){var o,i;if(Array.isArray(e)){for(o=-1,i=e.length;++o<i;)if(n(e[o],t,r))return!0;return!1}switch(e.tag){case"wildcard":return null!=c(t,"_",r,!1);case"named":return null!=c(t,e.value,r,!1);case"static":return!1;case"optional":return n(e.value,t,r)}},h=function(e,t,r){if(Array.isArray(e))return p(e,function(e){return h(e,t,r)});switch(e.tag){case"wildcard":return c(t,"_",r,!0);case"named":return c(t,e.value,r,!0);case"static":return e.value;case"optional":return n(e.value,t,r)?h(e.value,t,r):""}},t=function(e,n){var i,a,l,c,u;if(e instanceof t)return this.isRegex=e.isRegex,this.regex=e.regex,this.ast=e.ast,void(this.names=e.names);if(this.isRegex=e instanceof RegExp,"string"!=typeof e&&!this.isRegex)throw new TypeError("argument must be a regex or a string");if(this.isRegex){if(this.regex=e,null!=n){if(!Array.isArray(n))throw new Error("if first argument is a regex the second argument may be an array of group names but you provided something else");if(i=f(this.regex),n.length!==i)throw new Error("regex contains "+i+" groups but array of group names contains "+n.length);this.names=n}}else{if(""===e)throw new Error("argument must not be the empty string");if(u=e.replace(/\s+/g,""),u!==e)throw new Error("argument must not contain whitespace");if(a={escapeChar:(null!=n?n.escapeChar:void 0)||s.escapeChar,segmentNameStartChar:(null!=n?n.segmentNameStartChar:void 0)||s.segmentNameStartChar,segmentNameCharset:(null!=n?n.segmentNameCharset:void 0)||s.segmentNameCharset,segmentValueCharset:(null!=n?n.segmentValueCharset:void 0)||s.segmentValueCharset,optionalSegmentStartChar:(null!=n?n.optionalSegmentStartChar:void 0)||s.optionalSegmentStartChar,optionalSegmentEndChar:(null!=n?n.optionalSegmentEndChar:void 0)||s.optionalSegmentEndChar,wildcardChar:(null!=n?n.wildcardChar:void 0)||s.wildcardChar},c=d(a),l=c.pattern(e),null==l)throw new Error("couldn't parse pattern");if(""!==l.rest)throw new Error("could only partially parse pattern");this.ast=l.value,this.regex=new RegExp(o(this.ast,a.segmentValueCharset)),this.names=r(this.ast)}},t.prototype.match=function(e){var t,n;return n=this.regex.exec(e),null==n?null:(t=n.slice(1),this.names?u(this.names,t):t)},t.prototype.stringify=function(e){if(null==e&&(e={}),this.isRegex)throw new Error("can't stringify patterns generated from a regex");if(e!==Object(e))throw new Error("argument must be an object or undefined");return h(this.ast,e,{})},t.escapeForRegex=l,t.concatMap=a,t.stringConcatMap=p,t.regexGroupCount=f,t.keysAndValuesToObject=u,t.P=e,t.newParser=d,t.defaultOptions=s,t.astNodeToRegexString=o,t.astNodeToNames=r,t.getParam=c,t.astNodeContainsSegmentsForProvidedParams=n,t.stringify=h,t}),function(){"use strict";window.i18n={en:{},ru:{}},angular.module("freelook.info",["fli.core","fli.uix","fli.views","fli.home","fli.search","fli.look","fli.show","fli.feedback","fli.token"]).config(["$locationProvider","$httpProvider","$routeProvider","$mdThemingProvider","$translateProvider","platformProvider",function(e,t,n,r,o,i){e.html5Mode({enabled:!i.isChromeApp(),requireBase:!1}),e.hashPrefix("!"),t.interceptors.push("loaderInterceptor"),r.theme("default").primaryPalette("indigo"),o.useSanitizeValueStrategy("escapeParameters"),o.translations("en",window.i18n.en),o.translations("ru",window.i18n.ru),o.preferredLanguage("en"),n.otherwise({redirectTo:function(){return"/"+window.location.search}})}]).run(["$rootScope","cache","platform","splash","analytics","scroll","io","user",function(e,t,n,r,o,i,a,s){e.fli={},t.init(),r.hide(),n.init(),o.init(),i.init(),s.init()}])}(),function(){"use strict";window.i18n.en.index={},window.i18n.ru.index={},angular.module("freelook.info").controller("index.ctrl",["$rootScope","index","url","locales","platform","CONFIG",function(e,t,n,r,o,i){e.fli.filter=1,e.fli.locales=r,e.fli.platform=o.name(),e.fli.config=i,e.fli.fix=t.fix,e.link=n.link,e.location=n.location,e.decode=n.decode,e.go=t.go,e.is=t.is,e.href=t.href,e.trust=t.trust}]).constant("I18N",{DEFAULT_TITLE:"index.title",DEFAULT_DESCRIPTION:"index.description",CUSTOM_DESCRIPTION:"index.customDescription",FLI_POSTFIX:"index.fliPostfix"})}(),angular.module("freelook.info").factory("index",["$rootScope","$sce","$route","$routeParams","$timeout","$mdMedia","$translate","$location","url","I18N",function(e,t,n,r,o,i,a,s,l,c){function u(){e.fli.title=r.input?decodeURIComponent(r.input)+a.instant(c.FLI_POSTFIX):a.instant(c.DEFAULT_TITLE),e.fli.description=r.input?a.instant(c.CUSTOM_DESCRIPTION)+decodeURIComponent(r.input):a.instant(c.DEFAULT_DESCRIPTION),e.fli.route=r||{},e.fli.media=i,e.fli.view="",e.fli.focus=0}function d(){n.reload()}function f(e){if(e)switch(typeof e){case"string":return"http"===e.substr(0,4)?l.location(e):o(function(){s.url(e)});case"object":return n.updateParams(e)}}function p(e,t){return e&&t?new RegExp(t).test(e):!1}function h(e){return l.href("",{l:e},!0)}function g(e){return t.trustAsResourceUrl(e)}function m(e){var t=l.decode(e);return"//"===t.substr(0,2)?"http:"+t:t}return{init:u,reload:d,go:f,is:p,href:h,trust:g,fix:m}}]),function(){"use strict";window.i18n.ru.core={},window.i18n.en.core={},angular.module("fli.core",["ngAnimate","ngSanitize","ngCookies","ngRoute","ngMaterial","pascalprecht.translate","angular-cache","mediaPlayer"])}(),angular.module("freelook.info").factory("analytics",["$window","$rootScope","$location",function(e,t,n){function r(){!function(e,t,n,r,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=r,a.parentNode.insertBefore(i,a)}(e,document,"script","https://www.google-analytics.com/analytics.js","ga"),e.ga("create","UA-57893328-1","auto"),t.$on("$routeChangeSuccess",function(){e.ga&&e.ga("send","pageview",{page:decodeURIComponent(n.url())})})}return{init:r}}]),angular.module("freelook.info").factory("cache",["$http","CacheFactory",function(e,t){function n(){e.defaults.cache=t("defaults",{maxAge:36e5,deleteOnExpire:"aggressive",storageMode:"sessionStorage"})}return{init:n}}]),angular.module("freelook.info").factory("Firebase",["$window","CONFIG",function(e,t){function n(n){return new e.Firebase([t.API.FIREBASE.URL,n||""].join(""))}return{ref:n}}]),angular.module("freelook.info").factory("io",["$rootScope","$window","$cookies","CONFIG",function(e,t,n,r){var o=t.io&&t.io.connect(r.API.SOCKET),i={socket:o,on:function(t,n){return o&&o.on(t,function(){var t=arguments;e.$apply(function(){n.apply(o,t)})})},emit:function(t,n,r){return o&&o.emit(t,n,function(){var t=arguments;e.$apply(function(){r&&r.apply(o,t)})})}};return i.on("id",function(e){i.id=e,n.put("socket",e)}),i}]),angular.module("freelook.info").factory("loaderInterceptor",["$q","$rootScope",function(e,t){function n(){return o>0}function r(e){t.fli.progress=e}var o=0;return t.$on("$routeChangeStart",function(){o=0,r(!1)}),{request:function(t){return o++,r(n()),t||e.when(t)},response:function(t){return--o,r(n()),t||e.when(t)},responseError:function(t){return--o,r(n()),e.reject(t)}}}]),angular.module("freelook.info").factory("nav",["$location","locale","LINKS",function(e,t,n){function r(n){e.path(n).search({l:t.getCode()})}function o(){r(n.HOME)}return{go:r,goHome:o}}]).constant("LINKS",{HOME:"/"}),angular.module("freelook.info").factory("parser",["$window",function(e){var t=new e.DOMParser;return t}]),angular.module("freelook.info").factory("prerender",["$window","$q","$http","$timeout","api","inAppBrowser","platform","CONFIG",function(e,t,n,r,o,i,a,s){function l(e){return n.get(s.PRERENDER.URL+encodeURIComponent(e))}function c(e){return o.proxy(s.PRERENDER.PRODUCTION+e,{cache:!0})}function u(e){var n=t.defer(),o=$("#prerender").attr("src",e);return o.on("loadstop",function(){o&&o.length&&r(function(){o[0].executeScript({code:"document.documentElement.innerHTML"},function(e){return e&&e.length?n.resolve(e[0]):void 0})},1e3)}),o.on("loadabort",function(e){return n.reject(e)}),n.promise}function d(e){var n=t.defer(),o=i.open(e,"location=yes,hidden=yes");return o.addEventListener("loadstop",function(){r(function(){o.executeScript({code:"document.documentElement.innerHTML"},function(e){return e&&e.length?(o.close(),n.resolve(e[0])):void 0})},1e3)}),o.addEventListener("loaderror",function(e){return o.close(),n.reject(e)}),n.promise}return{get:l,cache:c,local:"chrome"===a.name()?u:d}}]),angular.module("freelook.info").factory("url",["$window","$rootScope","$location","platform","inAppBrowser",function(e,t,n,r,o){function i(t){var n=e.document.createElement("a");return n.href=t,n}function a(t,n){var r=new e.UrlPattern(t);return r.match(n)||{}}function s(e){var t={};return e.replace(/([^?=&]+)(=([^&]*))?/g,function(e,n,r,o){t[n]=o}),t}function l(e,t){var n=new RegExp("[?&]"+e+"=([^&]*)").exec(t);return n&&decodeURIComponent(n[1].replace(/\+/g," "))}function c(e,r,o,i){var a=t.fli.route,s=n.path().slice(1),l=e||s+"?",c=r||{},u=i||p,d=u+l;return o&&~l.indexOf(s)&&!angular.equals(a,{})?angular.forEach(a,function(e,t){d+=t+"="+(c[t]||e)+"&"}):angular.forEach(c,function(e,t){(e||""===e)&&(d+=t+"="+e+"&")}),"&"===d.charAt(d.length-1)?d.slice(0,-1):d}function u(t,n){t&&("mobile"!==r.name()?e.open(t,n?"_self":"_blank"):o.open(t))}function d(t){t&&(e.location.href=t)}function f(e){return e?decodeURIComponent(e):""}var p=r.getOrigin();return{parse:i,href:c,extract:a,qToObj:s,qByName:l,link:u,location:"chrome"!==r.name()?d:u,decode:f}}]),function(){"use strict";window.i18n.ru.feedback={},window.i18n.en.feedback={},angular.module("fli.feedback",[]).config(["$routeProvider",function(e){e.when("/feedback",{templateUrl:"components/feedback/feedback.html",controller:"feedback.ctrl",controllerAs:"feedback"})}])}(),angular.module("fli.feedback").controller("feedback.ctrl",["$rootScope","$routeParams","$location","$scope","$translate","index","locale",function(e,t,n,r,o,i,a){n.search({l:a.init(t.l),type:t.type}).hash("").replace(),o.use(a.getLng()),e.fli.icon="comments-o",i.init()}]),function(){"use strict";window.i18n.ru.home={},window.i18n.en.home={},angular.module("fli.home",[]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"components/home/home.html",controller:"home.ctrl"})}])}(),angular.module("fli.home").controller("home.ctrl",["$rootScope","$routeParams","$location","$scope","$translate","index","locale",function(e,t,n,r,o,i,a){n.search({l:a.init(t.l),input:t.input,type:t.type,sub:t.sub,url:t.url,img:t.img}).hash("").replace(),o.use(a.getLng()),e.fli.icon="eye-slash",i.init()}]),function(){"use strict";window.i18n.ru.look={},window.i18n.en.look={},angular.module("fli.look",[]).constant("LOOK_KEY","FLI:LOOK")}(),function(){"use strict";window.i18n.ru.search={},window.i18n.en.search={},angular.module("fli.search",[]).run(["promo",function(e){e.init()}])}(),function(){"use strict";window.i18n.ru.show={},window.i18n.en.show={},angular.module("fli.show",[]).config(["$routeProvider",function(e){e.when("/show/:id?",{templateUrl:"components/show/show.html",controller:"show.ctrl"})}])}(),angular.module("fli.show").controller("show.ctrl",["$rootScope","$routeParams","$location","$scope","$translate","index","locale",function(e,t,n,r,o,i,a){n.search({l:a.init(t.l),input:t.input}).hash("").replace(),o.use(a.getLng()),e.fli.icon="plus",i.init(),e.fli.route.url=t.input}]),angular.module("fli.token",[]).config(["$routeProvider",function(e){e.when("/token/chrome",{template:"<fli-logo></fli-logo>",controller:"chrome.token.ctrl"})}]),angular.module("fli.token").controller("chrome.token.ctrl",["$routeParams","token","auth",function(e,t,n){function r(){var o=n.data();o.uid&&o.provider===e.provider?t.sendToChrome({provider:o.provider,token:o[o.provider].accessToken}):n.logIn(e.provider).then(r)}r()}]),angular.module("fli.token").factory("token",["$window","platform",function(e,t){function n(n){t.sendToChrome(n).finally(function(){e.close()})}return{sendToChrome:n}}]),function(){"use strict";window.i18n.ru.uix={},window.i18n.en.uix={},angular.module("fli.uix",[])}(),function(){"use strict";window.i18n.ru.views={},window.i18n.en.views={},angular.module("fli.views",[])}(),window.i18n.en.index={title:"FLI - free look at information",description:"Your personal information filter",customDescription:"FLI - free look at ",fliPostfix:" | FLI",context:"",input:{placeholder:"# type to look",menu:{back:"back",hide:"hide",forward:"forward",home:"home",add:"add",search:"search"},note:{needLogin:"Need login"}},footer:{feedback:"feedback",donate:"donate",locale:"locale",help:"Help us grow","with":"with"},core:{uix:{item:{lookIt:"Look it - {{v}}",search:"Search - {{v}}",share:"Share - {{v}}",goTo:"Go to - {{v}}",getIt:"Get it",clearIt:"Clear it",edit:{image:"Link to image",title:"Title",content:"Content"}},setting:{locale:"Locale",notice:"Notice",logIn:"Log in",app:"Use all features and speed up the work with application",login:{email:"Email",password:"Password",reset:"Reset password",resetToast:"Please check your email for reset password"}},toast:{error:"Something went wrong",added:"Item was added"},share:{link:"link"}}}},window.i18n.ru.index={title:"FLI - свободный взгляд на информацию",description:"Твой персональный информационный фильтр",customDescription:"FLI - свободный взгляд на ",fliPostfix:" | FLI",input:{placeholder:"# введи и смотри",menu:{back:"назад",hide:"скрыть",forward:"вперед",home:"главная",add:"добавить",search:"поиск"},note:{needLogin:"Необходим логин"}},footer:{feedback:"связь",donate:"донат",locale:"локаль",help:"Помогите нам стать лучше","with":"мы"},core:{uix:{item:{lookIt:"Смотреть - {{v}}",search:"Искать - {{v}}",share:"Расшарить - {{v}}",goTo:"Перейти - {{v}}",getIt:"Получить это",clearIt:"Удалить это",edit:{image:"Ссылка на картинку",title:"Заголовок",content:"Контент"}},setting:{locale:"Локаль",notice:"Извещение",logIn:"Вход",app:"Использовать все возможности и ускорить работу c приложением",login:{email:"Е-мейл",password:"Пароль",reset:"Cброс пароля",resetToast:"Пожалуйста, проверьте свою электронную почту для сброса пароля"}},toast:{error:"Что-то пошло не так",added:"Пост был добавлен"},share:{link:"ссылка"}}}},angular.module("freelook.info").factory("apiApp",["$q","$http","CONFIG",function(e,t,n){function r(e){return n.API.URL+e}function o(e){return t.get(r(e))}function i(e){return t.get(e)}function a(e){return i(e)}function s(e){return o("goods?q="+e)}function l(e){return o("facebook?q="+e)}function c(e){return o("vk?q="+e)}function u(e){return o("yandex/"+e)}function d(e){return o("instagram?q="+e)}function f(e){return o("twitter?q="+e)}function p(e){return r("promo/"+e)}return{get:a,proxy:i,goods:s,facebook:l,vk:c,yandex:u,instagram:d,twitter:f,promo:p}}]),angular.module("freelook.info").factory("api",["platform","apiSite","apiApp",function(e,t,n){var r={site:t,chrome:n,mobile:n};return r[e.name()]}]),angular.module("freelook.info").factory("apiSite",["$q","$http","CONFIG",function(e,t,n){function r(e){return n.API.URL+e}function o(e){return t.get(r(e))}function i(e,t){var n=t&&t.cache?"/cache":"";return o("proxy"+n+"/"+decodeURIComponent(e))}function a(e){return i(e)}function s(e){return o("goods?q="+e)}function l(e){return o("facebook?q="+e)}function c(e){return o("vk?q="+e)}function u(e){return o("yandex/"+e)}function d(e){return o("instagram?q="+e)}function f(e){return o("twitter?q="+e)}function p(e){return r("promo/"+e)}return{get:a,proxy:i,goods:s,facebook:l,vk:c,yandex:u,instagram:d,twitter:f,promo:p}}]),angular.module("freelook.info").factory("auth",["platform","authSite","authChrome",function(e,t,n){var r={site:t,chrome:n};return r[e.name()]||r.site}]),angular.module("freelook.info").factory("authChrome",["user","url","Firebase","CONFIG",function(e,t,n,r){function o(e){n.ref("users").child(e.uid).child("authData").set(e)}function i(e){window.chrome.runtime.onMessage.addListener(function(e){s.authWithOAuthToken(e.provider,e.token).then(function(e){o(e)
})}),t.link(r.SITE.ORIGIN+"token/chrome?provider="+e)}function a(){return s.unauth()}var s=n.ref();return s.onAuth(function(){e.init()}),{logIn:i,logOut:a,data:e.authData}}]),angular.module("freelook.info").factory("authSite",["user","Firebase",function(e,t){function n(e){t.ref("users").child(e.uid).child("authData").set(e)}function r(e){return i.authWithOAuthPopup(e).then(function(e){n(e)})}function o(){return i.unauth()}var i=t.ref();return i.onAuth(function(){e.init()}),{logIn:r,logOut:o,data:e.authData}}]);var CONFIG={PRODUCTION:"http://freelook.info/",API:{SOCKET:"http://freelook.info:4000",URL:"http://freelook.info/api/",GOOGLE:{KEY:"AIzaSyApeXU8AqzpzVPhXgUQqBJS2A7u1WqCNvU"},VK:{ID:"4588210"},FB:{ID:"846841298681206",VERSION:"v2.5"},FIREBASE:{URL:"https://freelook.firebaseio.com/"}},PRERENDER:{URL:"http://freelook.info/prerender/",PRODUCTION:"http://freelook.info/prerender/"},SITE:{ORIGIN:"http://freelook.info/"},CHROME:{ORIGIN:"/",ID:"jlpjaecnenjbpkbcpnocbeibjokkbnhj"},MOBILE:{ORIGIN:"/"}};angular.module("freelook.info").constant("CONFIG",CONFIG),angular.module("freelook.info").factory("inAppBrowser",["$window",function(e){function t(t,n){var r=n||"location=yes";return e.cordova&&e.cordova.InAppBrowser?e.cordova.InAppBrowser.open(t,"_blank",r):e.open(t,"_blank",r)}return{open:t}}]),angular.module("freelook.info").factory("splash",["$window","$parse",function(e,t){function n(){t("navigator.splashscreen.hide")(e)&&e.navigator.splashscreen.hide()}return{hide:n}}]),angular.module("fli.core").provider("platform",function(){function e(){return!!(window.chrome&&window.chrome.runtime&&window.chrome.runtime.getBackgroundPage)}function t(){return!!window._cordovaNative}function n(n,r,o,i,a,s){function l(){p[c()]()}function c(){return f?f:f=e()?"chrome":t()?"mobile":"site"}function u(){var e=c().toUpperCase();return s[e].ORIGIN}function d(e){return r("chrome.runtime.sendMessage")(n)?a(function(t,r){n.chrome.runtime.sendMessage(s.CHROME.ID,e,function(e){return e?t(e):r(e)})}):a.reject()}var f="",p={chrome:function(){n.chrome.runtime.getBackgroundPage(function(e){var t=r("params.url")(e)||"",a=t.split(s.PRODUCTION).splice(1)[0];a&&i(function(){o.go("/"+a)}),n.Firebase&&n.Firebase.INTERNAL&&n.Firebase.INTERNAL.forceWebSockets()})},site:angular.noop,mobile:angular.noop};return{init:l,name:c,getOrigin:u,sendToChrome:d}}return n.$inject=["$window","$parse","$rootScope","$timeout","$q","CONFIG"],{$get:n,isChromeApp:e,isMobileApp:t}}),angular.module("freelook.info").factory("chromeStorage",["$window","$q",function(e,t){function n(n){var r=t.defer();return e.chrome.storage.local.get(n,function(e){return r.resolve(e||null)}),r.promise}function r(t,n){var r={};r[t]=n,e.chrome.storage.local.set(r)}return{getItem:n,setItem:r}}]),angular.module("freelook.info").factory("customStorage",["platform","chromeStorage",function(e,t){function n(n){"chrome"===e.name()&&(n?a&&t.setItem("data",n):t.getItem("data").then(function(e){e&&e.data&&(angular.extend(i,e.data),a=!0)}))}function r(e){return i[e]||null}function o(e,t){i[e]=t,n(i)}var i={},a=!1;return n(),{getItem:r,setItem:o}}]),angular.module("freelook.info").factory("localStorage",["$window","platform",function(e,t){return"chrome"!==t.name()?e.localStorage:null}]),angular.module("freelook.info").factory("storage",["$window","localStorage","customStorage",function(e,t,n){function r(t,n){var r=s.getItem(t)||null;try{r&&(r=e.JSON.parse(r))}catch(o){console.log("Couldn't get "+t)}return null!==r?r:n||""}function o(e,t){try{s.setItem(e,JSON.stringify(t))}catch(n){console.log("Couldn't store "+e+" with value "+t)}}function i(e,t,n){var i=r(e,[]);return i.some(function(e){return angular.equals(t.url,e.url)})||(i.unshift(t),i.length>n&&i.pop(),o(e,i)),i}function a(e,t){var n=r(e,[]),i=n.filter(function(e){return!angular.equals(t,e)});return o(e,i),i}var s;try{s=t||n}catch(l){s=n}return{get:r,set:o,arr:{push:i,clearItem:a}}}]),angular.module("freelook.info").factory("user",["$rootScope","$cookies","$timeout","$q","Firebase",function(e,t,n,r,o){function i(t){n(function(){e.fli.user=t})}function a(){return l().then(function(e){return t.put("token",s().token),i(e.val()),e}).catch(function(e){return i(),r.reject(e)})}function s(){return o.ref().getAuth()||{}}function l(){var e=s().uid;return e?o.ref("users").child(e).once("value"):r.reject()}return{init:a,authData:s,current:l}}]),function(e){var t=e.prototype,n=t.parseFromString;try{if((new e).parseFromString("","text/html"))return}catch(r){}t.parseFromString=function(e,t){if(/^\s*text\/html\s*(?:;|$)/i.test(t)){var r=window.document.implementation.createHTMLDocument("");return e.toLowerCase().indexOf("<!doctype")>-1?r.documentElement.innerHTML=e:r.body.innerHTML=e,r}return n.apply(this,arguments)}}(window.DOMParser),angular.module("freelook.info").filter("duration",function(){return function(e,t){var n="sec"===t?e:Math.floor(e/1e3),r=3600,o=60,i=Math.floor(n/r),a=Math.floor(n%r/o),s=Math.floor(n%o);return 10>s&&(s="0"+s),10>i&&(i="0"+i),10>a&&(a="0"+a),i+":"+a+":"+s}}),angular.module("freelook.info").directive("fliBindCompile",["$compile",function(e){return function(t,n,r){var o=t.$watch(function(){return t.$eval(r.fliBindCompile)},function(r){n.html(r),e(n.contents())(t),o()})}}]),angular.module("freelook.info").directive("fliErr",["$http","$window",function(e,t){return function(n,r,o){function i(){$(r).after('<div class="md-card-image header"></div>').remove()}var a="";$(r).on("error",function(){var n=o.ngSrc||o.src;if(n){var s="//"===n.substr(0,2)?"http:"+n:n;a?i():e.get(s,{responseType:"blob"}).success(function(e){a=t.URL.createObjectURL(e),$(r).attr("src",a)}).error(function(){i()})}})}}]),angular.module("freelook.info").directive("fliHref",["$rootScope","platform",function(e,t){return function(n,r,o){function i(){s()}var a={site:function(){$(r).attr("href",o.fliHref)},chrome:function(){$(r).attr("href",o.fliHref).on("click",function(){e.go(o.fliHref)})}},s=a[t.name()]||a.site;o.$observe("fliHref",function(){i()})}}]),angular.module("freelook.info").directive("fliSubHideOnScroll",["$window","$timeout","$mdMedia",function(e,t,n){return function(r,o){function i(){n("sm")&&(l.scrollTop()>a?o.hide():o.show())}var a=300,s=null,l=$(e.document);l.scroll(function(){s&&(t.cancel(s),s=null),s=t(i,33)})}}]),angular.module("fli.feedback").controller("feedback.comments.ctrl",function(){var e=this;e.mail="mail@freelook.info",e.href="mailto:mail@freelook.info?subject=[FLI:feedback]"}),angular.module("fli.feedback").directive("fliFeedbackComments",function(){return{controller:"feedback.comments.ctrl",controllerAs:"comments",templateUrl:"components/feedback/comments/comments.html"}}),window.i18n.en.feedback={ideas:"Please do not hesitate to send your ideas, suggestions or feedback:"},window.i18n.ru.feedback={ideas:"Пожалуйста, не стесняйтесь, присылайте Ваши идеи, предложения или пожелания:"},window.i18n.en.home={},window.i18n.ru.home={},angular.module("fli.home").controller("home.widget.ctrl",["url","item",function(e,t){var n=this;n.search=t.search,n.href=t.href}]),angular.module("fli.home").directive("fliHomeWidget",function(){return{controller:"home.widget.ctrl",controllerAs:"widget",templateUrl:"components/home/widget/widget.html"}}),angular.module("fli.look").controller("look.content.ctrl",["$rootScope","$scope","$routeParams","$location","content","storage","LOOK_KEY","SUPPORTED_SITES","RICH_SKIP",function(e,t,n,r,o,i,a,s,l){var c=this;t.site=o.site(decodeURIComponent(e.fli.route.url))||{},c.supportedSites=s.join("|"),c.richSkip=l.join("|"),c.href=function(){return r.absUrl()},n.input&&n.url&&n.img&&i.arr.push(a,{input:n.input,type:n.type,sub:n.sub,url:n.url,img:n.img},24)}]).constant("SUPPORTED_SITES",["youtube","vk","facebook","instagram","pinterest"]).constant("RICH_SKIP",["freelook","vk","facebook","instagram","pinterest"]),angular.module("fli.look").directive("fliLookContent",function(){return{controller:"look.content.ctrl",controllerAs:"content",templateUrl:"components/look/content/content.html"}}),angular.module("fli.look").factory("content",["url",function(e){function t(t){var n=e.parse(decodeURIComponent(t))||{},r=e.extract("(:subdomain.):domain.:tld(/*)",n.hostname)||{};return angular.extend(n,r)}return{site:t}}]),window.i18n.en.look={},window.i18n.ru.look={},angular.module("fli.look").controller("look.suggest.ctrl",["$scope","url","google","item",function(e,t,n,r){function o(e){i.search=e||{}}var i=this;i.search={},i.href=r.href,e.site.host&&(e.fli.route.input?n.web("site:"+e.site.host+" "+e.fli.route.input).success(o):n.web("related:"+e.site.host).success(o))}]),angular.module("fli.search").directive("fliLookSuggest",function(){return{controller:"look.suggest.ctrl",controllerAs:"suggest",templateUrl:"components/look/suggest/suggest.html"}}),angular.module("fli.search").controller("search.chips.ctrl",["$scope",function(e){var t=this;t.items=[],t.remove=function(t){e.go(t.route)}}]),angular.module("fli.search").directive("fliSearchChips",function(){return{controller:"search.chips.ctrl",controllerAs:"chips",templateUrl:"components/search/chips/chips.html"}}),angular.module("fli.search").factory("chips",function(){return{types:[{type:"web"},{type:"people"},{type:"news"},{type:"actions"},{type:"goods"},{type:"images"},{type:"audio"},{type:"video"},{type:"promo"},{type:"job"}],subs:{web:[{sub:"google"},{sub:"facebook"},{sub:"vk"},{sub:"pinterest"},{sub:"linkedin"}],people:[{sub:"google"},{sub:"facebook"},{sub:"vk"},{sub:"twitter"},{sub:"linkedin"}],news:[],actions:[{sub:"twitter"},{sub:"vk"}],goods:[],images:[{sub:"google"},{sub:"instagram"},{sub:"twitter"}],audio:[],video:[{sub:"youtube"},{sub:"vk"}],promo:[],job:[{sub:"indeed"},{sub:"linkedin"}]}}}),window.i18n.en.search={tabs:{web:"web",people:"people",news:"news",actions:"actions",goods:"goods",images:"images",audio:"audio",video:"video",promo:"promo",job:"job"},menu:{lucky:"get lucky"},pinterest:{board:"Board"}},window.i18n.ru.search={tabs:{web:"веб",people:"люди",news:"новости",actions:"активности",goods:"товары",images:"картинки",audio:"аудио",video:"видео",promo:"промо",job:"работа"},menu:{lucky:"на удачу"},pinterest:{board:"Доска"}},angular.module("fli.search").directive("fliSearchMenu",function(){return{templateUrl:"components/search/menu/menu.html"}}),angular.module("fli.search").controller("search.result.ctrl",["$scope","item",function(e,t){var n=this;n.href=t.href,n.share=t.share,n.search=t.search}]),angular.module("fli.search").directive("fliSearchResult",function(){return{controller:"search.result.ctrl",controllerAs:"result",templateUrl:"components/search/result/result.html"}}),angular.module("fli.search").controller("search.suggest.ctrl",["$scope","item","google","suggest",function(e,t,n,r){function o(){r().then(function(e){i.suggested=e||[]})}var i=this;i.href=function(e){return t.href({input:e})},e.fli.route.input?n.autocomplete(e.fli.route.input).success(function(e){var t=e[1]||[];t.length?i.suggested=t:o()}).error(o):o()}]),angular.module("fli.search").directive("fliSearchSuggest",function(){return{controller:"search.suggest.ctrl",controllerAs:"suggest",templateUrl:"components/search/suggest/suggest.html"}}),angular.module("fli.search").factory("suggest",["$q","google",function(e,t){function n(e){var t=[];return $.each($($.parseHTML(e)).find("a"),function(e,n){var r=$(n).text()||"";r&&t.push(r)}),t}return function(){var r=e.defer();return t.trends().success(function(e){if(e&&e.responseData&&e.responseData.feed){var t=e.responseData.feed.entries||[],o=t[0]||{},i=o.content||"";return r.resolve(n(i))}return r.reject(e)}).error(function(e){return r.reject(e)}),r.promise}}]),window.i18n.en.show={input:{placeholder:"http:// add your link"},item:{form:{price:"price",per:"per",action:"action",click:"click",share:"share",like:"like",amount:"amount",total:"total"}},soon:"Will be soon... working on it"},window.i18n.ru.show={input:{placeholder:"http:// добавить ссылку"},item:{form:{price:"цена",per:"за",action:"действие",click:"клик",share:"репост",like:"лайк",amount:"кол-во",total:"итог"}},soon:"Будет скоро ... работаем над этим"},angular.module("fli.show").controller("show.input.ctrl",["$scope","url","locale",function(e,t,n){function r(){return{l:n.getCode(),input:e.fli.route.input?encodeURIComponent(decodeURIComponent(e.fli.route.input)):""}}var o=this;o.placeholder="show.input.placeholder",o.type="url",o.icon="plus",o.action="add",o.find=function(){e.fli.route.input&&e.go(t.href("show?",r(),!1,"/"))}}]),angular.module("fli.show").directive("fliShowInput",function(){return{controller:"show.input.ctrl",controllerAs:"showInput",templateUrl:"components/show/input/input.html"}}),angular.module("fli.show").controller("show.item.ctrl",["$scope","content",function(e,t){e.fli.route.input&&(e.site=t.site(e.fli.route.input))}]),angular.module("fli.show").directive("fliShowItem",function(){return{controller:"show.item.ctrl",controllerAs:"showItem",templateUrl:"components/show/item/item.html"}}),angular.module("fli.show").factory("PROMO",["user","Firebase",function(e,t){function n(){var t=o;return e.authData().uid&&(t=t.orderByChild("users/"+e.authData().uid).equalTo(null)),t.limitToFirst(24).once("value")}function r(e){return o.push(e)}var o=t.ref("promos");return{query:n,add:r}}]),angular.module("freelook.info").controller("apps.ctrl",function(){var e=this;e.chrome="https://chrome.google.com/webstore/detail/freelookinfo/jlpjaecnenjbpkbcpnocbeibjokkbnhj",e.android="https://play.google.com/store/apps/details?id=info.freelook"}),angular.module("freelook.info").directive("fliApps",function(){return{controller:"apps.ctrl",controllerAs:"apps",templateUrl:"components/uix/apps/apps.html"}}),angular.module("freelook.info").controller("donate.ctrl",function(){var e=this;e.url="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=RFP3HDDXV2NJS"}),angular.module("freelook.info").directive("fliDonate",function(){return{controller:"donate.ctrl",controllerAs:"donate",templateUrl:"components/uix/donate/donate.html"}}),angular.module("freelook.info").controller("footer.ctrl",["nav","url","locale","ABOUT_URL",function(e,t,n,r){var o=this;o.showLocalePanel=!1,o.about=r+"?lang="+n.getLng(),o.localeCode=n.getCode(),o.feedback=function(){e.go("feedback")},o.toggleLocalePanel=function(){o.showLocalePanel=!o.showLocalePanel}}]).constant("ABOUT_URL","http://about.freelook.info/"),angular.module("freelook.info").directive("fliFooter",function(){return{templateUrl:"components/uix/footer/footer.html",controller:"footer.ctrl",controllerAs:"footer"}}),angular.module("fli.uix").controller("help.ctrl",["$scope","$translate","locale","ABOUT_URL",function(e,t,n,r){var o=this,i=t.instant("uix.help.guide");o.link=r+"category/"+i+"/?lang="+n.getLng()}]),angular.module("fli.uix").directive("fliHelp",function(){return{controller:"help.ctrl",controllerAs:"help",templateUrl:"components/uix/help/help.html"}}),window.i18n.en.uix={help:{guide:"guide"}},window.i18n.ru.uix={help:{guide:"гид"}},angular.module("fli.uix").controller("input.ctrl",["$scope","index","url","locale","nav","setting","PLACEHOLDER",function(e,t,n,r,o,i,a){function s(){return{l:r.getCode(),input:e.fli.route.input,type:e.fli.route.type,sub:e.fli.route.sub}}var l=this,c="search";e.fli.focus=0,l.placeholder=a,l.type=c,l.icon=c,l.action=c,l.find=function(){e.go(n.href("?",s(),!1,"/"))},l.clear=function(){e.fli.route.input=null},l.close=function(){e.fli.view="",t.reload()},l.blur=function(){e.fli.focus=0},l.focus=function(){e.fli.focus=1},l.setting=function(){i.open()},l.filter=function(){e.fli.filter=1},l.home=function(){e.fli.focus?l.blur():e.fli.view?l.close():o.goHome()}}]).constant("PLACEHOLDER","index.input.placeholder"),angular.module("freelook.info").directive("fliInput",function(){return{templateUrl:"components/uix/input/input.html",controller:"input.ctrl",controllerAs:"input"}}),angular.module("freelook.info").controller("item.ctrl",["$rootScope",function(e){var t=this;t.fix=e.fli.fix}]),angular.module("freelook.info").directive("fliItem",function(){return{replace:!0,transclude:!0,controller:"item.ctrl",controllerAs:"fliItemCtrl",templateUrl:"components/uix/item/item.html"}}),angular.module("freelook.info").factory("item",["$rootScope","url","share","locale","CONFIG",function(e,t,n,r,o){function i(n,o){return t.href("?",{l:r.getCode(),input:n.input||e.fli.route.input||null,type:n.type||e.fli.route.type||null,sub:n.sub||e.fli.route.sub||null,url:n.url?encodeURIComponent(decodeURIComponent(n.url)):null,img:n.img?encodeURIComponent(decodeURIComponent(n.img)):null},!1,o)}function a(e){switch(typeof e){case"string":return n.url(e);case"object":return n.url(i(e,o.PRODUCTION))}}function s(e){return i({input:e})}return{href:i,share:a,search:s}}]),angular.module("freelook.info").directive("fliItemImg",function(){return{link:function(e,t){t.on("load",function(){var e=t.get(0)||{};e.naturalWidth<101&&$(t).closest("md-card.fli-item").addClass("small")})}}}),angular.module("freelook.info").factory("locale",["$window","storage","locales",function(e,t,n){function r(e){var r=i(),o=c(),a=n[e]||{},s=a.code||r||o;return s!==r&&t.set("locale",s),s}function o(){return n[i()]||{}}function i(){return t.get("locale")}function a(){return o().lng||n.us.lng}function s(){return o().pn||n.us.pn}function l(){return o().ned||n.us.ned}function c(){var t=e.navigator.userLanguage||e.navigator.language||"",r=t.split("-")[0].toLowerCase();return n[r]?r:n.us.code}return{init:r,get:o,getCode:i,getLng:a,getPnCode:s,getNedCodes:l,locales:n}}]),angular.module("freelook.info").constant("locales",{us:{code:"us",lng:"en",pn:"p1",ned:"us"},ru:{code:"ru",lng:"ru",pn:"p14",ned:"ru_ru"},ua:{code:"ua",lng:"ru",pn:"p35",ned:"ru_ua"},ca:{code:"ca",lng:"en",pn:"p13",ned:"ca"},fr:{code:"fr",lng:"en",pn:"p16",ned:"fr"},de:{code:"de",lng:"en",pn:"p15",ned:"de"},it:{code:"it",lng:"en",pn:"p27",ned:"it"},uk:{code:"uk",lng:"en",pn:"p9",ned:"uk"}}),angular.module("freelook.info").directive("fliLogo",function(){return{templateUrl:"components/uix/logo/logo.html"}}),angular.module("freelook.info").directive("fliPolyfill",["$parse",function(e){return function(t,n){var r=e("documentElement.style")(document)||{};angular.isUndefined(r.flex)&&angular.isUndefined(r.webkitFlex)&&angular.isUndefined(r.msFlex)&&$(n).addClass("polyfill")}}]),angular.module("freelook.info").directive("fliRating",function(){return{restrict:"EA",templateUrl:"components/uix/rating/fli.rating.html",scope:{rating:"=ngModel",max:"=?"},link:function(e){function t(){e.stars=[];for(var t=0;t<e.max;t++)e.stars.push({filled:t<e.rating})}e.max||(e.max=5),t()}}}),angular.module("freelook.info").factory("scroll",["$rootScope",function(e){function t(){$(document).scrollTop(0)}function n(){e.$on("$routeChangeStart",function(){t()})}return{init:n,top:t}}]),angular.module("freelook.info").factory("toast",["$mdToast","$translate","scroll",function(e,t,n){function r(r){a.content(t.instant(r)),n.top(),e.show(a)}function o(){r("index.core.uix.toast.error")}function i(){r("index.input.note.needLogin")}var a=e.simple().position("top");return{show:r,error:o,needLogin:i}}]),angular.module("freelook.info").directive("fliWelcome",function(){return{templateUrl:"components/uix/welcome/welcome.html"}}),angular.module("freelook.info").controller("setting.ctrl",function(){}),angular.module("freelook.info").directive("fliSetting",function(){return{controller:"setting.ctrl",controllerAs:"setting",templateUrl:"components/views/setting/setting.html"}}),angular.module("fli.views").factory("setting",["$rootScope",function(e){function t(){e.fli.view="components/views/setting/setting.view.html"}function n(){e.fli.view=""}return{open:t,close:n}}]),angular.module("freelook.info").controller("share.ctrl",["$scope","share",function(e,t){var n=this;t.run().then(function(e){n.link=e})}]),angular.module("freelook.info").directive("fliShare",function(){return{controller:"share.ctrl",controllerAs:"share",templateUrl:"components/views/share/share.html"}}),angular.module("freelook.info").factory("share",["$rootScope","$q","google","CONFIG",function(e,t,n,r){function o(t){a=t,e.fli.view="components/views/share/share.view.html"}function i(){var e=t.defer();return n.url.insert(a).success(function(t){if(t&&t.id){var n=t.id.split("goo.gl/").splice(1)[0];return e.resolve(r.PRODUCTION+"page?id="+n)}return e.reject(t)}),e.promise}var a="";return{url:o,run:i}}]),angular.module("freelook.info").factory("FB",["$window","$timeout","$q","locale","CONFIG",function(e,t,n,r,o){function i(){if(e.FB)return n.when(e.FB);var o=n.defer();return e.fbAsyncInit=function(){o.resolve(e.FB)},t(function(){var e,t="facebook-jssdk",n=document,o="script",i=n.getElementsByTagName(o)[0];n.getElementById(t)||(e=n.createElement(o),e.id=t,e.src="vendors/fb/"+r.getLng()+"/sdk.js",i.parentNode.insertBefore(e,i))},0),o.promise}function a(){i().then(function(e){e.init({xfbml:!0,version:o.API.FB.VERSION})})}return{init:i,xfbml:a}}]),angular.module("freelook.info").factory("facebook",["$http","$rootScope","$window","$q","api","url","FB","CONFIG","FB_API",function(e,t,n,r,o,i,a,s,l){function c(){a.init()}function u(e,n){var r=n||{},o=n.img||"",a=r.titleNoFormatting||r.title||"",l=r.contentNoFormatting||r.content||"";return"https://www.facebook.com/dialog/feed?app_id="+y+"&display=page&redirect_uri="+i.href("?",{input:t.fli.route.input},!1,s.PRODUCTION)+"&link="+e+"&name="+a+"&caption=FLI&description="+l+"&picture="+o}function d(e){var t=r.defer();return g(e).then(function(e){return e?f(e).success(function(e){return t.resolve(e)}).error(function(e){return t.reject(e)}):t.reject()}).catch(function(e){return t.reject(e)}),t.promise}function f(e){var t=encodeURIComponent(e+"?fli=1");return o.facebook(t)}function p(e){var t=encodeURIComponent("search?q="+e+"&type=page&limit=24");return o.facebook(t)}function h(e){var t=encodeURIComponent("search?q="+e+"&type=user&limit=24&fields=id,name,about,gender");return o.facebook(t)}function g(e){var t=r.defer();return o.proxy(e).success(function(e){var n=e||"",r=n.match(/profile_id=(.+?)&/i)||[],o=r[1]||"";return t.resolve(o)}).error(function(e){return t.reject(e)}),t.promise}function m(e,t){var n=t||"normal";return l+e+"/picture?type="+n}function v(e){var t=e||{},n=t.redirectUri||s.SITE.ORIGIN+"token";return i.location("https://www.facebook.com/dialog/oauth?client_id="+y+"&redirect_uri="+n+"&response_type=token&display=popup")}function b(e){var t=e||"";return"https://www.facebook.com/"+t}var y=s.API.FB.ID;return{init:c,logIn:v,share:u,user:d,pages:p,people:h,img:m,link:b}}]).constant("FB_API","https://graph.facebook.com/"),angular.module("freelook.info").factory("google",["platform","googleSite","googleChrome",function(e,t,n){var r={site:t,chrome:n,mobile:n};return r[e.name()]}]).constant("GAPI",{web:"https://www.googleapis.com/customsearch/v1element?key=AIzaSyCVAXiUzRYsML1Pv6RwSG1gunmMikTzQqY&cx=007077922014062052604:wiiu7xrm8yk&num=12&q=",image:"https://www.googleapis.com/customsearch/v1element?key=AIzaSyCVAXiUzRYsML1Pv6RwSG1gunmMikTzQqY&cx=007077922014062052604:wiiu7xrm8yk&num=12&searchtype=image&q=",autocomplete:"http://suggestqueries.google.com/complete/search?client=chrome&q=",random:"http://api.wordnik.com/v4/words.json/randomWord?api_key=a2a73e7b926c924fad7001ca3111acd55af2ffabf50eb4ae5",feeds:"https://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=24&q=",trends:"http://www.google.com/trends/hottrends/atom/hourly?pn=",news:"http://news.google.com/news?output=rss&q=",video:"https://ajax.googleapis.com/ajax/services/search/video?&v=1.0&rsz=8&q=",url:"https://www.googleapis.com/urlshortener/v1/url?key=",plus:"https://www.googleapis.com/plus/v1/"}),angular.module("freelook.info").factory("googleChrome",["$http","googleUrl","googlePlus","locale","GAPI",function(e,t,n,r,o){function i(t,n){if(t){var r=n||"web";return e.get(o[r]+t)}}function a(e){return i(e,"web")}function s(e){return i(e,"image")}function l(t){return e.get(o.autocomplete+t)}function c(){return e.get(o.random,{cache:!1})}function u(t){return e.get(o.feeds+encodeURIComponent(t))}function d(){return u(o.trends+r.getPnCode())}function f(e){return u(o.news+e+"&ned="+r.getNedCodes())}function p(t){return e.get(o.video+encodeURIComponent(t))}return{web:a,image:s,autocomplete:l,random:c,trends:d,news:f,video:p,url:t,plus:n}}]),angular.module("freelook.info").factory("googleSite",["$http","googleUrl","googlePlus","locale","GAPI",function(e,t,n,r,o){function i(t,n){if(t){var r=n||"web";return e.jsonp(o[r]+t+"&callback=JSON_CALLBACK")}}function a(e){return i(e,"web")}function s(e){return i(e,"image")}function l(t){return e.jsonp(o.autocomplete+t+"&callback=JSON_CALLBACK")}function c(){return e.jsonp(o.random+"&callback=JSON_CALLBACK",{cache:!1})}function u(t){return e.jsonp(o.feeds+encodeURIComponent(t)+"&callback=JSON_CALLBACK")}function d(){return u(o.trends+r.getPnCode())}function f(e){return u(o.news+e+"&ned="+r.getNedCodes())}function p(t){return e.jsonp(o.video+encodeURIComponent(t)+"&callback=JSON_CALLBACK")}return{web:a,image:s,autocomplete:l,random:c,trends:d,news:f,video:p,url:t,plus:n}}]),angular.module("freelook.info").factory("instagram",["$q","api",function(e,t){function n(e){return o(encodeURIComponent("tags/"+e+"/media/recent?fli=1"))}function r(e){return o(encodeURIComponent("users/"+e+"/media/recent?fli=1"))}function o(n){var r=e.defer();return t.instagram(n).success(function(e){var t=e&&e.data?e.data:[];return r.resolve(t.filter(function(e){return e&&"image"===e.type}))}).error(function(e){return r.reject(e)}),r.promise}function i(e){var n=encodeURIComponent("media/shortcode/"+e+"?fli=1");return t.instagram(n)}function a(t){var n=e.defer();return l(t).then(function(e){return e?s(e).success(function(e){return n.resolve(e)}).error(function(e){return n.reject(e)}):n.reject()}).catch(function(e){return n.reject(e)}),n.promise}function s(e){var n=encodeURIComponent("users/"+e+"?fli=1");return t.instagram(n)}function l(n){var r=e.defer();return t.proxy(n).success(function(e){var t=e||"",n=t.match(/"id":"(.+?)"/i)||[],o=n[1]||"";return r.resolve(o)}).error(function(e){return r.reject(e)}),r.promise}return{imageByTag:n,imageByUserId:r,mediaByCode:i,user:a}}]),angular.module("freelook.info").factory("linkedin",["$http","$q","api","parser","LINKEDIN_API",function(e,t,n,r,o){function i(e){return o.ENDPOINT+e}function a(e){return n.proxy(i(e))}function s(e){var t=[],n=r.parseFromString(e,"text/html"),o=$(n);return o.find("div.posts ul > li").each(function(e,n){var r=$(n),o=r.find("footer > div > h2 > a, .article-title > a");t.push({title:o.text(),url:o.attr("href"),img:r.find("header img").attr("data-delayed-url")||r.find(".article-container img").attr("data-delayed-url"),content:r.find("footer > div > p").text()||r.find(".article-snippet").text()})}),t}function l(e){var t=[],n=r.parseFromString(e,"text/html"),o=$(n);return o.find("div.professionals > ul > li, #profile").each(function(e,n){var r=$(n),i=r.find(".content > h3 > a");t.push({title:i.text()||o.find("#name").text(),url:i.attr("href")||o.find('link[rel="canonical"]').attr("href"),img:r.find(".profile-img > img").attr("src")||r.find(".profile-picture img").attr("data-delayed-url"),content:r.find(".content > .headline").text()||r.find(".headline.title").html()})}),t}function c(e){var t=[],n=r.parseFromString(e,"text/html"),o=$(n);return o.find("ul.search-results > li").each(function(e,n){var r=$(n),o=r.find(".job-title-link");t.push({title:o.text(),url:o.attr("href"),img:r.find("img.company-logo").attr("data-delayed-url"),content:r.find(".job-description").text(),company:r.find(".company-name-text").text()})}),t}function u(e){var n=t.defer();return a("topic/"+encodeURIComponent(decodeURIComponent(e))).success(function(e){n.resolve(s(e))}).error(function(e){n.reject(e)}),n.promise}function d(e){var n=t.defer(),r=e||"",o=r.split(" "),i=o[0]||"+",s=o[1]||"+";return a("pub/dir/"+i+"/"+s).success(function(e){n.resolve(l(e))}).error(function(e){n.reject(e)}),n.promise}function f(e){var n=t.defer();return a("jobs/search?keywords="+e).success(function(e){n.resolve(c(e))}).error(function(e){n.reject(e)}),n.promise}function p(e){return o.URL+e}return{posts:u,people:d,jobs:f,link:p}}]).constant("LINKEDIN_API",{ENDPOINT:"https://www.linkedin.com/"}),angular.module("freelook.info").factory("pinterest",["$http","$q","api","parser","PINTEREST_API",function(e,t,n,r,o){function i(e){return o.ENDPOINT+e}function a(t){return e.get(i(t))}function s(e){var t=[],n=r.parseFromString(e,"text/html"),o=$(n);return o.find(".GridItems .item").each(function(e,n){var r=$(n);t.push({title:r.find(".creditItem .creditTitle").text(),board:{url:r.find(".creditItem > a").attr("href"),img:r.find(".creditItem img").attr("data-src"),name:r.find(".creditItem .creditName").text()},img:r.find("img.pinImg").attr("src"),content:r.find(".pinMeta > .pinDescription").text(),url:r.find(".pinImageActionButtonWrapper > a").attr("href")})}),t}function l(e){var r=t.defer();return n.proxy(o.URL+"/search/pins/?q="+e).success(function(e){r.resolve(s(e))}).error(function(e){r.reject(e)}),r.promise}function c(e){return a("pidgets/users/"+e+"/pins/")}function u(e){return a("pidgets/boards"+e+"pins/")}function d(e){return o.URL+e}return{search:l,pins:c,boards:u,link:d}}]).constant("PINTEREST_API",{ENDPOINT:"https://api.pinterest.com/v3/",URL:"https://www.pinterest.com"}),angular.module("fli.search").factory("promo",["index","api","io","url",function(e,t,n,r){function o(){n.on("API",function(e){var t=a[e]||a.noop;t()})}function i(e){e&&r.link(t.promo("click?id="+e))}var a={update:function(){e.reload()},noop:angular.noop};return{init:o,click:i}}]),angular.module("freelook.info").factory("twitter",["api","locale",function(e,t){function n(n){var r=encodeURIComponent("search/tweets.json?count=24&result_type=popular&lang="+t.getLng()+"&q="+n);return e.twitter(r)}function r(n){var r=encodeURIComponent("search/tweets.json?count=48&result_type=popular&lang="+t.getLng()+"&q="+n);return e.twitter(r)}function o(t){var n=encodeURIComponent("users/search.json?&q="+t);return e.twitter(n)}function i(e){var t=e||"";return"https://twitter.com/"+t}return{search:n,images:r,people:o,link:i}}]),angular.module("freelook.info").factory("vk",["$http","$window","$timeout","api","VK_API",function(e,t,n,r,o){function i(e){return o.ENDPOINT+e}function a(t){return e.jsonp(i(t))}function s(){n(function(){var e="script",t=document.createElement(e),n=document.getElementsByTagName(e)[0];t.src="vendors/vk/openapi.js",t.async=!0,n.parentNode.insertBefore(t,n)},0)}function l(e){return a("users.get?user_ids="+e+"&fields=photo_200,home_town,status&callback=JSON_CALLBACK")}function c(e){return a("groups.getById?group_id="+e+"&fields=photo_200,status&callback=JSON_CALLBACK")}function u(e){return a("wall.get?owner_id="+e+"&callback=JSON_CALLBACK")}function d(e){return a("newsfeed.search?q="+e+"&extended=1&callback=JSON_CALLBACK")}function f(e){var t=encodeURIComponent("groups.search?q="+e+"&count=24");return r.vk(t)}function p(e){var t=encodeURIComponent("users.search?q="+e+"&count=24&fields=photo_200,domain,status,about");return r.vk(t)}function h(e){var t=encodeURIComponent("audio.search?q="+e);return r.vk(t)}function g(e){var t=encodeURIComponent("video.search?q="+e);return r.vk(t)}function m(e,t){var n=t||{},r=t.img||"",o=n.titleNoFormatting||n.title||"",i=n.contentNoFormatting||n.content||"";return"http://vk.com/share.php?url="+e+"&image="+r+"&title="+o+"&description="+i+"&noparse=true"}function v(){return"https://oauth.vk.com/authorize?client_id=4588210&scope=audio,video&redirect_uri=http://freelook.info/token&display=popup&response_type=token"}function b(e){var t=e||"";return"https://vk.com/"+t}return{init:s,user:l,wall:u,actions:d,group:c,pages:f,people:p,audio:h,video:g,share:m,login:v,link:b}}]).constant("VK_API",{ENDPOINT:"https://api.vk.com/method/"}),angular.module("freelook.info").factory("yandex",["$q","$http","api","toast",function(e,t,n,r){function o(e){return"https://yandex.com/sitesearch?text="+e+"&searchid=2192226&frame=1"
}function i(e){var t={results:[]};return $.each($($.parseHTML(e)).find(".b-serp-item"),function(e,n){var r=$(n),o=r.find(".b-serp-item__text").html();t.results.push({title:r.find(".b-serp-item__title a span").html(),content:o,contentNoFormatting:o,url:r.find(".b-serp-item__title a").attr("href")})}),t}function a(t){if(t){var a=e.defer();return n.get(o(t)).success(function(e){return e&&e.html?a.resolve(i(e.html)):a.reject(e)}).error(function(e){return r.error(),a.reject(e)}),a.promise}}function s(e){if(e){var n="http://rca.yandex.com/?key=rca.1.1.20150601T091020Z.b4512946bda59899.d67a268370439555bf6f8e3c5bb42c5077130bb0&url="+e+"&callback=JSON_CALLBACK";return t.jsonp(n)}}function l(e){return e?n.yandex("market?text="+e):void 0}return{search:a,rich:s,market:l}}]),angular.module("freelook.info").factory("youtube",["$sce","$http","$q","url","CONFIG","YAPI",function(e,t,n,r,o,i){function a(e){return t.get(i.data+e+"&key="+h)}function s(e){return a("search?part=snippet&maxResults=12&channelId="+e)}function l(e){return a("channels?part=id&&forUsername="+e)}function c(e){return a("search?part=snippet&maxResults=12&q="+e)}function u(e){var t=n.defer();return l(e).then(function(e){e.data&&e.data.items?s(e.data.items[0].id).then(function(e){t.resolve(e.data.items)}):t.reject(e)}),t.promise}function d(t){return e.trustAsResourceUrl("https://www.youtube.com/embed/"+r.qByName("v",t.search))}function f(e){return encodeURIComponent("https://www.youtube.com/watch?v="+e)}function p(e){return s(e)}var h=o.API.GOOGLE.KEY;return{user:u,search:c,channel:p,watch:d,watchUrl:f}}]).constant("YAPI",{data:"https://www.googleapis.com/youtube/v3/"}),angular.module("fli.home").controller("home.widget.looks.ctrl",["storage","url","LOOK_KEY",function(e,t,n){var r=this;r.items=e.get(n,[]),r.clearItem=function(t){r.items=e.arr.clearItem(n,t)}}]),angular.module("fli.home").directive("fliHomeWidgetLooks",function(){return{controller:"home.widget.looks.ctrl",controllerAs:"looks",templateUrl:"components/home/widget/looks/looks.html"}}),angular.module("fli.look").controller("look.content.facebook.ctrl",["$scope","facebook",function(e,t){var n=this;n.img=t.img,t.user(e.fli.route.url).then(function(e){n.user=e||{}})}]),angular.module("fli.look").directive("fliLookContentFacebook",function(){return{controller:"look.content.facebook.ctrl",controllerAs:"fb",templateUrl:"components/look/content/facebook/facebook.html"}}),angular.module("fli.look").controller("look.content.full.ctrl",["$scope","api","read","full","item",function(e,t,n,r,o){function i(e){var t=e||{};"string"==typeof t?a.html=r.get(t)||"":t.content&&(a.html=r.get(t.content,t.title)||"")}var a=this;a.html="",a.share=o.share,t.get(e.fli.route.url).success(i).error(function(){n.call(e.fli.route.url).success(i)})}]),angular.module("fli.look").directive("fliLookContentFull",function(){return{controller:"look.content.full.ctrl",controllerAs:"fullCtrl",templateUrl:"components/look/content/full/full.html"}}),angular.module("fli.look").factory("full",["$location","$rootScope","$cacheFactory","locale","readability","item","url","parser",function(e,t,n,r,o,i,a,s){function l(){var e=a.parse(decodeURIComponent(t.fli.route.url));return e.protocol+"//"+e.host}function c(e,t){return i.href({input:t,url:e})}function u(e,t){var n=s.parseFromString(e,"text/html"),r=$(n);o.init(n,t),p(r),f(r);var i=n.documentElement.innerHTML;return d(i),i}function d(t){g.put(e.url(),t)}function f(e){var t=l();e.find("img").each(function(e,n){$(n).attr("src",function(e,n){if(n)switch(n.substr(0,2)){case"ht":case"//":return n;default:return"/"===n.charAt(0)?t+n:t+"/"+n}}).attr("fli-err","")})}function p(e){var t=l();e.find("a").each(function(e,n){var r=$(n).text()||"";$(n).attr("target","_self"),$(n).attr("href",function(e,n){if(n)switch(n.substr(0,2)){case"ht":case"//":return c(n,r);case"ma":return n;default:return"/"===n.charAt(0)?c(t+n,r):c(t+"/"+n,r)}})})}function h(t,n){return g.get(e.url())||u(t,n)}var g=n("full");return{get:h}}]),angular.module("fli.look").controller("look.content.instagram.ctrl",["$scope","$parse","$location","instagram","url",function(e,t,n,r,o){var i=this,a=e.site.pathname||"";i.userName=o.extract("/:id/",a).id||o.extract("/:id",a).id||"",i.mediaCode=o.extract("/p/:id/",a).id||o.extract("/p/:id",a).id||""}]),angular.module("fli.look").directive("fliLookContentInstagram",function(){return{controller:"look.content.instagram.ctrl",controllerAs:"insta",templateUrl:"components/look/content/instagram/instagram.html"}}),angular.module("fli.look").controller("look.content.pinterest.ctrl",["$scope","url",function(e,t){var n=this;n.pathname=e.site.pathname||"",n.path=t.extract("/:user/:board/",n.pathname)||{}}]),angular.module("fli.look").directive("fliLookContentPinterest",function(){return{controller:"look.content.pinterest.ctrl",controllerAs:"pinterest",templateUrl:"components/look/content/pinterest/pinterest.html"}}),angular.module("fli.look").controller("look.content.vk.ctrl",["$scope","vk","url",function(e,t,n){var r=this,o=e.site.pathname||"",i=n.extract("/:id",o).id||"";r.id=i?i:o.split("/").splice(1)[0]}]),angular.module("fli.look").directive("fliLookContentVk",function(){return{controller:"look.content.vk.ctrl",controllerAs:"vk",templateUrl:"components/look/content/vk/vk.html"}}),angular.module("fli.look").controller("look.content.youtube.ctrl",["$scope","youtube","item",function(e,t,n){var r=this;r.href=n.href,r.watchUrl=t.watchUrl}]),angular.module("fli.look").directive("fliLookContentYoutube",function(){return{controller:"look.content.youtube.ctrl",controllerAs:"ytb",templateUrl:"components/look/content/youtube/youtube.html"}}),angular.module("fli.search").controller("search.chips.type.ctrl",["$scope","$translate","chips","url","locale",function(e,t,n,r,o){function i(){e.chips&&e.fli.route.type&&e.chips.items.push({name:t.instant("search.tabs."+e.fli.route.type),key:"type",route:r.href("?",a(null),!1,"/")})}function a(t){return{l:o.getCode(),input:e.fli.route.input,type:t}}var s=this;s.types=n.types,s.href=function(e){return r.href("?",a(e))},s.go=function(t){e.go(a(t))},i()}]),angular.module("fli.search").directive("fliSearchChipsType",function(){return{controller:"search.chips.type.ctrl",controllerAs:"typeCtrl",templateUrl:"components/search/chips/type/type.html"}}),angular.module("fli.search").controller("search.lucky.ctrl",["$scope","lucky",function(e,t){var n=this;n.go=function(){t.get().then(function(t){e.go(t.href)})}}]),angular.module("fli.search").directive("fliSearchLucky",function(){return{controller:"search.lucky.ctrl",controllerAs:"lucky",templateUrl:"components/search/menu/lucky/lucky.html"}}),angular.module("fli.search").factory("lucky",["$q","$parse","google","chips","url","locale",function(e,t,n,r,o,i){function a(e){return Math.floor(Math.random()*e)}function s(){var t=e.defer();return n.random().success(function(e){t.resolve({word:e.word,href:l(e.word)})}).error(function(){t.resolve({word:c,href:l(c)})}),t.promise}function l(e){var n=t("type")(r.types[a(r.types.length)]),s=t("sub")(r.subs[n][a(r.subs[n].length)]);return o.href("?",{l:i.getCode(),input:e,type:n,sub:s},!1,"/")}var c="new";return{random:a,word:c,get:s,href:l}}]),angular.module("fli.search").controller("search.result.actions.ctrl",function(){}),angular.module("fli.search").directive("fliSearchResultActions",function(){return{controller:"search.result.actions.ctrl",controllerAs:"actions",templateUrl:"components/search/result/actions/actions.html"}}),angular.module("fli.search").controller("search.result.audio.ctrl",["$scope","vk","lucky","CONFIG",function(e,t,n,r){function o(e){var t=e.response||[];i.results=angular.copy(t).splice(1).map(function(e){return e.src=r.API.URL+"proxy/"+decodeURIComponent(e.url),e})}var i=this;i.results=[],i.getTitle=function(e){var t=i.results[e];return t?t.artist+" - "+t.title:""},i.seekPercentage=function(e){var t=e.offsetX/e.target.offsetWidth;return 1>=t?t:0},t.audio(e.fli.route.input||n.word).success(o)}]),angular.module("fli.search").directive("fliSearchResultAudio",function(){return{controller:"search.result.audio.ctrl",controllerAs:"audio",templateUrl:"components/search/result/audio/audio.html"}}),angular.module("fli.search").controller("search.result.goods.ctrl",function(){}),angular.module("fli.search").directive("fliSearchResultGoods",function(){return{controller:"search.result.goods.ctrl",controllerAs:"goods",templateUrl:"components/search/result/goods/goods.html"}}),angular.module("fli.search").controller("search.result.image.ctrl",function(){}),angular.module("fli.search").directive("fliSearchResultImage",function(){return{controller:"search.result.image.ctrl",controllerAs:"image",templateUrl:"components/search/result/images/images.html"}}),angular.module("fli.search").controller("search.result.job.ctrl",function(){}),angular.module("fli.search").directive("fliSearchResultJob",function(){return{controller:"search.result.job.ctrl",controllerAs:"job",templateUrl:"components/search/result/job/job.html"}}),angular.module("fli.search").controller("search.result.news.ctrl",function(){}),angular.module("fli.search").directive("fliSearchResultNews",function(){return{controller:"search.result.news.ctrl",controllerAs:"news",templateUrl:"components/search/result/news/news.html"}}),angular.module("fli.search").controller("search.result.people.ctrl",function(){}),angular.module("fli.search").directive("fliSearchResultPeople",function(){return{controller:"search.result.people.ctrl",controllerAs:"people",templateUrl:"components/search/result/people/people.html"}}),angular.module("fli.search").controller("search.result.promo.ctrl",["$timeout","promo","user","toast","PROMO",function(e,t,n,r,o){var i=this;i.results={},i.click=function(e){n.authData().uid?t.click(e):r.needLogin()},o.query().then(function(t){e(function(){i.results=t.val()||{}})})}]),angular.module("fli.search").directive("fliSearchResultPromo",function(){return{controller:"search.result.promo.ctrl",controllerAs:"promo",templateUrl:"components/search/result/promo/promo.html"}}),angular.module("fli.search").controller("search.result.video.ctrl",function(){}),angular.module("fli.search").directive("fliSearchResultVideo",function(){return{controller:"search.result.video.ctrl",controllerAs:"video",templateUrl:"components/search/result/video/video.html"}}),angular.module("fli.search").controller("search.result.web.ctrl",function(){}),angular.module("fli.search").directive("fliSearchResultWeb",function(){return{controller:"search.result.web.ctrl",controllerAs:"web",templateUrl:"components/search/result/web/web.html"}}),angular.module("fli.show").controller("show.item.form.ctrl",["$scope","nav","user","toast","PROMO",function(e,t,n,r,o){function i(){n.init().catch(function(){r.needLogin()})}var a=this;a.total=function(){return e.showItem.post.amount*e.showItem.post.price},a.shareEnabled=function(){return e.fli.user&&e.showItem.post.action&&e.showItem.post.amount&&e.showItem.post.img&&e.showItem.post.title&&e.showItem.post.content&&a.total()<=+e.fli.user.looks},a.show=function(){var i=angular.extend(e.showItem.post,{user:n.authData().uid});o.add(i).then(function(){t.goHome(),r.show("index.core.uix.toast.added")})},i()}]),angular.module("fli.show").directive("fliShowItemForm",function(){return{controller:"show.item.form.ctrl",controllerAs:"showItemForm",templateUrl:"components/show/item/form/form.html"}}),angular.module("fli.show").controller("show.item.link.ctrl",["$scope","rich",function(e,t){function n(t){e.showItem.post=t||{}}t.get(e.fli.route.input).then(n).catch(n)}]),angular.module("fli.show").directive("fliShowItemLink",function(){return{controller:"show.item.link.ctrl",controllerAs:"linkItem",templateUrl:"components/show/item/link/link.html"}}),angular.module("freelook.info").controller("input.menu.ctrl",["locale","url",function(e,t){var n=this;n.items=[{name:"index.input.menu.search",icon:"search",href:t.href("?",{l:e.getCode()}),action:"search"},{name:"index.input.menu.add",icon:"plus",href:t.href("show?",{l:e.getCode()}),action:"add"}]}]),angular.module("freelook.info").directive("fliInputMenu",function(){return{controller:"input.menu.ctrl",controllerAs:"menuCtrl",templateUrl:"components/uix/input/menu/menu.html"}}),angular.module("freelook.info").controller("item.edit.ctrl",function(){var e=this;e.imgEdit=!1,e.imgToggle=function(){e.imgEdit=!e.imgEdit}}),angular.module("freelook.info").directive("fliItemEdit",function(){return{replace:!0,transclude:!0,scope:!0,controller:"item.edit.ctrl",controllerAs:"fliItemCtrl",templateUrl:"components/uix/item/edit/edit.html",bindToController:{small:"=",url:"=",img:"=",name:"=",content:"="}}}),angular.module("freelook.info").directive("fliItemIcon",function(){var e={0:"#E91E63",1:"#673AB7",2:"#9C27B0",3:"#3F51B5",4:"#2196F3",5:"#00BCD4",6:"#009688",7:"#4CAF50",8:"#FFEB3B",9:"#FF9800"};return{link:function(t,n,r){var o=r.fliItemIcon?r.fliItemIcon.charAt():"f",i=e[o.charCodeAt().toString().charAt()]||e[1];$(n).css({background:i}).append(o)}}}),angular.module("freelook.info").controller("locale.panel.ctrl",["locale","url",function(e,t){var n=this;n.locales=e.locales,n.href=function(e){return t.href("",{l:e},!0)}}]),angular.module("freelook.info").directive("fliLocalePanel",function(){return{controller:"locale.panel.ctrl",controllerAs:"localePanel",templateUrl:"components/uix/locale/panel/panel.html"}}),angular.module("freelook.info").controller("auth.setting.ctrl",["auth",function(e){var t=this;t.logOut=e.logOut,t.logIn=e.logIn}]),angular.module("freelook.info").directive("fliSettingAuth",function(){return{controller:"auth.setting.ctrl",controllerAs:"auth",templateUrl:"components/views/setting/auth/auth.html"}}),angular.module("freelook.info").controller("user.setting.ctrl",["user",function(e){e.init()}]),angular.module("freelook.info").directive("fliSettingUser",function(){return{controller:"user.setting.ctrl",controllerAs:"user",templateUrl:"components/views/setting/user/user.html"}}),angular.module("freelook.info").factory("googlePlus",["$http","GAPI","CONFIG",function(e,t,n){function r(r){return e.get(t.plus+r+"&key="+n.API.GOOGLE.KEY)}function o(e){var t="people?query="+e+"&fields=items(url,image,displayName,aboutMe,gender)";return r(t)}return{people:o}}]),angular.module("freelook.info").factory("googleUrl",["$http","CONFIG","GAPI",function(e,t,n){function r(t){return e.post(i,{longUrl:t})}function o(t){return e.get(i+"&shortUrl="+t)}var i=n.url+t.API.GOOGLE.KEY;return{insert:r,get:o}}]),angular.module("fli.look").factory("read",["$http",function(e){function t(t){var n="https://readability.com/api/content/v1/parser?url="+t+"&token=b727165def07f9d405d194498ba5e3df21c87535&callback=JSON_CALLBACK";return e.jsonp(n)}return{call:t}}]),angular.module("fli.look").controller("look.content.rich.ctrl",["$scope","rich",function(e,t){var n=this;t.get(e.fli.route.url).then(function(e){n.item=e})}]),angular.module("fli.look").directive("fliLookContentRich",function(){return{controller:"look.content.rich.ctrl",controllerAs:"richCtrl",templateUrl:"components/look/content/full/rich/rich.html"}}),angular.module("fli.look").factory("rich",["$q","api","parser","content",function(e,t,n,r){function o(e,t){var o={},i=n.parseFromString(e,"text/html"),a=$(i),s=r.site(t);return o.url=t,o.img=a.find('meta[name="twitter:image"]').attr("content")||a.find('meta[name="og:image"]').attr("content")||s.origin+"/favicon.ico",o.title=a.find("title").text()||a.find('meta[name="twitter:title"]').attr("content")||a.find('meta[name="og:title"]').attr("content"),o.content=a.find('meta[name="description"]').attr("content")||a.find('meta[name="twitter:description"]').attr("content")||a.find('meta[name="og:description"]').attr("content"),o}function i(n){var r=e.defer();return t.proxy(n).success(function(e){return r.resolve(o(e,n))}).error(function(e){return r.reject(e)}),r.promise}return{get:i}}]),angular.module("fli.look").controller("look.content.instagram.media.ctrl",["$scope","$parse","instagram",function(e,t,n){var r=this;r.item="",e.insta.mediaCode&&n.mediaByCode(e.insta.mediaCode).then(function(e){r.item=t("data.data")(e)||""})}]),angular.module("fli.look").directive("fliLookContentInstagramMedia",function(){return{controller:"look.content.instagram.media.ctrl",controllerAs:"instaMedia",templateUrl:"components/look/content/instagram/media/media.html"}}),angular.module("fli.look").controller("look.content.instagram.user.ctrl",["$scope","$parse","instagram",function(e,t,n){var r=this;r.item="",e.insta.userName&&n.user(e.fli.route.url).then(function(e){r.item=t("data")(e)||""})}]),angular.module("fli.look").directive("fliLookContentInstagramUser",function(){return{controller:"look.content.instagram.user.ctrl",controllerAs:"instaUser",templateUrl:"components/look/content/instagram/user/user.html"}}),angular.module("fli.look").controller("look.content.pinterest.board.ctrl",["$scope","$parse","pinterest","item",function(e,t,n,r){function o(n){i.pins=t("data.pins")(n)||[],e.pinterest.user=t("data.user")(n)}var i=this;i.href=r.href,n.boards(e.pinterest.pathname).success(o)}]),angular.module("fli.look").directive("fliLookContentPinterestBoard",function(){return{controller:"look.content.pinterest.board.ctrl",controllerAs:"pintBoard",templateUrl:"components/look/content/pinterest/board/board.html"}}),angular.module("fli.look").controller("look.content.vk.group.ctrl",["$scope","vk",function(e,t){e.vk.group="",t.group(e.vk.id).then(function(t){!t.error&&t.data&&t.data.response&&(e.vk.group=t.data.response[0],e.vk.ownerId=-e.vk.group.gid)})}]),angular.module("fli.look").directive("fliLookContentVkGroup",function(){return{controller:"look.content.vk.group.ctrl",controllerAs:"vkGroup",templateUrl:"components/look/content/vk/group/group.html"}}),angular.module("fli.look").controller("look.content.pinterest.user.ctrl",function(){}),angular.module("fli.look").directive("fliLookContentPinterestUser",function(){return{controller:"look.content.pinterest.user.ctrl",controllerAs:"pintUser",templateUrl:"components/look/content/pinterest/user/user.html"}}),angular.module("fli.look").controller("look.content.vk.user.ctrl",["$scope","vk",function(e,t){e.vk.user="",t.user(e.vk.id).then(function(t){!t.error&&t.data&&t.data.response?(e.vk.user=t.data.response[0],e.vk.ownerId=e.vk.user.uid):e.vk.user="not"})}]),angular.module("fli.look").directive("fliLookContentVkUser",function(){return{controller:"look.content.vk.user.ctrl",controllerAs:"vkUser",templateUrl:"components/look/content/vk/user/user.html"}}),angular.module("fli.look").controller("look.content.vk.video.ctrl",["$sce","$scope",function(e,t){var n=this;n.watch=function(){return e.trustAsResourceUrl(t.fli.route.url)}}]),angular.module("fli.look").directive("fliLookContentVkVideo",function(){return{controller:"look.content.vk.video.ctrl",controllerAs:"vkCtrl",templateUrl:"components/look/content/vk/video/video.html"}}),angular.module("fli.look").controller("look.content.vk.wall.ctrl",["$scope","vk",function(e,t){var n=this;t.wall(e.vk.ownerId).then(function(e){e&&!e.error&&e.data&&e.data.response&&(n.results=e.data.response)})}]),angular.module("fli.look").directive("fliLookContentVkWall",function(){return{controller:"look.content.vk.wall.ctrl",controllerAs:"vkWall",templateUrl:"components/look/content/vk/wall/wall.html"}}),angular.module("fli.look").controller("look.content.youtube.channel.ctrl",["$rootScope","$scope","youtube","CONFIG","url",function(e,t,n,r,o){var i=this;i.channelId=o.extract("/channel/:id",t.site.pathname).id,i.channelId&&n.channel(i.channelId).then(function(e){i.results=e.data.items})}]),angular.module("fli.look").directive("fliLookContentYoutubeChannel",function(){return{controller:"look.content.youtube.channel.ctrl",controllerAs:"ytbChannel",templateUrl:"components/look/content/youtube/channel/channel.html"}}),angular.module("fli.look").controller("look.content.youtube.user.ctrl",["$rootScope","$scope","youtube","CONFIG","url",function(e,t,n,r,o){var i=this;i.userId=o.extract("/user/:id",t.site.pathname).id,i.userId&&n.user(i.userId).then(function(e){i.results=e})}]),angular.module("fli.look").directive("fliLookContentYoutubeUser",function(){return{controller:"look.content.youtube.user.ctrl",controllerAs:"ytbUser",templateUrl:"components/look/content/youtube/user/user.html"}}),angular.module("fli.look").controller("look.content.youtube.watch.ctrl",["$scope","youtube",function(e,t){var n=this;n.watch=function(){return t.watch(e.site)}}]),angular.module("fli.look").directive("fliLookContentYoutubeWatch",function(){return{controller:"look.content.youtube.watch.ctrl",controllerAs:"watchCtrl",templateUrl:"components/look/content/youtube/watch/watch.html"}}),angular.module("fli.search").controller("search.chips.type.sub.ctrl",["$scope","url","chips","locale",function(e,t,n,r){function o(){e.chips&&e.fli.route.sub&&e.chips.items.push({name:e.fli.route.sub,key:"sub",route:t.href("?",i(null),!1,"/")})}function i(t){return{l:r.getCode(),input:e.fli.route.input,type:e.fli.route.type,sub:t}}var a=this;a.subs=n.subs,a.href=function(e){return t.href("?",i(e))},a.go=function(t){e.go(i(t))},o()}]),angular.module("fli.search").directive("fliSearchChipsTypeSub",function(){return{controller:"search.chips.type.sub.ctrl",controllerAs:"subCtrl",templateUrl:"components/search/chips/type/sub/sub.html"}}),angular.module("fli.search").controller("search.result.web.actions.twitter.ctrl",["$scope","$parse","twitter","lucky",function(e,t,n,r){function o(e){i.search=t("statuses")(e)||[]}var i=this;i.link=n.link,i.search=[],n.search(e.fli.route.input||r.word).success(o)}]),angular.module("fli.search").directive("fliSearchResultActionsTwitter",function(){return{controller:"search.result.web.actions.twitter.ctrl",controllerAs:"twitter",templateUrl:"components/search/result/actions/twitter/twitter.html"}}),angular.module("fli.search").controller("search.result.actions.vk.ctrl",["$scope","$sce","url","vk",function(e,t,n,r){function o(e){var t=e.response||[];i.actions=angular.copy(t).splice(1)}var i=this;i.link=r.link,r.actions(e.fli.route.input||"").success(o)}]),angular.module("fli.search").directive("fliSearchResultActionsVk",function(){return{controller:"search.result.actions.vk.ctrl",controllerAs:"vk",templateUrl:"components/search/result/actions/vk/vk.html"}}),angular.module("fli.search").controller("search.result.goods.amazon.ctrl",["$scope","api","lucky",function(e,t,n){function r(e){o.search=e.ItemSearchResponse?e.ItemSearchResponse.Items[0]:{}}var o=this;o.search={},t.goods(e.fli.route.input||n.word).success(r)}]),angular.module("fli.search").directive("fliSearchResultGoodsAmazon",function(){return{controller:"search.result.goods.amazon.ctrl",controllerAs:"amazon",templateUrl:"components/search/result/goods/amazon/amazon.html"}}),angular.module("fli.search").controller("search.result.goods.yandex.ctrl",["$scope","yandex",function(e,t){function n(e){r.search=e||{}}var r=this;r.search={},t.market(e.fli.route.input||"").success(n)}]),angular.module("fli.search").directive("fliSearchResultGoodsYandex",function(){return{controller:"search.result.goods.yandex.ctrl",controllerAs:"ya",templateUrl:"components/search/result/goods/yandex/yandex.html"}}),angular.module("fli.search").controller("search.result.images.google.ctrl",["$scope","google","lucky",function(e,t,n){function r(e){o.search=e||{}}var o=this;o.search={},t.image(e.fli.route.input||n.word).success(r)}]),angular.module("fli.search").directive("fliSearchResultImagesGoogle",function(){return{controller:"search.result.images.google.ctrl",controllerAs:"imgGoogle",templateUrl:"components/search/result/images/google/google.html"}}),angular.module("fli.search").controller("search.result.images.instagram.ctrl",["$scope","$parse","item","instagram","lucky",function(e,t,n,r,o){function i(e){a.items=e||[]}var a=this;if(a.items=[],a.href=n.href,a.share=n.share,a.search=n.search,a.userId=t("instaUser.item.id")(e)||"",a.userId)r.imageByUserId(a.userId).then(i);else{var s=e.fli.route.input||o.word,l=s.trim().replace(/\s/g,"_");r.imageByTag(l).then(i)}}]),angular.module("fli.search").directive("fliSearchResultImagesInstagram",function(){return{controller:"search.result.images.instagram.ctrl",controllerAs:"imgInsta",templateUrl:"components/search/result/images/instagram/instagram.html"}}),angular.module("fli.search").controller("search.result.web.images.twitter.ctrl",["$scope","$parse","twitter","lucky",function(e,t,n,r){function o(e){i.search=t("statuses")(e)||[]}var i=this;i.link=n.link,i.search=[],n.images(e.fli.route.input||r.word).success(o)}]),angular.module("fli.search").directive("fliSearchResultImagesTwitter",function(){return{controller:"search.result.web.images.twitter.ctrl",controllerAs:"twitter",templateUrl:"components/search/result/images/twitter/twitter.html"}}),angular.module("fli.search").controller("search.result.job.indeed.ctrl",["$scope","indeed","lucky",function(e,t,n){var r=this;t.search(e.fli.route.input||n.word).then(function(e){r.results=e})}]),angular.module("fli.search").directive("fliSearchResultJobIndeed",function(){return{controller:"search.result.job.indeed.ctrl",controllerAs:"indeed",templateUrl:"components/search/result/job/indeed/indeed.html"}}),angular.module("fli.search").factory("indeed",["$q","api","parser","INDEED",function(e,t,n,r){function o(e){var t=[],r=n.parseFromString(e,"text/xml"),o=$(r);return o.find("result").each(function(e,n){var r=$(n);t.push({title:r.find("jobtitle").text(),content:r.find("snippet").text(),company:r.find("company").text(),url:r.find("url").text()})}),t}function i(n){var i=e.defer();return t.proxy(r.URL+n).success(function(e){i.resolve(o(e))}).error(function(e){i.reject(e)}),i.promise}return{search:i}}]).constant("INDEED",{URL:"http://api.indeed.com/ads/apisearch?v=2&publisher=4882352810407505&q="}),angular.module("fli.search").controller("search.result.job.linkedin.ctrl",["$scope","linkedin",function(e,t){function n(e){r.jobs=e||[]}var r=this;t.jobs(e.fli.route.input||"").then(n)}]),angular.module("fli.search").directive("fliSearchResultJobLinkedin",function(){return{controller:"search.result.job.linkedin.ctrl",controllerAs:"linkedin",templateUrl:"components/search/result/job/linkedin/linkedin.html"}}),angular.module("fli.search").controller("search.result.news.google.ctrl",["$scope","$parse","url","item","google",function(e,t,n,r,o){function i(e){var t=$($.parseHTML(e)),r=t.find("img"),o=t.find("a b").first(),i=t.find("[size=-1]"),a=$(i.get(0)),s=$(r.parent()).attr("href")||$(o.parent()).attr("href");return{img:r.attr("src"),url:n.qByName("url",decodeURIComponent(s)),title:o.html(),titleText:o.text(),from:a.html(),input:a.text(),text:$(i.get(1)).html()}}function a(e){var t=[];return e.map(function(e){t.push(i(e.content))}),t}function s(e){var n=t("responseData.feed.entries")(e)||[];l.items=a(n)||[]}var l=this;l.href=r.href,l.share=r.share,l.search=r.search,l.items=[],o.news(e.fli.route.input||"").success(s)}]),angular.module("fli.search").directive("fliSearchResultNewsGoogle",function(){return{controller:"search.result.news.google.ctrl",controllerAs:"newsGoogle",templateUrl:"components/search/result/news/google/google.html"}}),angular.module("fli.search").controller("search.result.people.facebook.ctrl",["$scope","facebook","lucky",function(e,t,n){function r(e){o.people=e.data||[]}var o=this;o.img=t.img,o.link=t.link,t.people(e.fli.route.input||n.word).success(r)}]),angular.module("fli.search").directive("fliSearchResultPeopleFacebook",function(){return{controller:"search.result.people.facebook.ctrl",controllerAs:"fb",templateUrl:"components/search/result/people/facebook/facebook.html"}}),angular.module("fli.search").controller("search.result.people.google.ctrl",["$scope","google","lucky",function(e,t,n){function r(e){o.people=e||{}}var o=this;o.people={},t.plus.people(e.fli.route.input||n.word).success(r)}]),angular.module("fli.search").directive("fliSearchResultPeopleGoogle",function(){return{controller:"search.result.people.google.ctrl",controllerAs:"peopleGoogle",templateUrl:"components/search/result/people/google/google.html"}}),angular.module("fli.search").controller("search.result.people.linkedin.ctrl",["$scope","linkedin","lucky",function(e,t,n){function r(e){o.people=e||[]}var o=this;t.people(e.fli.route.input||n.word).then(r)}]),angular.module("fli.search").directive("fliSearchResultPeopleLinkedin",function(){return{controller:"search.result.people.linkedin.ctrl",controllerAs:"linkedin",templateUrl:"components/search/result/people/linkedin/linkedin.html"}}),angular.module("fli.search").controller("search.result.web.people.twitter.ctrl",["$scope","twitter","lucky",function(e,t,n){function r(e){o.search=e||[]}var o=this;o.link=t.link,o.search=[],t.people(e.fli.route.input||n.word).success(r)}]),angular.module("fli.search").directive("fliSearchResultPeopleTwitter",function(){return{controller:"search.result.web.people.twitter.ctrl",controllerAs:"twitter",templateUrl:"components/search/result/people/twitter/twitter.html"}}),angular.module("fli.search").controller("search.result.people.vk.ctrl",["$scope","$sce","url","vk",function(e,t,n,r){function o(e){var t=e.response||[];i.people=angular.copy(t).splice(1)}var i=this;i.link=r.link,r.people(e.fli.route.input||"").success(o)}]),angular.module("fli.search").directive("fliSearchResultPeopleVk",function(){return{controller:"search.result.people.vk.ctrl",controllerAs:"vk",templateUrl:"components/search/result/people/vk/vk.html"}}),angular.module("fli.search").controller("search.result.video.google.ctrl",["$scope","$parse","item","youtube",function(e,t,n,r){function o(e){i.items=t("items")(e)||[]}var i=this;i.href=n.href,i.share=n.share,i.watchUrl=r.watchUrl,i.items=[],r.search(e.fli.route.input||"").success(o)}]),angular.module("fli.search").directive("fliSearchResultVideoGoogle",function(){return{controller:"search.result.video.google.ctrl",controllerAs:"videoGoogle",templateUrl:"components/search/result/video/google/google.html"}}),angular.module("fli.search").controller("search.result.video.vk.ctrl",["$scope","vk","lucky",function(e,t,n){function r(e){o.results=e.response||[]}var o=this;t.video(e.fli.route.input||n.word).success(r)}]),angular.module("fli.search").directive("fliSearchResultVideoVk",function(){return{controller:"search.result.video.vk.ctrl",controllerAs:"vk",templateUrl:"components/search/result/video/vk/vk.html"}}),angular.module("fli.search").controller("search.result.web.facebook.ctrl",["$scope","facebook","lucky",function(e,t,n){function r(e){o.results=e.data||[]}var o=this;o.img=t.img,o.link=t.link,t.pages(e.fli.route.input||n.word).success(r)}]),angular.module("fli.search").directive("fliSearchResultWebFacebook",function(){return{controller:"search.result.web.facebook.ctrl",controllerAs:"fb",templateUrl:"components/search/result/web/facebook/facebook.html"}}),angular.module("fli.search").controller("search.result.web.google.ctrl",["$scope","google",function(e,t){function n(e){r.search=e||{}}var r=this;r.search={},e.fli.route.input&&t.web(e.fli.route.input).success(n)}]),angular.module("fli.search").directive("fliSearchResultWebGoogle",function(){return{controller:"search.result.web.google.ctrl",controllerAs:"google",templateUrl:"components/search/result/web/google/google.html"}}),angular.module("fli.search").controller("search.result.web.linkedin.ctrl",["$scope","linkedin","item","lucky",function(e,t,n,r){function o(e){i.posts=e||[]}var i=this;i.link=t.link,i.href=n.href,i.share=n.share,t.posts(e.fli.route.input||r.word).then(o)}]),angular.module("fli.search").directive("fliSearchResultWebLinkedin",function(){return{controller:"search.result.web.linkedin.ctrl",controllerAs:"linkedin",templateUrl:"components/search/result/web/linkedin/linkedin.html"}}),angular.module("fli.search").controller("search.result.web.vk.ctrl",["$scope","vk","lucky",function(e,t,n){function r(e){var t=e.response||[];o.results=angular.copy(t).splice(1)}var o=this;o.link=t.link,t.pages(e.fli.route.input||n.word).success(r)
}]),angular.module("fli.search").directive("fliSearchResultWebVk",function(){return{controller:"search.result.web.vk.ctrl",controllerAs:"vk",templateUrl:"components/search/result/web/vk/vk.html"}}),angular.module("fli.search").controller("search.result.web.pinterest.ctrl",["$scope","pinterest","item",function(e,t,n){function r(e){o.pins=e||[]}var o=this;o.link=t.link,o.href=n.href,o.share=n.share,o.board=function(e){return o.href({url:o.link(e.url),img:e.img})},t.search(e.fli.route.input||"").then(r)}]),angular.module("fli.search").directive("fliSearchResultWebPinterest",function(){return{controller:"search.result.web.pinterest.ctrl",controllerAs:"pinterest",templateUrl:"components/search/result/web/pinterest/pinterest.html"}}),angular.module("fli.look").factory("readability",["$rootScope",function(e){function t(t,n){var r=function(e){},o="style-newspaper",i="size-medium",a="margin-narrow",s={version:"0.5.1",iframeLoads:0,frameHack:!1,bodyCache:null,regexps:{unlikelyCandidatesRe:/combx|comment|disqus|foot|header|menu|meta|nav|rss|shoutbox|sidebar|sponsor/i,okMaybeItsACandidateRe:/and|article|body|column|main/i,positiveRe:/article|body|content|entry|hentry|page|pagination|post|text/i,negativeRe:/combx|comment|contact|foot|footer|footnote|link|media|meta|promo|related|scroll|shoutbox|sponsor|tags|widget/i,divToPElementsRe:/<(a|blockquote|dl|div|img|ol|p|pre|table|ul)/i,replaceBrsRe:/(<br[^>]*>[ \n\r\t]*){2,}/gi,replaceFontsRe:/<(\/?)font[^>]*>/gi,trimRe:/^\s+|\s+$/g,normalizeRe:/\s{2,}/g,killBreaksRe:/(<br\s*\/?>(\s|&nbsp;?)*){1,}/g,videoRe:/http:\/\/(www\.)?(youtube|vimeo)\.com/i},init:function(e){e="undefined"==typeof e?!1:e,t.body&&!s.bodyCache&&(s.bodyCache=t.body.innerHTML),s.prepDocument();var n=t.createElement("DIV"),r=t.createElement("DIV"),l=s.getArticleTitle(),c=s.grabArticle(e);if(""===s.getInnerText(c,!1)){if(!e)return t.body.innerHTML=s.bodyCache,s.init(!0);c.innerHTML=""}if(n.id="readOverlay",r.id="readInner",t.body.className=o,n.className=o,r.className=a+" "+i,r.appendChild(l),r.appendChild(c),n.appendChild(r),t.documentElement.innerHTML="",t.documentElement.insertBefore(n,t.body.firstChild),s.frameHack){var u=t.getElementById("readOverlay");u.style.height="100%",u.style.overflow="auto"}},getArticleTitle:function(){var r=t.createElement("H1");return r.innerHTML=t.title||n||"# "+e.fli.route.input,r},prepDocument:function(){if(null===t.body){var e=t.createElement("body");try{t.body=e}catch(n){t.documentElement.appendChild(e)}}var r=t.getElementsByTagName("frame");if(r.length>0){for(var o=null,i=0,a=0;a<r.length;a++){var l=r[a].offsetWidth+r[a].offsetHeight,c=!1;try{var u;u=r[a].contentWindow.document.body,c=!0}catch(n){}c&&l>i&&(o=r[a],i=l)}if(o){var d=t.createElement("body");d.innerHTML=o.contentWindow.document.body.innerHTML,d.style.overflow="scroll",t.body=d;var f=t.getElementsByTagName("frameset")[0];f&&f.parentNode.removeChild(f),s.frameHack=!0}}for(var p=t.getElementsByTagName("script"),h=p.length-1;h>=0;h--)p[h].parentNode.removeChild(p[h]);for(var g=0;g<t.styleSheets.length;g++)t.styleSheets[g].disabled=!0;for(var m=t.getElementsByTagName("style"),v=0;v<m.length;v++)m[v].textContent="";t.body.innerHTML=t.body.innerHTML.replace(s.regexps.replaceBrsRe,"</p><p>").replace(s.regexps.replaceFontsRe,"<$1span>")},prepArticle:function(e){s.cleanStyles(e),s.killBreaks(e),s.clean(e,"form"),s.clean(e,"object"),s.clean(e,"h1"),1===e.getElementsByTagName("h2").length&&s.clean(e,"h2"),s.clean(e,"iframe"),s.cleanHeaders(e),s.cleanConditionally(e,"table"),s.cleanConditionally(e,"ul"),s.cleanConditionally(e,"div");for(var t=e.getElementsByTagName("p"),n=t.length-1;n>=0;n--){var o=t[n].getElementsByTagName("img").length,i=t[n].getElementsByTagName("embed").length,a=t[n].getElementsByTagName("object").length;0===o&&0===i&&0===a&&""===s.getInnerText(t[n],!1)&&t[n].parentNode.removeChild(t[n])}try{e.innerHTML=e.innerHTML.replace(/<br[^>]*>\s*<p/gi,"<p")}catch(l){r("Cleaning innerHTML of breaks failed. This is an IE strict-block-elements bug. Ignoring.")}},initializeNode:function(e){switch(e.readability={contentScore:0},e.tagName){case"DIV":e.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":e.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":e.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":e.readability.contentScore-=5}e.readability.contentScore+=s.getClassWeight(e)},grabArticle:function(e){for(var n,o,i,a=0;n=t.getElementsByTagName("*")[a];a++){if(!e){var l=n.className+n.id;if(-1!==l.search(s.regexps.unlikelyCandidatesRe)&&-1===l.search(s.regexps.okMaybeItsACandidateRe)&&"BODY"!==n.tagName&&"HTML"!==n.tagName){r("Removing unlikely candidate - "+l),n.parentNode.removeChild(n),a--;continue}}if("DIV"===n.tagName)if(-1===n.innerHTML.search(s.regexps.divToPElementsRe)){r("Altering div to p");var c=t.createElement("p");try{c.innerHTML=n.innerHTML,n.parentNode.replaceChild(c,n),a--}catch(u){r("Could not alter div to p, probably an IE restriction, reverting back to div.")}}else for(o=0,i=n.childNodes.length;i>o;o++){var d=n.childNodes[o];if(d.nodeType===window.Node.TEXT_NODE){r("replacing text node with a p tag with the same content.");var f=t.createElement("p");f.innerHTML=d.nodeValue,f.style.display="inline",f.className="readability-styled",d.parentNode.replaceChild(f,d)}}}for(var p=t.getElementsByTagName("p"),h=[],g=0;g<p.length;g++){var m=p[g].parentNode,v=m.parentNode,b=s.getInnerText(p[g]);if(!(b.length<25)){"undefined"==typeof m.readability&&(s.initializeNode(m),h.push(m)),"undefined"==typeof v.readability&&(s.initializeNode(v),h.push(v));var y=0;y++,y+=b.split(",").length,y+=Math.min(Math.floor(b.length/100),3),m.readability.contentScore+=y,v.readability.contentScore+=y/2}}var E=null;for(o=0,i=h.length;i>o;o++)h[o].readability.contentScore=h[o].readability.contentScore*(1-s.getLinkDensity(h[o])),r("Candidate: "+h[o]+" ("+h[o].className+":"+h[o].id+") with score "+h[o].readability.contentScore),(!E||h[o].readability.contentScore>E.readability.contentScore)&&(E=h[o]);(null===E||"BODY"===E.tagName)&&(E=t.createElement("DIV"),E.innerHTML=t.body.innerHTML,t.body.innerHTML="",t.body.appendChild(E),s.initializeNode(E));var _=t.createElement("DIV");_.id="readability-content";var w=Math.max(10,.2*E.readability.contentScore),C=E.parentNode.childNodes;for(o=0,i=C.length;i>o;o++){var $=C[o],A=!1;if(r("Looking at sibling node: "+$+" ("+$.className+":"+$.id+")"+("undefined"!=typeof $.readability?" with score "+$.readability.contentScore:"")),r("Sibling has score "+($.readability?$.readability.contentScore:"Unknown")),$===E&&(A=!0),"undefined"!=typeof $.readability&&$.readability.contentScore>=w&&(A=!0),"P"===$.nodeName){var S=s.getLinkDensity($),T=s.getInnerText($),k=T.length;k>80&&.25>S?A=!0:80>k&&0===S&&-1!==T.search(/\.( |$)/)&&(A=!0)}A&&(r("Appending node: "+$),_.appendChild($),o--,i--)}return s.prepArticle(_),_},getInnerText:function(e,t){var n="";return t="undefined"==typeof t?!0:t,n="Microsoft Internet Explorer"===window.navigator.appName?e.innerText.replace(s.regexps.trimRe,""):e.textContent.replace(s.regexps.trimRe,""),t?n.replace(s.regexps.normalizeRe," "):n},getCharCount:function(e,t){return t=t||",",s.getInnerText(e).split(t).length},cleanStyles:function(e){e=e||t;var n=e.firstChild;if(e)for("function"==typeof e.removeAttribute&&"readability-styled"!==e.className&&e.removeAttribute("style");null!==n;)1===n.nodeType&&("readability-styled"!==n.className&&n.removeAttribute("style"),s.cleanStyles(n)),n=n.nextSibling},getLinkDensity:function(e){for(var t=e.getElementsByTagName("a"),n=s.getInnerText(e).length,r=0,o=0,i=t.length;i>o;o++)r+=s.getInnerText(t[o]).length;return r/n},getClassWeight:function(e){var t=0;return""!==e.className&&(-1!==e.className.search(s.regexps.negativeRe)&&(t-=25),-1!==e.className.search(s.regexps.positiveRe)&&(t+=25)),"string"==typeof e.id&&""!==e.id&&(-1!==e.id.search(s.regexps.negativeRe)&&(t-=25),-1!==e.id.search(s.regexps.positiveRe)&&(t+=25)),t},killBreaks:function(e){try{e.innerHTML=e.innerHTML.replace(s.regexps.killBreaksRe,"<br />")}catch(e){r("KillBreaks failed - this is an IE bug. Ignoring.")}},clean:function(e,t){for(var n=e.getElementsByTagName(t),r="object"===t||"embed"===t,o=n.length-1;o>=0;o--)r&&-1!==n[o].innerHTML.search(s.regexps.videoRe)||n[o].parentNode.removeChild(n[o])},cleanConditionally:function(e,t){for(var n=e.getElementsByTagName(t),o=n.length,i=o-1;i>=0;i--){var a=s.getClassWeight(n[i]);if(r("Cleaning Conditionally "+n[i]+" ("+n[i].className+":"+n[i].id+")"+("undefined"!=typeof n[i].readability?" with score "+n[i].readability.contentScore:"")),0>a)n[i].parentNode.removeChild(n[i]);else if(s.getCharCount(n[i],",")<10){for(var l=n[i].getElementsByTagName("p").length,c=n[i].getElementsByTagName("img").length,u=n[i].getElementsByTagName("li").length-100,d=n[i].getElementsByTagName("input").length,f=0,p=n[i].getElementsByTagName("embed"),h=0,g=p.length;g>h;h++)-1===p[h].src.search(s.regexps.videoRe)&&f++;var m=s.getLinkDensity(n[i]),v=s.getInnerText(n[i]).length,b=!1;c>l?b=!0:u>l&&"ul"!==t&&"ol"!==t?b=!0:d>Math.floor(l/3)?b=!0:25>v&&(0===c||c>2)?b=!0:25>a&&m>.2?b=!0:a>=25&&m>.5?b=!0:(1===f&&75>v||f>1)&&(b=!0),b&&n[i].parentNode.removeChild(n[i])}}},cleanHeaders:function(e){for(var t=1;7>t;t++)for(var n=e.getElementsByTagName("h"+t),r=n.length-1;r>=0;r--)(s.getClassWeight(n[r])<0||s.getLinkDensity(n[r])>.33)&&n[r].parentNode.removeChild(n[r])}};t&&t.body&&s.init()}return{init:t}}]),angular.module("fli.search").controller("search.chips.type.sub.url.ctrl",["$scope","url","content","index","locale",function(e,t,n,r,o){function i(){var o=n.site(e.fli.route.url);return r.is(o.domain,e.fli.route.sub)?t.extract("(/):id(\\.:temp)(/*)",o.pathname||"").id||o.host:o.host}function a(){e.chips&&e.fli.route.url&&e.chips.items.push({name:i(),key:"url",route:t.href("?",{l:o.getCode(),input:e.fli.route.input,type:e.fli.route.type,sub:e.fli.route.sub},!1,"/")})}a()}]),angular.module("fli.search").directive("fliSearchChipsTypeSubUrl",function(){return{controller:"search.chips.type.sub.url.ctrl"}}),angular.module("fli.search").controller("search.result.web.google.trends.ctrl",["hotTrends","item",function(e,t){function n(){i>0&&(i--,r())}function r(){e().then(function(e){e&&e.length?o.items=e:n()}).catch(n)}var o=this,i=3;o.items=[],o.share=t.share,o.href=t.href,o.search=t.search,r()}]),angular.module("fli.home").directive("fliSearchResultWebGoogleTrends",function(){return{controller:"search.result.web.google.trends.ctrl",controllerAs:"hotTrends",templateUrl:"components/search/result/web/google/trends/trends.html"}}),angular.module("fli.search").factory("hotTrends",["$rootScope","$q","$cacheFactory","api","locale","parser","prerender","platform",function(e,t,n,r,o,i,a,s){function l(e){var t=i.parseFromString(e,"text/html"),n=$(t),r=[];return n.find(".hottrends-trends-list-trend-container").each(function(e,t){var n=$(t);r.push({title:n.find(".hottrends-single-trend-title").text(),img:n.find(".hottrends-single-trend-image-and-text-container img").attr("src"),text:n.find(".hottrends-single-trend-news-snippet").text(),url:n.find(".hottrends-single-trend-news-article-container a").attr("href")})}),r.length&&c.put(u,r),r}var c=n("hotTrends"),u="",d={site:function(e){a.cache(u).success(function(t){return e.resolve(l(t))}).error(function(t){return e.reject(t)})},app:function(t){e.fli.progress=!0,a.local(u).then(function(e){return t.resolve(l(e))}).catch(function(e){return t.reject(e)}).finally(function(){e.fli.progress=!1})}};return d.chrome=d.app,d.mobile=d.site,function(){var e=t.defer();return u="https://www.google.com/trends/hottrends?pn="+o.getPnCode(),c.get(u)?t.when(c.get(u)):(d[s.name()](e),e.promise)}}]),angular.module("freelook.info").run(["$templateCache",function(e){e.put("components/feedback/feedback.html","<fli-input></fli-input><fli-feedback-comments></fli-feedback-comments><fli-donate></fli-donate><fli-footer></fli-footer>"),e.put("components/home/home.html",'<fli-input></fli-input><fli-search-menu></fli-search-menu><fli-search-chips></fli-search-chips><fli-home-widget class="animate"></fli-home-widget><fli-look-content class="animate"></fli-look-content><fli-search-result class="animate"></fli-search-result><fli-search-suggest></fli-search-suggest><fli-footer></fli-footer>'),e.put("components/show/show.html","<fli-show-input></fli-show-input><fli-show-item></fli-show-item><fli-footer></fli-footer>"),e.put("components/feedback/comments/comments.html",'<div class="block" layout="column" layout-align="start center" flex=""><div class="block color-8" translate="feedback.ideas"></div><div class="block link"><a ng-href="{{::comments.href}}" ng-bind="::comments.mail"></a></div></div>'),e.put("components/home/widget/widget.html",'<fli-home-widget-looks ng-if="!fli.route.type"></fli-home-widget-looks>'),e.put("components/look/content/content.html",'<div ng-if="fli.route.url"><fli-look-content-youtube ng-if="is(site.domain, \'youtube\')" layout="column" flex=""></fli-look-content-youtube><fli-look-content-vk ng-if="is(site.domain, \'vk\')" layout="column" flex=""></fli-look-content-vk><fli-look-content-facebook ng-if="is(site.domain, \'facebook\')" layout="column" flex=""></fli-look-content-facebook><fli-look-content-instagram ng-if="is(site.domain, \'instagram\')" layout="column" flex=""></fli-look-content-instagram><fli-look-content-pinterest ng-if="is(site.domain, \'pinterest\')" layout="column" flex=""></fli-look-content-pinterest><fli-look-content-full ng-if="!is(site.domain, content.supportedSites)" layout="column" flex=""></fli-look-content-full></div>'),e.put("components/look/suggest/suggest.html",'<div ng-if="::fli.route.url"><fli-item ng-repeat="item in ::suggest.search.results" ng-init="fliItem = {\n          url:item.url,\n          img:item.richSnippet.cseImage.src,\n          title:item.titleNoFormatting,\n          content: item.content\n          };\n          fliItemCtrl.href=suggest.href;"></fli-item></div>'),e.put("components/search/chips/chips.html",'<div layout="row"><div flex=""><md-chips flex="" ng-model="::chips.items" layoyt-sm="column" readonly="1"><md-chip-template class="link" ng-click="chips.remove($chip)"><span class="color-8" ng-bind="::$chip.name"></span> <i class="fa fa-close"></i></md-chip-template></md-chips><fli-search-chips-type></fli-search-chips-type></div><fli-help></fli-help></div>'),e.put("components/search/menu/menu.html","<fli-search-lucky></fli-search-lucky>"),e.put("components/search/result/result.html",'<div ng-if="!fli.route.url"><fli-search-result-web ng-if="fli.route.type === \'web\'"></fli-search-result-web><fli-search-result-people ng-if="fli.route.type === \'people\'"></fli-search-result-people><fli-search-result-news ng-if="fli.route.type === \'news\'"></fli-search-result-news><fli-search-result-actions ng-if="fli.route.type === \'actions\'"></fli-search-result-actions><fli-search-result-goods ng-if="fli.route.type === \'goods\'"></fli-search-result-goods><fli-search-result-image ng-if="fli.route.type === \'images\'"></fli-search-result-image><fli-search-result-audio ng-if="fli.route.type === \'audio\'"></fli-search-result-audio><fli-search-result-video ng-if="fli.route.type === \'video\'"></fli-search-result-video><fli-search-result-promo ng-if="fli.route.type === \'promo\'"></fli-search-result-promo><fli-search-result-job ng-if="fli.route.type === \'job\'"></fli-search-result-job></div>'),e.put("components/search/suggest/suggest.html",'<div class="block" layout="column" ng-if="fli.route.type"><div class="result"><a ng-repeat="item in ::suggest.suggested track by $index" fli-href="{{::suggest.href(item)}}" ng-bind="::item"></a></div></div>'),e.put("components/show/input/input.html",'<fli-input ng-init="input.find=showInput.find;\n  input.href=showInput.href;\n  input.placeholder=showInput.placeholder;\n  input.type=showInput.type;\n  input.icon=showInput.icon;\n  input.action=showInput.action;"></fli-input>'),e.put("components/show/item/item.html",'<div layout="column" layout-gt-xs="row" layout-align="center center" ng-if="site"><fli-show-item-link class="animate"></fli-show-item-link><fli-show-item-form ng-if="showItem.post"></fli-show-item-form></div><fli-welcome ng-if="!site"></fli-welcome>'),e.put("components/uix/apps/apps.html",'<div layout="row" layout-align="center center" ng-if="fli.platform===\'site\'" class="block border"><md-button class="md-icon-button link" aria-label="chrome" ng-href="{{::apps.chrome}}" target="_blank"><i class="fa fa-chrome fa-2x"></i></md-button><md-button class="md-icon-button link" aria-label="android" ng-href="{{::apps.android}}" target="_blank"><i class="fa fa-android fa-2x"></i></md-button></div>'),e.put("components/uix/donate/donate.html",'<div class="link" layout="row" layout-align="center center" ng-click="location(donate.url)" title="{{\'index.footer.help\' | translate}}"><i class="fa fa-usd block"></i> <span class="color-8" hide-xs="" translate="index.footer.donate"></span></div>'),e.put("components/uix/footer/footer.html",'<fli-locale-panel ng-show="footer.showLocalePanel"></fli-locale-panel><div layout="row" class="block border"><div class="link" flex="20" layout="row" layout-align="center center" ng-click="footer.feedback()"><i class="fa fa-comments-o block" translate="" translate-attr-title="index.footer.help"></i><div hide-xs="" class="color-8" translate="index.footer.feedback"></div></div><div flex="" layout="column" layout-align="center center" class="text-center"><p><span translate="index.footer.with"></span> <i class="fa fa-heartbeat heart"></i> <a fli-href="{{::footer.about}}" ng-attr-title="{{fli.description}}" target="_blank">freelook.info</a></p></div><div class="link" flex="20" layout="row" layout-align="center center" ng-click="footer.toggleLocalePanel()"><div hide-xs="" class="color-8" translate="index.footer.locale"></div><md-button class="md-icon-button link" aria-label="locale" ng-bind="::footer.localeCode"></md-button></div></div><fli-apps></fli-apps>'),e.put("components/uix/help/help.html",'<md-button class="md-icon-button link" aria-label="guide" ng-href="{{::help.link}}" target="_blank"><i class="fa fa-question-circle fa-2x" translate="" translate-attr-title="uix.help.guide"></i></md-button>'),e.put("components/uix/input/input.html",'<div layout="row"><md-button class="md-fab md-primary link" ng-class="{\'md-accent\':fli.focus || fli.view}" aria-label="home" ng-click="input.home()"><i class="fa fa-eye-slash"></i></md-button><md-button ng-if="!fli.focus" class="md-icon-button link" aria-label="filter" ng-click="input.filter()"><i class="fa fa-filter" ng-class="{active:fli.filter}"></i></md-button><md-button ng-if="fli.focus" class="md-icon-button link" aria-label="navigation" ng-click="input.find()"><i class="fa fa-{{::input.icon}}"></i></md-button><form name="form" ng-submit="input.find()" flex=""><md-input-container layout="column" md-no-float=""><input id="input" ng-focus="input.focus()" autocomplete="off" aria-label="input" ng-model="fli.route.input" ng-model-options="{updateOn:\'blur\'}" translate="" translate-attr-placeholder="{{::input.placeholder}}" type="{{::input.type}}"><md-progress-linear id="progress" md-mode="indeterminate" ng-if="fli.progress"></md-progress-linear></md-input-container></form><md-button ng-if="fli.focus" class="md-icon-button link" aria-label="clear" ng-click="input.clear()"><i class="fa fa-close"></i></md-button><md-button ng-if="!fli.focus" class="md-icon-button link" aria-label="setting" ng-click="input.setting()"><i ng-if="!fli.user" class="fa fa-sign-in fa-2x"></i> <i ng-if="fli.user" class="fa fa-cog fa-2x"></i></md-button></div><fli-input-menu ng-if="fli.focus"></fli-input-menu>'),e.put("components/uix/item/item.html",'<md-card class="fli-item" ng-class="::{small:fliItem.small,nofill:fliItem.nofill}" layout="column" ng-if="::fliItem"><md-card-content><a fli-href="{{::fliItemCtrl.href(fliItem)}}" class="img"><img class="md-card-image" ng-if="::fliItem.img" ng-src="{{::fliItemCtrl.fix(fliItem.img)}}" translate="" translate-attr-title="index.core.uix.item.lookIt" translate-values="::{v:fliItem.title || \'FLI\'}" ng-attr-alt="{{::fliItem.title}}" fli-item-img="" fli-err=""><div class="md-card-image header" fli-item-icon="{{::fliItem.title}}" ng-if="::!fliItem.img" translate="" translate-attr-title="index.core.uix.item.lookIt" translate-values="::{v:fliItem.title || \'FLI\'}"></div></a><div class="block"><a class="title" ng-if="::fliItem.title" fli-href="{{::fliItemCtrl.href(fliItem)}}" ng-bind-html="::fliItem.title"></a><div class="clearfix" ng-if="::fliItem.content" ng-bind-html="::fliItem.content"></div></div><ng-transclude class="clearfix" ng-if="::!fliItem.transclude"></ng-transclude></md-card-content><md-card-footer layout="row" layout-align="end center"><ng-transclude ng-if="::fliItem.transclude===\'footer\'"></ng-transclude><div class="link" ng-if="::fliItemCtrl.search && fliItem.searchInput"><span>#</span> <a fli-href="{{::fliItemCtrl.search(fliItem.searchInput)}}"><span ng-bind="::fliItem.searchInput" translate="" translate-attr-title="index.core.uix.item.search" translate-values="::{v:fliItem.searchInput}"></span></a></div><div class="link" ng-if="::fliItemCtrl.share" ng-click="fliItemCtrl.share(fliItem)"><i class="fa fa-share-alt" translate="" translate-attr-title="index.core.uix.item.share" translate-values="::{v:fliItem.title}"></i></div><div class="link" ng-if="fliItem.url" ng-click="link(fliItem.url)"><i class="fa fa-external-link" translate="" translate-attr-title="index.core.uix.item.goTo" translate-values="::{v:fliItem.title}"></i></div></md-card-footer></md-card>'),e.put("components/uix/logo/logo.html",'<div class="icon"><i class="fa fa-eye-slash fa-5x color-8"></i></div>'),e.put("components/uix/rating/fli.rating.html",'<ul class="rating"><li ng-repeat="star in stars" ng-class="star"><i class="fa fa-star"></i></li></ul>'),e.put("components/uix/welcome/welcome.html",'<div class="block color-8 text-center"><span class="block" translate="index.description"></span></div>'),e.put("components/views/setting/setting.html",'<fli-setting-auth class="block"></fli-setting-auth><fli-setting-user class="block"></fli-setting-user><fli-footer></fli-footer>'),e.put("components/views/setting/setting.view.html",'<fli-input></fli-input><fli-setting class="animate"></fli-setting>'),e.put("components/views/share/share.html",'<md-input-container layout="column" class="md-icon-float"><label translate="index.core.uix.share.link"></label><md-icon class="link"><i class="fa fa-link"></i></md-icon><input type="url" name="link" ng-model="share.link"></md-input-container>'),e.put("components/views/share/share.view.html",'<fli-input></fli-input><fli-share class="animate block"></fli-share>'),e.put("components/home/widget/looks/looks.html",'<div class="fli-grid" ng-if="looks.items.length"><fli-item ng-repeat="item in looks.items | filter:fli.route.input || \'\'" ng-init="fliItem = {\n          url:item.url,\n          img:item.img,\n          title:item.input,\n          input:item.input,\n          searchInput:item.input,\n          type:item.type,\n          sub:item.sub,\n          transclude:\'footer\'\n          };\n          fliItemCtrl.href=widget.href;\n          fliItemCtrl.search=widget.search;"><div class="clear link" ng-click="looks.clearItem(item)"><i class="fa fa-close" translate="" translate-attr-title="index.core.uix.item.clearIt"></i></div></fli-item></div><fli-welcome ng-if="!looks.items.length"></fli-welcome>'),e.put("components/look/content/facebook/facebook.html",'<div ng-if="fb.user"><fli-item ng-init="fliItem = {\n          small:1,\n          nofill:1,\n          url:fb.user.link,\n          img:fb.img(fb.user.id),\n          title:fb.user.name\n          };\n          fliItemCtrl.href=content.href;"><div class="block"><div layout="row" ng-if="fb.user.category"><div flex="33"><p>Category:</p></div><div flex="66"><p ng-bind="::fb.user.category"></p></div></div><div layout="row" ng-if="fb.user.about"><div flex="33"><p>About:</p></div><div flex="66"><p ng-bind="::fb.user.about"></p></div></div><div layout="row" ng-if="fb.user.description"><div flex="33"><p>Description:</p></div><div flex="66"><p ng-bind="::fb.user.description"></p></div></div><div layout="row" ng-if="fb.user.link"><div class="link" ng-click="link(fb.user.link)"><p ng-bind="::fb.user.link"></p></div></div></div></fli-item></div>'),e.put("components/look/content/full/full.html",'<fli-look-content-rich></fli-look-content-rich><div ng-if="fullCtrl.html"><fli-item class="full" ng-init="fliItem = {\n          small: 1,\n          url: fli.route.url,\n          img:fli.route.img,\n          title:fli.route.input,\n          titleNoFormatting: fli.title,\n          contentNoFormatting: fli.description\n          };\n          fliItemCtrl.href=content.href;\n          fliItemCtrl.share=fullCtrl.share;"><div class="block"><div class="clearfix" fli-bind-compile="fullCtrl.html"></div></div></fli-item></div><fli-look-suggest ng-show="!fli.progress" class="fli-grid" ng-if="site.host"></fli-look-suggest>'),e.put("components/look/content/instagram/instagram.html",'<fli-look-content-instagram-media ng-if="insta.mediaCode"></fli-look-content-instagram-media><fli-look-content-instagram-user ng-if="insta.userName"></fli-look-content-instagram-user>'),e.put("components/look/content/pinterest/pinterest.html",'<fli-look-content-pinterest-user ng-if="pinterest.user"></fli-look-content-pinterest-user><fli-look-content-pinterest-board class="fli-grid" ng-if="pinterest.path.board"></fli-look-content-pinterest-board>'),e.put("components/look/content/vk/vk.html",'<fli-look-content-vk-user ng-if="!!vk.id && vk.user !== \'not\'"></fli-look-content-vk-user><fli-look-content-vk-group ng-if="!!vk.id && vk.user === \'not\'"></fli-look-content-vk-group><fli-look-content-vk-wall class="fli-grid" ng-if="!!vk.ownerId"></fli-look-content-vk-wall><fli-look-content-vk-video ng-if="fli.route.type===\'video\' && fli.route.sub===\'vk\'"></fli-look-content-vk-video>'),e.put("components/look/content/youtube/youtube.html",'<fli-look-content-youtube-watch ng-if="is(site.pathname, \'watch\')"></fli-look-content-youtube-watch><fli-look-content-youtube-user ng-if="is(site.pathname, \'user\')" class="fli-grid"></fli-look-content-youtube-user><fli-look-content-youtube-channel ng-if="is(site.pathname, \'channel\')" class="fli-grid"></fli-look-content-youtube-channel>'),e.put("components/search/chips/type/type.html",'<md-chips ng-hide="fli.route.type" ng-model="::typeCtrl.types" readonly="1"><md-chip-template ng-click="typeCtrl.go($chip.type)"><a fli-href="{{typeCtrl.href($chip.type)}}" translate="search.tabs.{{::$chip.type}}"></a></md-chip-template></md-chips><fli-search-chips-type-sub ng-if="fli.route.type"></fli-search-chips-type-sub>'),e.put("components/search/menu/lucky/lucky.html",'<div class="menu block" layout="row" ng-if="fli.focus"><div flex="" ng-click="lucky.go()" class="link"><i class="fa">#</i> <span translate="search.menu.lucky"></span></div></div>'),e.put("components/search/result/actions/actions.html",'<fli-search-result-actions-twitter class="fli-grid" ng-if="fli.route.sub=== \'twitter\'"></fli-search-result-actions-twitter><fli-search-result-actions-vk class="fli-grid" ng-if="fli.route.sub=== \'vk\'"></fli-search-result-actions-vk>'),e.put("components/search/result/audio/audio.html",'<div class="audio-control"><audio player-control="mediaPlayer" playlist="audio.results" media-player=""></audio><div class="player" ng-include="\'components/search/result/audio/player.html\'"></div></div><div layout="column" layout-align="start center"><div><md-card class="md-whiteframe-z1" layout="column" ng-repeat="item in audio.results" ng-click="mediaPlayer.playPause($index)" ng-class="{active: mediaPlayer.playing && mediaPlayer.currentTrack -1 === $index}"><md-card-content layout="row"><div flex=""><span ng-bind="$index + 1"></span><span>.</span> <span ng-bind-html="item.artist" class="link"></span> <span class="link">-</span> <span ng-bind-html="item.title" class="link"></span></div><div><span ng-bind="item.duration | duration:\'sec\'" class="duration"></span> <span class="link" ng-click="$event.stopPropagation()"><a fli-href="{{item.src}}" download="{{item.artist + \' - \' + item.title}}" target="_blank"><i class="fa fa-download"></i></a></span></div></md-card-content></md-card></div></div>'),e.put("components/search/result/audio/player.html",'<div layout="row" layout-sm="column" layout-align="start center"><div><md-button class="md-icon-button md-primary" ng-click="mediaPlayer.prev()" aria-label="prev"><i class="fa fa-backward"></i></md-button><md-button class="md-icon-button md-primary" ng-click="mediaPlayer.playPause()" aria-label="play"><i class="fa" ng-class="{ \'fa-pause\': mediaPlayer.playing, \'fa-play\': !mediaPlayer.playing }"></i></md-button><md-button class="md-icon-button md-primary" ng-click="mediaPlayer.next()" aria-label="next"><i class="fa fa-forward"></i></md-button></div><div flex="" ng-show="mediaPlayer.playing" class="title"><span ng-bind-html="audio.getTitle(mediaPlayer.currentTrack - 1)"></span></div></div><div ng-show="mediaPlayer.playing" layout="row" layout-align="start center" class="block"><div flex="" class="link" ng-click="mediaPlayer.seek(mediaPlayer.duration * audio.seekPercentage($event))"><md-progress-linear flex="" id="duration" md-mode="determinate" value="{{mediaPlayer.currentTime*100/mediaPlayer.duration}}"></md-progress-linear></div><div class="title" ng-show="mediaPlayer.formatTime"><span ng-bind="mediaPlayer.formatTime"></span></div></div>'),e.put("components/search/result/goods/goods.html",'<fli-search-result-goods-amazon class="fli-grid" ng-if="!fli.route.sub"></fli-search-result-goods-amazon>'),e.put("components/search/result/images/images.html",'<fli-search-result-images-google class="fli-grid" ng-if="fli.route.sub===\'google\'"></fli-search-result-images-google><fli-search-result-images-instagram class="fli-grid" ng-if="fli.route.sub===\'instagram\'"></fli-search-result-images-instagram><fli-search-result-images-twitter class="fli-grid" ng-if="fli.route.sub===\'twitter\'"></fli-search-result-images-twitter>'),e.put("components/search/result/job/job.html","<fli-search-result-job-indeed ng-if=\"fli.route.sub === 'indeed'\"></fli-search-result-job-indeed><fli-search-result-job-linkedin ng-if=\"fli.route.sub === 'linkedin'\"></fli-search-result-job-linkedin>"),e.put("components/search/result/news/news.html",'<fli-search-result-news-google class="fli-grid" ng-if="!fli.route.sub"></fli-search-result-news-google>'),e.put("components/search/result/people/people.html",'<fli-search-result-people-google class="fli-grid" ng-if="fli.route.sub===\'google\'"></fli-search-result-people-google><fli-search-result-people-facebook class="fli-grid" ng-if="fli.route.sub===\'facebook\'"></fli-search-result-people-facebook><fli-search-result-people-vk class="fli-grid" ng-if="fli.route.sub===\'vk\'"></fli-search-result-people-vk><fli-search-result-people-twitter class="fli-grid" ng-if="fli.route.sub===\'twitter\'"></fli-search-result-people-twitter><fli-search-result-people-linkedin class="fli-grid" ng-if="fli.route.sub===\'linkedin\'"></fli-search-result-people-linkedin>'),e.put("components/search/result/promo/promo.html",'<div class="fli-grid"><div ng-repeat="(key, item) in promo.results"><fli-item ng-click="promo.click(key)" title="{{\'index.core.uix.item.getIt\' | translate}}" ng-init="fliItem = {\n          transclude:\'footer\',\n          img:item.img,\n          title:item.title,\n          content: item.content\n          };"><div layout="row"><div class="fa fa-mouse-pointer link" ng-if="item.action === \'click\'"></div><div class="color-8 link"><span>+</span> <span ng-bind="item.price"></span> <i class="fa fa-eye"></i></div></div></fli-item></div></div>'),e.put("components/search/result/video/video.html",'<fli-search-result-video-google class="fli-grid" ng-if="fli.route.sub===\'youtube\'"></fli-search-result-video-google><fli-search-result-video-vk class="fli-grid" ng-if="fli.route.sub===\'vk\'"></fli-search-result-video-vk>'),e.put("components/search/result/web/web.html",'<fli-search-result-web-google class="fli-grid" ng-if="fli.route.sub === \'google\'"></fli-search-result-web-google><fli-search-result-web-facebook class="fli-grid" ng-if="fli.route.sub === \'facebook\'"></fli-search-result-web-facebook><fli-search-result-web-vk class="fli-grid" ng-if="fli.route.sub === \'vk\'"></fli-search-result-web-vk><fli-search-result-web-pinterest class="fli-grid" ng-if="fli.route.sub === \'pinterest\'"></fli-search-result-web-pinterest><fli-search-result-web-linkedin class="fli-grid" ng-if="fli.route.sub === \'linkedin\'"></fli-search-result-web-linkedin>'),e.put("components/show/item/form/form.html",'<div class="block color-8"><div class="block" layout="row"><md-input-container ng-init="showItem.post.price=1" class="input"><label><span translate="show.item.form.price"></span> <i class="fa fa-eye link"></i></label> <input ng-model="showItem.post.price" min="1" type="number"></md-input-container><div class="block"><span translate="show.item.form.per"></span></div><md-input-container><label translate="show.item.form.action"></label><md-select ng-model="showItem.post.action"><md-option value="click" selected="selected"><span translate="show.item.form.click"></span></md-option><md-option value="share" disabled=""><span translate="show.item.form.share"></span></md-option><md-option value="like" disabled=""><span translate="show.item.form.like"></span></md-option></md-select></md-input-container></div><div class="block" layout="row"><md-input-container class="input" ng-init="showItem.post.amount=1"><label translate="show.item.form.amount"></label> <input ng-model="showItem.post.amount" min="1" type="number"></md-input-container><div class="block"><span>=</span></div><md-input-container class="input"><label><span translate="show.item.form.total"></span> <i class="fa fa-eye link"></i></label> <input value="{{showItemForm.total()}}" max="{{fli.user.get(\'looks\')}}" disabled=""></md-input-container></div><div class="block" layout="row" layout-align="end start"><md-button class="md-fab md-primary" aria-label="show" ng-disabled="!showItemForm.shareEnabled()" ng-click="showItemForm.show()"><i class="fa fa-share"></i></md-button></div></div>'),e.put("components/show/item/link/link.html",'<div class="block"><div ng-if="showItem.post"><fli-item-edit url="showItem.post.url" img="showItem.post.img" name="showItem.post.title" content="showItem.post.content"></fli-item-edit></div></div>'),e.put("components/uix/input/menu/menu.html",'<div layout="column" flex=""><div flex="" class="menu block" layout="row" ng-repeat="item in menuCtrl.items" ng-if="input.action !== item.action"><a flex="" fli-href="{{item.href}}"><i class="fa fa-{{item.icon}}"></i> <span ng-bind="item.name | translate"></span></a></div></div>'),e.put("components/uix/item/edit/edit.html",'<md-card class="fli-item" ng-class="{small:!!fliItemCtrl.small}" layout="column" ng-if="fliItemCtrl"><md-card-content><div ng-if="!fliItemCtrl.imgEdit" class="link" ng-click="fliItemCtrl.imgToggle()" layout="column" layout-align="center center"><img class="md-card-image" ng-if="fliItemCtrl.img" ng-src="{{fliItemCtrl.img}}" fli-item-img="" fli-err=""></div><div class="block"><md-input-container ng-if="!fliItemCtrl.img || fliItemCtrl.imgEdit"><label translate="index.core.uix.item.edit.image"></label> <input ng-model="fliItemCtrl.img" ng-blur="fliItemCtrl.imgToggle()" type="url" required=""></md-input-container><md-input-container layout="column"><label translate="index.core.uix.item.edit.title"></label> <textarea ng-model="fliItemCtrl.name" md-maxlength="100" required=""></textarea></md-input-container><md-input-container layout="column"><label translate="index.core.uix.item.edit.content"></label> <textarea md-no-autogrow="true" ng-model="fliItemCtrl.content" md-maxlength="300" required=""></textarea></md-input-container></div></md-card-content><md-card-footer layout="row" layout-align="end center"></md-card-footer></md-card>'),e.put("components/uix/locale/panel/panel.html",'<div layout="row" layout-align="center center" layout-wrap="" class="block border"><a ng-class="::{active:locale.code===fli.route.l}" fli-href="{{::localePanel.href(locale.code)}}" class="link md-icon-button md-button" ng-repeat="locale in ::localePanel.locales" aria-label="locale" ng-bind="::locale.code"></a></div>'),e.put("components/views/setting/auth/auth.html",'<div layout="row" layout-align="center center" ng-if="!fli.user"><md-button class="md-fab md-primary link" aria-label="google" ng-click="auth.logIn(\'google\')"><i class="fa fa-google"></i></md-button><md-button class="md-fab md-primary link" aria-label="facebook" ng-click="auth.logIn(\'facebook\')"><i class="fa fa-facebook"></i></md-button></div><div layout="row" layout-align="end center" ng-if="fli.user"><div flex="" layout="column" layout-align="center center"><img ng-src="{{::fli.user.authData[fli.user.authData.provider].profileImageURL}}" fli-err="" class="circle"></div><md-button class="md-icon-button link" aria-label="fb-logout" ng-click="auth.logOut()"><i class="fa fa-sign-out fa-2x"></i></md-button></div>'),e.put("components/views/setting/user/user.html",'<div layout="column" layout-align="center start" ng-if="fli.user"><div layout="row" layout-align="start center"><div><i class="fa fa-user link"></i></div><div class="block" ng-bind="::fli.user.authData[fli.user.authData.provider].displayName"></div></div><div layout="row" layout-align="start center"><div><i class="fa fa-eye link"></i></div><div class="block" ng-bind="fli.user.looks"></div></div></div>'),e.put("components/look/content/full/rich/rich.html",'<div ng-if="richCtrl.item && richCtrl.item.title"><fli-item ng-init="fliItem = {\n          small:1,\n          nofill:1,\n          url:richCtrl.item.url,\n          img:richCtrl.item.img,\n          title:richCtrl.item.title,\n          content:richCtrl.item.content\n          };"></fli-item></div>'),e.put("components/look/content/instagram/media/media.html",'<div ng-if="instaMedia.item"><fli-item ng-init="fliItem = {\n          url:instaMedia.item.link,\n          img:instaMedia.item.images.standard_resolution.url,\n          title:instaMedia.item.tags[0],\n          content:instaMedia.item.caption.text\n          };\n          fliItemCtrl.href=content.href;"></fli-item></div>'),e.put("components/look/content/instagram/user/user.html",'<div ng-if="instaUser.item"><fli-item ng-init="fliItem = {\n          small:1,\n          nofill:1,\n          url:fli.route.url,\n          img:instaUser.item.profile_picture,\n          title:instaUser.item.full_name,\n          content:instaUser.item.username\n          };\n          fliItemCtrl.href=content.href;"><div class="block"><div layout="row" ng-if="instaUser.item.website"><div class="link" ng-click="link(instaUser.item.website)"><p ng-bind="::instaUser.item.website"></p></div></div></div></fli-item><fli-search-result-images-instagram class="fli-grid" ng-init="imgInsta.userId=instaUser.item.id;"></fli-search-result-images-instagram></div>'),e.put("components/look/content/pinterest/board/board.html",'<fli-item ng-repeat="item in pintBoard.pins" ng-init="fliItem = {\n          url:item.link,\n          img:item.images[\'237x\'].url,\n          title:item.domain,\n          content:item.description\n          };\n          fliItemCtrl.href=pintBoard.href;"></fli-item>'),e.put("components/look/content/vk/group/group.html",'<div ng-if="vk.group"><fli-item ng-init="fliItem = {\n          small:1,\n          nofill:1,\n          url:fli.route.url,\n          img:vk.group.photo_200,\n          title:vk.group.name,\n          content:vk.group.screen_name\n          };"><div class="block"><div layout="row" ng-if="vk.group.status"><div flex="33"><p>Status:</p></div><div flex="66"><p ng-bind="::vk.group.status"></p></div></div><div layout="row" ng-if="vk.group.home_town"><div flex="33"><p>Hometown:</p></div><div flex="66"><p ng-bind="::vk.group.home_town"></p></div></div></div></fli-item></div>'),e.put("components/look/content/pinterest/user/user.html",'<fli-item ng-init="fliItem = {\n          small: 1,\n          nofill:1,\n          url:pinterest.user.profile_url,\n          img:pinterest.user.image_small_url,\n          title:pinterest.user.full_name,\n          content:pinterest.user.about\n          };"></fli-item>'),e.put("components/look/content/vk/user/user.html",'<div ng-if="vk.user"><fli-item ng-init="fliItem = {\n          small: 1,\n          nofill:1,\n          url:fli.route.url,\n          img:vk.user.photo_200,\n          title:vk.user.first_name + \' \' + vk.user.last_name,\n          content:vk.user.uid\n          };"><div class="block"><div layout="row" ng-if="vk.user.status"><div flex="33"><p>Status:</p></div><div flex="66"><p ng-bind="::vk.user.status"></p></div></div><div layout="row" ng-if="vk.user.home_town"><div flex="33"><p>Hometown:</p></div><div flex="66"><p ng-bind="::vk.user.home_town"></p></div></div></div></fli-item></div>'),e.put("components/look/content/vk/video/video.html",'<md-whiteframe class="md-whiteframe-z1" layout="column"><iframe ng-if="fli.platform!==\'chrome\'" ng-src="{{vkCtrl.watch()}}" frameborder="0" allowfullscreen=""></iframe><webview ng-if="fli.platform===\'chrome\'" src="{{vkCtrl.watch()}}"></webview></md-whiteframe>'),e.put("components/look/content/vk/wall/wall.html",'<div ng-if="::result.attachment || result.text" ng-repeat="result in ::vkWall.results"><fli-item ng-init="fliItem = {\n          url:fli.route.url,\n          img:result.attachment.photo.src_big || result.attachment.doc.thumb,\n          title:result.post_type,\n          content: result.text\n          };\n          fliItemCtrl.href=content.href;"></fli-item></div>'),e.put("components/look/content/youtube/channel/channel.html",'<fli-item ng-repeat="result in ::ytbChannel.results" ng-init="fliItem = {\n          url:decode(ytb.watchUrl(result.id.videoId)),\n          img:result.snippet.thumbnails.medium.url,\n          title:result.snippet.title,\n          content:result.snippet.description\n          };\n          fliItemCtrl.href=ytb.href;"></fli-item>'),e.put("components/look/content/youtube/user/user.html",'<fli-item ng-repeat="result in ::ytbUser.results" ng-init="fliItem = {\n          url:decode(ytb.watchUrl(result.id.videoId)),\n          img:result.snippet.thumbnails.medium.url,\n          title:result.snippet.title,\n          content:result.snippet.description\n          };\n          fliItemCtrl.href=ytb.href;"></fli-item>'),e.put("components/look/content/youtube/watch/watch.html",'<md-whiteframe class="md-whiteframe-z1" layout="column"><iframe ng-if="fli.platform!==\'chrome\'" ng-src="{{watchCtrl.watch()}}" frameborder="0" allowfullscreen=""></iframe><webview ng-if="fli.platform===\'chrome\'" src="{{watchCtrl.watch()}}"></webview></md-whiteframe>'),e.put("components/search/chips/type/sub/sub.html",'<md-chips ng-hide="fli.route.sub" ng-model="::subCtrl.subs[fli.route.type]" readonly="1"><md-chip-template ng-click="subCtrl.go($chip.sub)"><a fli-href="{{subCtrl.href($chip.sub)}}" ng-bind="::$chip.sub"></a></md-chip-template></md-chips><fli-search-chips-type-sub-url ng-if="fli.route.sub"></fli-search-chips-type-sub-url>'),e.put("components/search/result/actions/twitter/twitter.html",'<fli-item ng-repeat="item in twitter.search" ng-init="fliItem = {\n          url:twitter.link(item.user.screen_name),\n          img:item.user.profile_image_url,\n          title:item.user.name|| item.user.screen_name,\n          content: item.text,\n          searchInput: item.entities.hashtags[0].text\n          };\n          fliItemCtrl.href=result.href;\n          fliItemCtrl.search=result.search;"></fli-item>'),e.put("components/search/result/actions/vk/vk.html",'<div ng-repeat="item in vk.actions" ng-if="item.text"><fli-item ng-init="fliItem = {\n          url:vk.link(item.user.screen_name || item.group.screen_name),\n          img:item.user.photo || item.group.photo,\n          title:item.group.name || item.user.first_name + \' \' + item.user.last_name,\n          content: item.text\n          };"></fli-item></div>'),e.put("components/search/result/goods/amazon/amazon.html",'<md-card class="fli-item" layout="column" ng-repeat="item in amazon.search.Item"><md-card-content><div class="img" ng-click="link(decode(item.DetailPageURL[0]))"><img class="md-card-image" ng-if="!!item.MediumImage[0].URL[0]" ng-src="{{item.MediumImage[0].URL[0]}}" title="{{\'Look it - \'+ item.ItemAttributes[0].Title[0]}}" alt="{{item.ItemAttributes[0].Title[0]}}" fli-item-img="" fli-err=""><div class="md-card-image header" ng-if="!item.MediumImage[0].URL[0]" title="{{\'Look it - \'+ item.ItemAttributes[0].Title[0]}}"></div></div><div class="block"><div ng-click="link(decode(item.DetailPageURL[0]))" class="link underline" ng-bind-html="item.ItemAttributes[0].Title[0]"></div></div></md-card-content><md-card-footer layout="row" layout-align="end center"><div class="link" ng-click="result.share(decode(item.DetailPageURL[0]), {\n          url:decode(item.DetailPageURL[0]),\n          img:item.MediumImage[0].URL[0],\n          title:item.ItemAttributes[0].Title[0]\n          })" title="{{\'Share - \'+ item.ItemAttributes[0].Title[0]}}"><i class="fa fa-share-alt"></i></div><div class="link" ng-click="link(decode(item.DetailPageURL[0]))" title="{{\'Go to - \'+ item.ItemAttributes[0].Title[0]}}"><span ng-if="item.OfferSummary[0].LowestNewPrice[0].FormattedPrice[0]" ng-bind="item.OfferSummary[0].LowestNewPrice[0].FormattedPrice[0]"></span> <i class="fa fa-cart-plus"></i></div></md-card-footer></md-card>'),e.put("components/search/result/goods/yandex/yandex.html",'<div layout="row" layout-align="end center"><div flex-sm="100" flex-gt-sm="60" flex-gt-md="30" flex-gt-lg="50" layout="column" layout-align="center center"><a class="link" ng-click="link(\'http://market.yandex.com\')">Данные Яндекс.Маркета</a></div></div><div class="fli-grid"><md-card class="fli-item" layout="column" ng-repeat="item in ya.search.searchResult.results" ng-if="item.offer"><md-card-content><div class="img" ng-click="link(item.offer.url)"><img class="md-card-image" ng-if="!!item.offer.bigPhoto.url" ng-src="{{item.offer.bigPhoto.url}}" title="{{\'Look it - \'+ item.offer.name}}" alt="{{item.offer.name}}" fli-item-img="" fli-err=""><div class="md-card-image header" ng-if="!item.offer.bigPhoto.url" title="{{\'Look it - \'+ item.offer.name}}"></div></div><div class="block"><div ng-click="link(item.offer.url)" class="link underline" ng-bind-html="item.offer.name"></div><div class="info" ng-if="item.offer.shopInfo"><div ng-click="link(item.offer.url)" class="shopName link" ng-bind-html="item.offer.shopInfo.name"></div><div><fli-rating ng-model="item.offer.shopInfo.rating"></fli-rating><i class="fa fa-comments-o icon"></i> <span ng-bind="item.offer.shopInfo.gradeTotal"></span></div></div><div flex="" ng-bind-html="item.offer.description"></div><div class="info" ng-if="item.offer.delivery"><i class="fa fa-bus icon"></i> <span ng-if="item.offer.delivery.free">Free</span> <span ng-bind-html="item.offer.delivery.brief"></span></div><div class="info" ng-if="item.offer.phone"><i class="fa fa-phone icon"></i> <span ng-bind-html="item.offer.phone.number"></span></div></div></md-card-content><md-card-footer layout="row" layout-align="end center"><div class="link" ng-click="result.share(item.offer.url, {\n          url:item.offer.url,\n          img:item.offer.bigPhoto.url,\n          title:item.offer.name,\n          content:item.offer.description\n          })" title="{{\'Share - \'+ item.offer.name}}"><i class="fa fa-share-alt"></i></div><div class="link" ng-click="link(item.offer.url)" title="{{\'Go to - \'+ item.offer.name || fli.route.input}}"><span ng-if="item.offer.price" ng-bind="item.offer.price.value + \' \' + item.offer.price.currencyCode"></span> <i class="fa fa-cart-plus"></i></div></md-card-footer></md-card></div>'),e.put("components/search/result/images/google/google.html",'<fli-item ng-repeat="item in imgGoogle.search.results" ng-init="fliItem = {\n          url:item.originalContextUrl,\n          img:item.url,\n          title:item.title,\n          titleNoFormatting:item.titleNoFormatting,\n          content:item.content,\n          contentNoFormatting: item.contentNoFormatting,\n          transclude:\'footer\'\n          };\n          fliItemCtrl.href=result.href;\n          fliItemCtrl.share=result.share;"><div class="link" ng-click="link(item.url)"><i class="fa fa-file-image-o" translate="" translate-attr-title="index.core.uix.item.getIt"></i></div></fli-item>'),e.put("components/search/result/images/instagram/instagram.html",'<fli-item ng-repeat="item in imgInsta.items" ng-init="fliItem = {\n          url:item.link,\n          img:item.images.standard_resolution.url,\n          content:item.caption.text,\n          searchInput: item.tags[0],\n          transclude:\'footer\'\n          };\n          fliItemCtrl.href=imgInsta.href;\n          fliItemCtrl.share=imgInsta.share;\n          fliItemCtrl.search=imgInsta.search;"><div class="link" ng-click="link(item.images.standard_resolution.url)"><i class="fa fa-file-image-o" translate="" translate-attr-title="index.core.uix.item.getIt"></i></div></fli-item>'),e.put("components/search/result/images/twitter/twitter.html",'<div ng-repeat="item in twitter.search" ng-if="item.entities.media[0].type===\'photo\'"><fli-item ng-init="fliItem = {\n          url:twitter.link(item.user.screen_name),\n          img:item.entities.media[0].media_url,\n          title:item.user.name|| item.user.screen_name,\n          content: item.text,\n          searchInput: item.entities.hashtags[0].text,\n          transclude:\'footer\'\n          };\n          fliItemCtrl.href=result.href;\n          fliItemCtrl.share=result.share;\n          fliItemCtrl.search=result.search;"><div class="link" ng-click="link(item.entities.media[0].media_url)"><i class="fa fa-file-image-o" translate="" translate-attr-title="index.core.uix.item.getIt"></i></div></fli-item></div>'),e.put("components/search/result/job/indeed/indeed.html",'<fli-item ng-repeat="item in indeed.results" ng-init="fliItem = {\n          small:1,\n          url:item.url,\n          img:item.img,\n          title:item.title,\n          content:item.content\n          };"><div class="block color-8"><div ng-bind="item.company"></div></div></fli-item>'),e.put("components/search/result/job/linkedin/linkedin.html",'<fli-item ng-repeat="item in linkedin.jobs" ng-init="fliItem = {\n          url:item.url,\n          img:item.img,\n          title:item.title,\n          content:item.content\n          };"><div class="block color-8"><div ng-bind="item.company"></div></div></fli-item>'),e.put("components/search/result/news/google/google.html",'<fli-item ng-repeat="item in newsGoogle.items" ng-init="fliItem = {\n          small:1,\n          url:item.url,\n          img:item.img,\n          title:item.titleText,\n          content:item.text\n          };\n          fliItemCtrl.href=newsGoogle.href;\n          fliItemCtrl.share=newsGoogle.share;\n          fliItemCtrl.search=newsGoogle.search;"></fli-item>'),e.put("components/search/result/people/facebook/facebook.html",'<fli-item ng-repeat="item in fb.people" ng-init="fliItem = {\n          url:fb.link(item.id),\n          img:fb.img(item.id),\n          title:item.name,\n          content: item.about || item.gender\n          };"></fli-item>'),e.put("components/search/result/people/google/google.html",'<fli-item ng-repeat="item in peopleGoogle.people.items" ng-init="fliItem = {\n          url:item.url,\n          img:item.image.url,\n          title:item.displayName,\n          content: item.aboutMe || item.gender\n          };"></fli-item>'),e.put("components/search/result/people/linkedin/linkedin.html",'<fli-item ng-repeat="item in linkedin.people" ng-init="fliItem = {\n          url:item.url,\n          img:item.img,\n          title:item.title,\n          content:item.content\n          };"></fli-item>'),e.put("components/search/result/people/twitter/twitter.html",'<fli-item ng-repeat="item in twitter.search" ng-init="fliItem = {\n          url:twitter.link(item.screen_name),\n          img:item.profile_image_url,\n          title:item.name|| item.screen_name,\n          content: item.description || item.status.text\n          };"></fli-item>'),e.put("components/search/result/people/vk/vk.html",'<fli-item ng-repeat="item in vk.people" ng-init="fliItem = {\n          url:vk.link(item.domain),\n          img:item.photo_200,\n          title:item.first_name + \' \' + item.last_name,\n          content: item.about || item.status\n          };"></fli-item>'),e.put("components/search/result/video/google/google.html",'<fli-item ng-repeat="item in videoGoogle.items" ng-init="fliItem = {\n          url:videoGoogle.watchUrl(item.id.videoId),\n          img:item.snippet.thumbnails.default.url,\n          title:item.snippet.title,\n          content:item.snippet.description\n          };\n          fliItemCtrl.href=result.href;\n          fliItemCtrl.share=result.share;"></fli-item>'),e.put("components/search/result/video/vk/vk.html",'<fli-item ng-repeat="item in vk.results" ng-init="fliItem = {\n          url:item.player,\n          img:item.image_medium || item.thumb,\n          title:item.title,\n          content:item.description\n          };\n          fliItemCtrl.href=result.href;\n          fliItemCtrl.share=result.share;"></fli-item>'),e.put("components/search/result/web/facebook/facebook.html",'<fli-item ng-repeat="item in fb.results" ng-init="fliItem = {\n          url:fb.link(item.id),\n          img:fb.img(item.id, \'large\'),\n          title:item.name,\n          content:item.category\n          };\n          fliItemCtrl.href=result.href;\n          fliItemCtrl.share=result.share;"></fli-item>'),e.put("components/search/result/web/google/google.html",'<div ng-if="fli.route.input"><fli-item ng-repeat="item in google.search.results" ng-init="fliItem = {\n          url:item.url,\n          img:item.richSnippet.cseImage.src,\n          title:item.title,\n          titleNoFormatting:item.titleNoFormatting,\n          content: item.content,\n          contentNoFormatting: item.contentNoFormatting\n          };\n          fliItemCtrl.href=result.href;\n          fliItemCtrl.share=result.share;"></fli-item></div><fli-search-result-web-google-trends ng-if="!fli.route.input"></fli-search-result-web-google-trends>'),e.put("components/search/result/web/linkedin/linkedin.html",'<fli-item ng-repeat="item in linkedin.posts" ng-init="fliItem = {\n          url:item.url,\n          img:item.img,\n          title:item.title,\n          content:item.content\n          };\n          fliItemCtrl.href=linkedin.href;\n          fliItemCtrl.share=linkedin.share;"></fli-item>'),e.put("components/search/result/web/vk/vk.html",'<fli-item ng-repeat="item in vk.results" ng-init="fliItem = {\n          url:vk.link(item.screen_name),\n          img:item.photo_big,\n          title:item.name\n          };\n          fliItemCtrl.href=result.href;\n          fliItemCtrl.share=result.share;"></fli-item>'),e.put("components/search/result/web/pinterest/pinterest.html",'<fli-item ng-repeat="item in pinterest.pins" ng-init="fliItem = {\n          url:item.url,\n          img:item.img,\n          title:item.title,\n          content:item.content\n          };\n          fliItemCtrl.href=pinterest.href;\n          fliItemCtrl.share=pinterest.share;"><a class="board block link" layout="row" fli-href="{{pinterest.board(item.board)}}"><img ng-src="{{item.board.img}}"><div><div ng-bind="item.board.name"></div><div class="color-8" translate="search.pinterest.board"></div></div></a></fli-item>'),e.put("components/search/result/web/google/trends/trends.html",'<fli-item ng-repeat="item in hotTrends.items" ng-init="fliItem = {\n          small:1,\n          url:item.url,\n          img:item.img,\n          title:item.title,\n          content: item.text,\n          searchInput:item.title,\n          };\n          fliItemCtrl.href=hotTrends.href;\n          fliItemCtrl.share=hotTrends.share;\n          fliItemCtrl.search=hotTrends.search;"></fli-item>')
}]);