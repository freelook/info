<div class="audio-control" layout="row" layout-align="start center">
  <audio player-control="mediaPlayer" playlist="audio.results" media-player></audio>
  <md-button class="md-icon-button md-primary" ng-click="mediaPlayer.playPause()" aria-label="play">
    <i class="fa" ng-class="{ 'fa-pause': mediaPlayer.playing, 'fa-play': !mediaPlayer.playing }"></i>
  </md-button>
  <md-button class="md-icon-button md-primary" ng-click="mediaPlayer.prev()" aria-label="prev">
    <i class="fa fa-backward"></i>
  </md-button>
  <md-button class="md-icon-button md-primary" ng-click="mediaPlayer.next()" aria-label="next">
    <i class="fa fa-forward"></i>
  </md-button>
  <div ng-show="mediaPlayer.playing" class="title">
    <span ng-bind-html="audio.getTitle(mediaPlayer.currentTrack - 1)"></span>
  </div>
</div>

<div layout="row" layout-align="center start" layout-wrap>
  <md-card class="md-whiteframe-z1" flex="90" layout="column" ng-repeat="item in audio.results"
           ng-click="mediaPlayer.playPause($index)"
           ng-class="{active: mediaPlayer.playing && mediaPlayer.currentTrack -1 === $index}">
    <md-card-content layout="row">
      <div flex>
        <span ng-bind="$index + 1"></span><span>.</span>
        <span ng-bind-html="item.artist" class="link"></span>
        <span class="link"> - </span>
        <span ng-bind-html="item.title" class="link"></span>
      </div>
      <div>
        <span ng-bind="item.duration | duration:'sec'" class="duration"></span>
        <span class="link" ng-click="$event.stopPropagation()">
          <a ng-href="{{item.src}}" download="{{item.artist + ' - ' + item.title}}" target="_blank">
            <i class="fa fa-download"></i>
          </a>
        </span>
      </div>
    </md-card-content>
  </md-card>
</div>
