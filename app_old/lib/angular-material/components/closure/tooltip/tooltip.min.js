/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v0.5.1-master-4f755ea
 */
goog.provide('ng.material.components.tooltip');
goog.require('ng.material.core');
(function(){function e(k,h,l,e,q,r){var s=angular.element(document.body);return{restrict:"E",transclude:!0,require:"^?mdContent",template:'<div class="md-background"></div><div class="md-content" ng-transclude></div>',scope:{visible:"=?mdVisible"},link:function(b,a,t,m){function c(a){c.value=!!a;c.queued||(a?(c.queued=!0,k(function(){b.visible=c.value;c.queued=!1},400)):k(function(){b.visible=!1}))}function u(){a.removeClass("md-hide");f.attr("aria-describedby",a.attr("id"));s.append(a);l(function(){l(function(){n();
b.visible&&a.addClass("md-show")})})}function v(){a.removeClass("md-show").addClass("md-hide");f.removeAttr("aria-describedby");k(function(){b.visible||a.detach()},200,!1)}function n(){var b=a[0].getBoundingClientRect(),d=f[0].getBoundingClientRect();m&&(d.top+=m.$element.prop("scrollTop"),d.left+=m.$element.prop("scrollLeft"));var c="bottom",g=d.left+d.width/2-b.width/2,e=d.top+d.height,g=Math.min(g,h.innerWidth-b.width-8),g=Math.max(g,8);e+b.height>h.innerHeight&&(e=d.top-b.height,c="top");a.css({top:e+
"px",left:g+"px"});a.attr("width-32",Math.ceil(b.width/32));a.attr("md-direction",c)}r(a);var f=a.parent();a.detach();a.attr("role","tooltip");a.attr("id",t.id||"tooltip_"+q.nextUid());f.on("focus mouseenter touchstart",function(){c(!0)});f.on("blur mouseleave touchend touchcancel",function(){e.activeElement!==f[0]&&c(!1)});b.$watch("visible",function(a){a?u():v()});var p=l.debounce(function(){b.visible&&n()});angular.element(h).on("resize",p);b.$on("$destroy",function(){b.visible=!1;a.remove();angular.element(h).off("resize",
p)})}}}angular.module("material.components.tooltip",["material.core"]).directive("mdTooltip",e);e.$inject="$timeout $window $$rAF $document $mdUtil $mdTheming".split(" ")})();
