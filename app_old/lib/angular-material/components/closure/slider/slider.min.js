/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v0.5.1-master-4f755ea
 */
goog.provide('ng.material.components.slider');
goog.require('ng.material.core');
(function(){function r(e){return{scope:{},require:["?ngModel","mdSlider"],controller:s,template:'<div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div>',link:function(b,c,w,p){e(c);
p[1].init(p[0]||{$setViewValue:function(b){this.$viewValue=b;this.$viewChangeListeners.forEach(function(b){b()})},$parsers:[],$formatters:[],$viewChangeListeners:[]})}}}function s(e,b,c,w,p,r,s,x){this.init=function(d){function E(){t();y();F()}function G(a){f=parseFloat(a);b.attr("aria-valuemin",a)}function H(a){h=parseFloat(a);b.attr("aria-valuemax",a)}function I(a){k=parseFloat(a);F()}function P(a){b.attr("aria-disabled",!!a)}function F(){if(angular.isDefined(c.mdDiscrete)){var a=Math.floor((h-
f)/k);l||(l=angular.element('<canvas style="position:absolute;">'),z=l[0].getContext("2d"),z.fillStyle="black",Q.append(l));var b=J();l[0].width=b.width;l[0].height=b.height;for(var d,e=0;e<=a;e++)d=Math.floor(e/a*b.width),z.fillRect(d-1,0,2,b.height)}}function t(){u=R[0].getBoundingClientRect()}function J(){S();return u}function y(){isNaN(d.$viewValue)&&(d.$viewValue=d.$modelValue);var a=(d.$viewValue-f)/(h-f);e.modelValue=d.$viewValue;b.attr("aria-valuenow",d.$viewValue);A(a)}function m(a){if(angular.isNumber(a))return Math.max(f,
Math.min(h,a))}function n(a){if(angular.isNumber(a))return Math.round(a/k)*k}function A(a){T.css("width",100*a+"%");U.css(x.CSS.TRANSFORM,"translate3d("+J().width*a+"px,0,0)");b.toggleClass("md-min",0===a)}function K(a){g||a.eventType!==Hammer.INPUT_START||b[0].hasAttribute("disabled")?g&&a.eventType===Hammer.INPUT_END&&(g&&C&&L(a),g=!1,b.removeClass("panning active")):(g=!0,b.addClass("active"),b[0].focus(),t(),B(a),a.srcEvent.stopPropagation())}function M(){g&&b.addClass("panning")}function B(a){if(g){if(C){var b=
a.center.x,d=D(v(b)),d=m(n(d));A(v(b));V.text(d)}else W(a.center.x);a.preventDefault();a.srcEvent.stopPropagation()}}function L(a){if(C&&!b[0].hasAttribute("disabled")){var c=D(v(a.center.x)),e=m(n(c));A((e-f)/(h-f));w(function(){d.$setViewValue(m(n(e)))});a.preventDefault();a.srcEvent.stopPropagation()}}function W(a){e.$evalAsync(function(){var b=D(v(a));d.$setViewValue(m(n(b)))})}function v(a){return Math.max(0,Math.min(1,(a-u.left)/u.width))}function D(a){return f+a*(h-f)}var X=angular.element(b[0].querySelector(".md-thumb")),
V=angular.element(b[0].querySelector(".md-thumb-text")),U=X.parent(),R=angular.element(b[0].querySelector(".md-track-container")),T=angular.element(b[0].querySelector(".md-track-fill")),Q=angular.element(b[0].querySelector(".md-track-ticks")),S=s.throttle(t,5E3);c.min?c.$observe("min",G):G(0);c.max?c.$observe("max",H):H(100);c.step?c.$observe("step",I):I(1);var N=angular.noop;c.ngDisabled&&(N=e.$parent.$watch(c.ngDisabled,P));r.expect(b,"aria-label");b.attr("tabIndex",0);b.attr("role","slider");b.on("keydown",
function(a){if(!b[0].hasAttribute("disabled")){var c;a.keyCode===x.KEY_CODE.LEFT_ARROW?c=-k:a.keyCode===x.KEY_CODE.RIGHT_ARROW&&(c=k);if(c){if(a.metaKey||a.ctrlKey||a.altKey)c*=4;a.preventDefault();a.stopPropagation();e.$evalAsync(function(){d.$setViewValue(m(n(d.$viewValue+c)))})}}});var q=new Hammer(b[0],{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_HORIZONTAL}]]});q.on("hammer.input",K);q.on("panstart",M);q.on("pan",B);q.on("panend",L);setTimeout(E);var O=w.debounce(E);angular.element(p).on("resize",
O);e.$on("$destroy",function(){angular.element(p).off("resize",O);q.destroy();N()});d.$render=y;d.$viewChangeListeners.push(y);d.$formatters.push(m);d.$formatters.push(n);var f,h,k,l,z,u={};t();var g=!1,C=angular.isDefined(c.mdDiscrete);this._onInput=K;this._onPanStart=M;this._onPan=B}}angular.module("material.components.slider",["material.core"]).directive("mdSlider",r);r.$inject=["$mdTheming"];s.$inject="$scope $element $attrs $$rAF $window $mdAria $mdUtil $mdConstant".split(" ")})();
